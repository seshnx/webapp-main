# ============================================
# Neon + Clerk + Convex + Vercel Blob Configuration
# SeshNx Application - Complete Environment Variables
# ============================================
#
# This file contains all the environment variables needed for the
# new architecture:
# - Neon PostgreSQL (database)
# - Clerk (authentication)
# - Convex (real-time features)
# - Vercel Blob (file storage)
#
# Instructions:
# 1. Copy this file to .env.local for local development
# 2. Replace the placeholder values with your actual credentials
# 3. NEVER commit .env.local to version control
# 4. Add these variables to your hosting platform (Vercel, etc.)
#
# ============================================

# ============================================
# REMOVE THESE OLD VARIABLES (Supabase)
# ============================================
# VITE_SUPABASE_URL=
# VITE_SUPABASE_ANON_KEY=

# ============================================
# REMOVE THESE OLD VARIABLES (AWS)
# ============================================
# VITE_AWS_REGION=
# VITE_AWS_ACCESS_KEY_ID=
# VITE_AWS_SECRET_ACCESS_KEY=
# VITE_AURORA_CLUSTER_ARN=
# VITE_AURORA_DATABASE=
# VITE_AURORA_SECRET_ARN=
# VITE_DYNAMODB_*_TABLE=
# VITE_S3_*_BUCKET=
# VITE_APPSYNC_API_URL=
# VITE_APPSYNC_REALTIME_URL=
# VITE_APPSYNC_API_KEY=

# ============================================
# NEON POSTGRESQL CONFIGURATION
# ============================================

# Neon Database Connection String
# Get from: Neon Console → Your Project → Connection Details
# Format: postgresql://user:password@ep-xxx.region.aws.neon.tech/database?sslmode=require
# IMPORTANT: Use the connection string with "pooler" for better performance
VITE_NEON_DATABASE_URL=postgresql://username:password@ep-xxx.us-east-2.aws.neon.tech/seshnx_db?sslmode=require

# Optional: Neon Pooler URL (for serverless/edge functions)
# Get from: Neon Console → Connection Details → Pooled connection
# VITE_NEON_POOLER_URL=postgresql://username:password@ep-xxx.pooler.region.aws.neon.tech/database?sslmode=require

# ============================================
# CLERK AUTHENTICATION CONFIGURATION
# ============================================

# Clerk Publishable Key (Frontend)
# Safe to expose in the browser
# Get from: Clerk Dashboard → API Keys → Publishable Key
# Format: pk_test_... (test) or pk_live_... (production)
VITE_CLERK_PUBLISHABLE_KEY=pk_test_...

# Clerk Secret Key (Backend/Server-side only)
# NEVER commit this to version control or expose in frontend code
# Get from: Clerk Dashboard → API Keys → Secret Key
# Format: sk_test_... (test) or sk_live_... (production)
# This should only be used in server-side code/API routes
VITE_CLERK_SECRET_KEY=sk_test_...

# ============================================
# CONVEX REAL-TIME CONFIGURATION
# ============================================

# Convex Deployment URL
# Get from: Convex Dashboard → Your Project → Settings
# Format: https://your-convex-deployment.convex.cloud
VITE_CONVEX_URL=https://your-convex-deployment.convex.cloud

# Convex Deploy Key (for CI/CD only)
# Not needed for frontend, only for deployment scripts
# Get from: Convex Dashboard → Your Project → Settings → Deployment Key
CONVEX_DEPLOY_KEY=your-convex-deploy-key

# ============================================
# VERCEL BLOB STORAGE CONFIGURATION
# ============================================

# Vercel Blob Read/Write Token
# This is AUTOMATICALLY set in Vercel deployments
# For local development, run: vercel link && vercel env pull .env.local
# Get from: Vercel Dashboard → Your Project → Settings → Environment Variables
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxxxxxx

# ============================================
# STRIPE PAYMENT CONFIGURATION
# ============================================

# Stripe Public Key (Frontend)
# Get from: Stripe Dashboard → Developers → API keys → Publishable key
VITE_STRIPE_PUBLIC_KEY=pk_test_...

# Stripe Secret Key (Backend only)
# Get from: Stripe Dashboard → Developers → API keys → Secret key
# NOT exposed to frontend, used in server-side code only
VITE_STRIPE_SECRET_KEY=sk_test_...

# Stripe Webhook Secret (for verifying webhooks)
# Get from: Stripe Dashboard → Developers → Webhooks → Click endpoint → Signing secret
VITE_STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================
# OPTIONAL: SENTRY ERROR TRACKING
# ============================================

# Sentry DSN (for error tracking)
# Get from: Sentry Dashboard → Your Project → Settings → Client Keys (DSN)
# Leave empty to disable Sentry
VITE_SENTRY_DSN=

# ============================================
# Development vs Production
# ============================================

# Local Development:
# 1. Copy this file to .env.local
# 2. Use test/preview credentials from all services
# 3. Test locally with `npm run dev`
#
# For Vercel Blob in development:
# - Install Vercel CLI: npm i -g vercel
# - Link your project: vercel link
# - Pull environment variables: vercel env pull .env.local

# Production:
# 1. Set these environment variables in your hosting platform (Vercel)
# 2. Use production credentials (not test keys)
# 3. Remove test data before going live

# ============================================
# Getting Started Checklist
# ============================================

# □ Create Neon account at https://console.neon.tech/
# □ Create Neon project and run sql/neon_unified_schema.sql
# □ Copy Neon connection string to VITE_NEON_DATABASE_URL
#
# □ Create Clerk account at https://dashboard.clerk.com/
# □ Create Clerk application and enable OAuth providers (Google, etc.)
# □ Copy Clerk keys to VITE_CLERK_PUBLISHABLE_KEY and VITE_CLERK_SECRET_KEY
#
# □ Create Convex account at https://dashboard.convex.dev/
# □ Create Convex project
# □ Copy Convex URL to VITE_CONVEX_URL
# □ Run: npx convex dev
#
# □ Vercel Blob is automatic on Vercel (no setup needed)
# □ For local: run `vercel link` and `vercel env pull .env.local`
#
# □ (Optional) Set up Stripe at https://dashboard.stripe.com/
# □ (Optional) Set up Sentry at https://sentry.io/

# ============================================
# Security Best Practices
# ============================================

# ✅ DO:
# - Use environment-specific keys (test vs production)
# - Rotate credentials regularly
# - Never commit .env.local to git
# - Add .env.local to .gitignore
# - Use secret scanning tools (git-secrets, truffleHog)
#
# ❌ DON'T:
# - Share production credentials via email/chat
# - Commit secrets to version control
# - Use production keys in development
# - Log secrets in error messages

# ============================================
# Architecture Overview
# ============================================

# Data Flow:
# 1. User Authentication → Clerk (JWT tokens)
# 2. User Data → Neon PostgreSQL (persistent storage)
# 3. Real-time Updates → Convex (in-memory sync)
# 4. File Storage → Vercel Blob (CDN-backed storage)
# 5. Payments → Stripe (payment processing)

# Service URLs:
# - Neon Console: https://console.neon.tech/
# - Clerk Dashboard: https://dashboard.clerk.com/
# - Convex Dashboard: https://dashboard.convex.dev/
# - Vercel Dashboard: https://vercel.com/dashboard
# - Stripe Dashboard: https://dashboard.stripe.com/

# ============================================
