@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Scrollbar */
@layer utilities {
  /* Chrome, Safari, Edge */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent; 
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-700 rounded-full hover:bg-gray-400 dark:hover:bg-gray-600 transition-colors;
  }

  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.gray.300') transparent;
  }

  .dark * {
    scrollbar-color: theme('colors.gray.700') transparent;
  }
}

/* Base Styles */
body {
  @apply bg-gray-50 text-gray-900 dark:bg-[#1a1d21] dark:text-white transition-colors duration-300 antialiased;
  /* Prevent bounce on iOS/Mac */
  overscroll-behavior-y: none; 
}

/* Safe Area Support for Mobile Devices (iOS notch/home indicator) */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-area-top {
  padding-top: env(safe-area-inset-top, 0);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left, 0);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right, 0);
}

/* Responsive Spacing System */
@layer utilities {
  /* Fluid padding - scales from mobile to desktop */
  .p-fluid {
    padding: clamp(1rem, 2vw, 1.5rem);
  }
  
  .px-fluid {
    padding-left: clamp(1rem, 2vw, 1.5rem);
    padding-right: clamp(1rem, 2vw, 1.5rem);
  }
  
  .py-fluid {
    padding-top: clamp(1rem, 2vw, 1.5rem);
    padding-bottom: clamp(1rem, 2vw, 1.5rem);
  }
  
  /* Fluid gap for flex/grid */
  .gap-fluid {
    gap: clamp(0.75rem, 1.5vw, 1.5rem);
  }
  
  /* Container with responsive max-width and padding */
  .container-fluid {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: clamp(1rem, 4vw, 2rem);
    padding-right: clamp(1rem, 4vw, 2rem);
  }
  
  /* Responsive section spacing */
  .section-spacing {
    padding-top: clamp(2rem, 5vw, 4rem);
    padding-bottom: clamp(2rem, 5vw, 4rem);
  }
}

/* Fluid Typography System */
@layer base {
  /* Base font sizes that scale responsively */
  h1 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    line-height: 1.2;
    font-weight: 800;
  }
  
  h2 {
    font-size: clamp(1.5rem, 3vw, 2rem);
    line-height: 1.3;
    font-weight: 700;
  }
  
  h3 {
    font-size: clamp(1.25rem, 2.5vw, 1.5rem);
    line-height: 1.4;
    font-weight: 600;
  }
  
  h4 {
    font-size: clamp(1.125rem, 2vw, 1.25rem);
    line-height: 1.4;
    font-weight: 600;
  }
  
  /* Body text with minimum readable size */
  p, .text-base {
    font-size: clamp(0.9375rem, 1.5vw, 1rem);
    line-height: 1.6;
  }
  
  /* Small text */
  .text-sm {
    font-size: clamp(0.8125rem, 1.2vw, 0.875rem);
    line-height: 1.5;
  }
  
  /* Extra small text */
  .text-xs {
    font-size: clamp(0.75rem, 1vw, 0.8125rem);
    line-height: 1.4;
  }
  
  /* Large text */
  .text-lg {
    font-size: clamp(1.125rem, 2vw, 1.25rem);
    line-height: 1.5;
  }
  
  /* Extra large text */
  .text-xl {
    font-size: clamp(1.25rem, 2.5vw, 1.5rem);
    line-height: 1.4;
  }
  
  /* 2XL text */
  .text-2xl {
    font-size: clamp(1.5rem, 3vw, 1.875rem);
    line-height: 1.3;
  }
  
  /* 3XL text */
  .text-3xl {
    font-size: clamp(1.875rem, 4vw, 2.25rem);
    line-height: 1.2;
  }
  
  /* 4XL text */
  .text-4xl {
    font-size: clamp(2.25rem, 5vw, 3rem);
    line-height: 1.1;
  }
}

/* Animation Utility Classes */
.fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

.fade-out {
  animation: fadeOut 0.4s ease-in forwards;
}

.slide-in-up {
  animation: slideInUp 0.4s ease-out forwards;
}

.slide-in-down {
  animation: slideInDown 0.4s ease-out forwards;
}

.slide-out-up {
  animation: slideOutUp 0.4s ease-in forwards;
}

.slide-out-down {
  animation: slideOutDown 0.4s ease-in forwards;
}

.scale-in {
  animation: scaleIn 0.3s ease-out forwards;
}

.scale-out {
  animation: scaleOut 0.3s ease-in forwards;
}

/* Module Loading Animation */
.module-loading {
  animation: pulse 1.5s ease-in-out infinite;
}

/* Tab Content Fade Animation */
.tab-content-wrapper {
  position: relative;
  min-height: 200px;
}

.tab-content {
  opacity: 0;
  animation: tabFadeIn 0.3s ease-out forwards;
}

@keyframes tabFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Module Fade In Animation - Applied to all page modules */
.module-fade-in {
  opacity: 0;
  animation: moduleFadeIn 0.3s ease-out forwards;
}

@keyframes moduleFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Auth Wizard Background Animations */
.background-pan-container {
  animation: backgroundFadeInOut 30s ease-in-out forwards;
  transform: translateZ(0); /* Hardware acceleration */
  will-change: opacity;
}

@keyframes backgroundFadeInOut {
  0% {
    opacity: 0;
  }
  3% {
    opacity: 1;
  }
  97% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes fadeIn {
  from { 
    opacity: 0;
  }
  to { 
    opacity: 1;
  }
}

@keyframes fadeOut {
  from { 
    opacity: 1;
  }
  to { 
    opacity: 0;
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideOutUp {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

@keyframes slideOutDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Mobile Touch Optimization */
@media (max-width: 640px) {
  input, select, textarea {
    font-size: 16px; /* Prevents zoom on focus */
  }
}

/* Accessibility Features */
/* Reduced Motion */
.reduce-motion *,
.reduce-motion *::before,
.reduce-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* High Contrast Mode */
.high-contrast {
  --contrast-bg: #000000;
  --contrast-text: #ffffff;
  --contrast-border: #ffffff;
}

.high-contrast body {
  background: var(--contrast-bg) !important;
  color: var(--contrast-text) !important;
}

.high-contrast button,
.high-contrast a {
  border: 2px solid var(--contrast-border) !important;
}

.high-contrast input,
.high-contrast select,
.high-contrast textarea {
  border: 2px solid var(--contrast-border) !important;
  background: var(--contrast-bg) !important;
  color: var(--contrast-text) !important;
}

/* Font Size Overrides */
html[style*="font-size: 14px"] {
  font-size: 14px !important;
}

html[style*="font-size: 16px"] {
  font-size: 16px !important;
}

html[style*="font-size: 18px"] {
  font-size: 18px !important;
}

html[style*="font-size: 20px"] {
  font-size: 20px !important;
}

/* Font Size Classes */
.font-size-small {
  font-size: 14px !important;
}

.font-size-medium {
  font-size: 16px !important;
}

.font-size-large {
  font-size: 18px !important;
}

.font-size-xlarge {
  font-size: 20px !important;
}
