import{r as d,j as e,X as v}from"./vendor-DpIp-Nyk.js";function j({text:x,onRemove:n}){return e.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 text-sm px-2 py-1 rounded-full text-gray-700 dark:text-gray-300",children:[x,e.jsx(v,{size:12,className:"cursor-pointer hover:text-red-500",onClick:n})]})}function N({label:x,fieldKey:n,options:b,initialValues:l,onChange:i}){const[r,g]=d.useState(""),[a,c]=d.useState(l||[]);d.useEffect(()=>{c(l||[])},[l]);const o=()=>{if(r&&!a.includes(r)){const s=[...a,r];c(s),i(n,s),g("")}},m=s=>{const p=a.filter(h=>h!==s);c(p),i(n,p)};return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:x}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{className:"flex-1 p-2 border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white text-sm",value:r,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"",children:"Select..."}),b.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("button",{type:"button",onClick:o,className:"bg-brand-blue text-white px-3 rounded-lg text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(s=>e.jsx(j,{text:s,onRemove:()=>m(s)},s))})]})}function y({label:x,fieldKey:n,data:b,initialValues:l,onChange:i}){const[r,g]=d.useState(""),[a,c]=d.useState(""),[o,m]=d.useState(l||[]);d.useEffect(()=>{m(l||[])},[l]);const s=b[r]||[],p=()=>{const t=r&&a?`${r} - ${a}`:"";if(t&&!o.includes(t)){const u=[...o,t];m(u),i(n,u),c("")}},h=t=>{const u=o.filter(f=>f!==t);m(u),i(n,u)};return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:x}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{className:"w-1/3 p-2 border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white text-sm",value:r,onChange:t=>{g(t.target.value),c("")},children:[e.jsx("option",{value:"",children:"Category..."}),Object.keys(b).map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{className:"w-1/3 p-2 border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white text-sm",value:a,onChange:t=>c(t.target.value),disabled:!r,children:[e.jsx("option",{value:"",children:"Select..."}),s.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("button",{type:"button",onClick:p,className:"bg-brand-blue text-white px-3 rounded-lg text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(t=>e.jsx(j,{text:t,onRemove:()=>h(t)},t))})]})}export{N as M,y as N};
