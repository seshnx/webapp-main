const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AuthWizard-BoA5UMtA.js","assets/edu-CtXdl24B.js","assets/vendor-M-mhr7Zm.js","assets/chat-Wu-U_tWR.js","assets/vendor-framer-1_AFqeeG.js","assets/config-yUl3KxdD.js","assets/vendor-maps-6BEm9RMI.js","assets/vendor-maps-Dgihpmma.css","assets/SeshNx-PNG cCropped white text-CY2zM0R9.js","assets/AppRoutes-DDIHhYi-.js","assets/MainLayout-DtMCdCMt.js"])))=>i.map(i=>d[i]);
var R=Object.defineProperty;var F=(t,i,s)=>i in t?R(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s;var E=(t,i,s)=>F(t,typeof i!="symbol"?i+"":i,s);import{r as n,bH as _,bI as M,j as e,L as h,bJ as O,R as P,an as A,m as T,B as U,bK as B,bL as $,bM as J,bN as W}from"./vendor-M-mhr7Zm.js";import{_ as I}from"./edu-CtXdl24B.js";import{s as V,c as H}from"./chat-Wu-U_tWR.js";import"./config-yUl3KxdD.js";import"./vendor-framer-1_AFqeeG.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();function le(t,i){n.useEffect(()=>{var s,o,r;if(t){if(t.theme){const a=document.documentElement;t.theme==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light")):t.theme==="dark"?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light"))}if((s=t.accessibility)!=null&&s.fontSize){const a=document.documentElement,l={small:"14px",medium:"16px",large:"18px",xlarge:"20px"};a.style.fontSize=l[t.accessibility.fontSize]||l.medium,localStorage.setItem("fontSize",t.accessibility.fontSize)}if(((o=t.accessibility)==null?void 0:o.reducedMotion)!==void 0){const a=document.documentElement;t.accessibility.reducedMotion?(a.classList.add("reduce-motion"),a.style.setProperty("--motion-duration","0s")):(a.classList.remove("reduce-motion"),a.style.removeProperty("--motion-duration")),localStorage.setItem("reducedMotion",t.accessibility.reducedMotion)}if(((r=t.accessibility)==null?void 0:r.highContrast)!==void 0){const a=document.documentElement;t.accessibility.highContrast?a.classList.add("high-contrast"):a.classList.remove("high-contrast"),localStorage.setItem("highContrast",t.accessibility.highContrast)}t.language&&(document.documentElement.lang=t.language,localStorage.setItem("language",t.language)),t.timezone&&t.timezone!=="auto"&&localStorage.setItem("timezone",t.timezone),t.currency&&localStorage.setItem("currency",t.currency),t.dateFormat&&localStorage.setItem("dateFormat",t.dateFormat),t.timeFormat&&localStorage.setItem("timeFormat",t.timeFormat),t.numberFormat&&localStorage.setItem("numberFormat",t.numberFormat),localStorage.setItem("userSettings",JSON.stringify(t))}},[t])}function K(){if(typeof window>"u")return null;const t=localStorage.getItem("userSettings");if(t)try{return JSON.parse(t)}catch(i){console.error("Failed to parse stored settings:",i)}return null}const j=n.lazy(()=>I(()=>import("./AuthWizard-BoA5UMtA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),q=n.lazy(()=>I(()=>import("./AppRoutes-DDIHhYi-.js"),__vite__mapDeps([9,1,2,3,4,5]))),G=n.lazy(()=>I(()=>import("./MainLayout-DtMCdCMt.js"),__vite__mapDeps([10,1,2,3,4,5])));function Q(){const[t,i]=n.useState(null),[s,o]=n.useState(null),[r,a]=n.useState(!0),l=n.useRef(!1),d=_(),S=M(),[m,u]=n.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1);n.useEffect(()=>{const p=K();if(p){const g=document.documentElement;p.theme==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?(g.classList.add("dark"),u(!0)):(g.classList.remove("dark"),u(!1)):p.theme==="dark"?(g.classList.add("dark"),u(!0)):(g.classList.remove("dark"),u(!1))}},[]),n.useEffect(()=>{var p,g,v;if(s!=null&&s.settings){const f=s.settings,c=document.documentElement;if(f.theme&&(f.theme==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?(c.classList.add("dark"),u(!0)):(c.classList.remove("dark"),u(!1)):f.theme==="dark"?(c.classList.add("dark"),u(!0)):(c.classList.remove("dark"),u(!1))),(p=f.accessibility)!=null&&p.fontSize){const N={small:"14px",medium:"16px",large:"18px",xlarge:"20px"};c.style.fontSize=N[f.accessibility.fontSize]||N.medium}(g=f.accessibility)!=null&&g.reducedMotion?(c.classList.add("reduce-motion"),c.style.setProperty("--motion-duration","0s")):(c.classList.remove("reduce-motion"),c.style.removeProperty("--motion-duration")),(v=f.accessibility)!=null&&v.highContrast?c.classList.add("high-contrast"):c.classList.remove("high-contrast"),f.language&&(document.documentElement.lang=f.language)}},[s==null?void 0:s.settings]),n.useEffect(()=>{m?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[m]);const x=()=>u(!m);n.useEffect(()=>{l.current=!1;{a(!1);return}},[]);const z=n.useCallback(async()=>{try{i(null),o(null),d("/login",{replace:!0})}catch(p){console.error("Logout error:",p),i(null),o(null),d("/login",{replace:!0})}},[d]);if(r)return e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})});const C=new URLSearchParams(window.location.search).get("intent")==="signup",b=t&&t.id,y=s&&s.id,k=S.pathname==="/login",w=S.pathname==="/test-login";return!b&&!k&&!w?e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})}),children:e.jsx(j,{darkMode:m,toggleTheme:x,onSuccess:()=>d("/"),isNewUser:!1})}):b&&!y&&!k&&!w?e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})}):w?b&&y?(d("/debug-report",{replace:!0}),null):e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})}),children:e.jsx(j,{darkMode:m,toggleTheme:x,onSuccess:()=>d("/debug-report"),isNewUser:!1})}):k?b&&y?(d("/",{replace:!0}),null):e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})}),children:e.jsx(j,{darkMode:m,toggleTheme:x,onSuccess:()=>d("/"),isNewUser:!1})}):b&&!y&&C?e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})}),children:e.jsx(j,{user:t,isNewUser:!0,darkMode:m,toggleTheme:x,onSuccess:()=>d("/debug-report")})}):!b||!y?e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:48})}),children:e.jsx(j,{darkMode:m,toggleTheme:x,onSuccess:()=>d("/"),isNewUser:!1})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#1a1d21]",children:[e.jsx(O,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff"}}}),S.pathname==="/settings"||S.pathname==="/debug-report"?e.jsx("main",{className:"p-6",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(q,{user:t,userData:s,loading:r,darkMode:m,toggleTheme:x,handleLogout:z})})}):e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(h,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(G,{user:t,userData:s,loading:r,darkMode:m,toggleTheme:x,handleLogout:z})})]})}let L=null,D=!1;const X=async()=>L!==null?L:(D||(D=!0,L=!1),null),Y=(t,i={},s={})=>{const o={message:(t==null?void 0:t.message)||"Unknown error",stack:t==null?void 0:t.stack,name:t==null?void 0:t.name,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,...i,context:s};X().then(r=>{r&&r.captureException&&r.captureException(t,{extra:o,tags:{component:s.component||"Unknown",errorBoundary:s.errorBoundary||"None"},contexts:{custom:s}})}).catch(()=>{});try{const r=JSON.parse(localStorage.getItem("seshnx_errors")||"[]");r.unshift(o),r.splice(10),localStorage.setItem("seshnx_errors",JSON.stringify(r))}catch{}return o};class Z extends P.Component{constructor(s){super(s);E(this,"handleReset",()=>{if(this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,copied:!1}),this.props.onReset)this.props.onReset();else{const s=window.location.pathname;s!=="/"&&s!=="/dashboard"?window.location.href="/?tab=dashboard":window.location.reload()}});E(this,"handleCopyError",async()=>{var o,r,a;const s=`
Error ID: ${this.state.errorId}
Message: ${((o=this.state.error)==null?void 0:o.message)||"Unknown error"}
Stack: ${((r=this.state.error)==null?void 0:r.stack)||"No stack trace"}
Component Stack: ${((a=this.state.errorInfo)==null?void 0:a.componentStack)||"No component stack"}
URL: ${window.location.href}
User Agent: ${navigator.userAgent}
Timestamp: ${new Date().toISOString()}
    `.trim();try{await navigator.clipboard.writeText(s),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)}catch(l){console.error("Failed to copy error:",l)}});this.state={hasError:!1,error:null,errorInfo:null,meme:"Unexpected signal chain failure.",errorId:null,copied:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorId:`ERR-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(s,o){const r={componentStack:o.componentStack,errorBoundary:this.props.name||"Default",props:this.props.context||{}},a=Y(s,o,r);this.setState({errorInfo:{...o,errorId:this.state.errorId||a.timestamp}})}componentDidMount(){const s=["CoreAudio Overload detected.","The plugin crashed the session.","Buffer underrun exception.","Who deleted the master fader?","Sample rate mismatch: Reality is 44.1k, we are 48k.","The drummer kicked the power cable.","Ilok license not found.","Fatal Error: Not enough headroom.","The mix bus is clipping... hard.","Phantom power failure."];this.setState({meme:s[Math.floor(Math.random()*s.length)]})}render(){var s,o;return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-[#1f2128] flex flex-col items-center justify-center p-4 text-center text-white font-sans",children:e.jsxs("div",{className:"bg-[#2c2e36] border border-red-500/30 p-8 rounded-2xl shadow-2xl max-w-lg w-full relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-red-500/20 blur-[50px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-6 text-red-500",children:e.jsx(A,{size:32,strokeWidth:2})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Session Crashed"}),e.jsxs("p",{className:"text-xl text-[#3D84ED] font-medium mb-6 italic",children:['"',this.state.meme,'"']}),e.jsxs("div",{className:"bg-[#1f2128] p-4 rounded-lg w-full mb-6 text-left border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Error Details"}),e.jsx("button",{onClick:this.handleCopyError,className:"text-xs text-gray-400 hover:text-white flex items-center gap-1 transition-colors",title:"Copy error details",children:this.state.copied?e.jsxs(e.Fragment,{children:[e.jsx(T,{size:12}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{size:12}),"Copy"]})})]}),e.jsxs("div",{className:"space-y-2",children:[this.state.errorId&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Error ID: "}),e.jsx("code",{className:"text-xs text-blue-400 font-mono",children:this.state.errorId})]}),e.jsx("code",{className:"text-sm text-red-400 font-mono break-words block",children:((s=this.state.error)==null?void 0:s.message)||"Unknown error occurred"}),((o=this.state.error)==null?void 0:o.stack)&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-400",children:"Stack Trace"}),e.jsx("pre",{className:"text-xs text-gray-400 font-mono mt-2 overflow-auto max-h-32",children:this.state.error.stack})]})]})]}),e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:"Go Back"}),e.jsxs("button",{onClick:this.handleReset,className:"flex-1 bg-[#3D84ED] hover:bg-blue-600 text-white py-3 px-4 rounded-xl font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center justify-center gap-2",children:[e.jsx(B,{size:18}),"Reload App"]})]})]})]})}):this.props.children}}const ee=({children:t})=>e.jsx(e.Fragment,{children:t});$.createRoot(document.getElementById("root")).render(e.jsx(ee,{children:e.jsx(Z,{name:"Root",children:e.jsx(J,{client:H,children:e.jsx(W,{children:e.jsx(Q,{})})})})}));const te=()=>{const t=document.getElementById("loading-fallback");t&&(t.classList.add("fade-out"),setTimeout(()=>{t&&t.parentNode&&t.parentNode.removeChild(t),document.body.style.overflow="auto"},400))};setTimeout(te,600);export{Z as E,le as u};
