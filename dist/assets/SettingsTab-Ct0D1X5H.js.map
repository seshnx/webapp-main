{"version":3,"file":"SettingsTab-Ct0D1X5H.js","sources":["../../src/components/SettingsTab.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport {\r\n    X, Loader2, Settings, Bell, Shield, Moon, Users, RefreshCw, Star,\r\n    Filter, Lock, AlertTriangle, Key, Mail, CheckCircle, Eye, MapPin,\r\n    MessageSquare, UserX, Download, Globe, Calendar, ShoppingBag,\r\n    Image, Accessibility, Zap, Clock, Volume2, VolumeX, Monitor,\r\n    Smartphone, Wifi, HardDrive, Languages, DollarSign, Video,\r\n    FileText, Search, UserCheck, UserPlus, EyeOff, Hash, Save, Trash2\r\n} from 'lucide-react';\r\nimport { updateProfile, getProfile, getSubProfile, upsertSubProfile, deleteSubProfile } from '../config/neonQueries';\r\nimport { query as neonQuery } from '../config/neon';\r\nimport { ACCOUNT_TYPES } from '../config/constants';\r\nimport { useSettings } from '../hooks/useSettings';\r\nimport { useLanguage } from '../contexts/LanguageContext';\r\n\r\n// Roles that should never be shown in account settings (managed through other systems)\r\nconst HIDDEN_ROLES = ['Student', 'EDUStaff', 'Intern', 'EDUAdmin', 'GAdmin'];\r\n\r\n// Tab definitions - will be translated in component\r\nconst SETTINGS_TABS = [\r\n    { id: 'general', labelKey: 'general', icon: Settings },\r\n    { id: 'security', labelKey: 'security', icon: Shield },\r\n    { id: 'notifications', labelKey: 'notifications', icon: Bell },\r\n    { id: 'messaging', labelKey: 'messaging', icon: MessageSquare },\r\n    { id: 'social', labelKey: 'social', icon: Users },\r\n    { id: 'bookings', labelKey: 'bookings', icon: Calendar },\r\n    { id: 'marketplace', labelKey: 'marketplace', icon: ShoppingBag },\r\n    { id: 'content', labelKey: 'content', icon: Image },\r\n    { id: 'accessibility', labelKey: 'accessibility', icon: Accessibility },\r\n    { id: 'performance', labelKey: 'performance', icon: Zap },\r\n];\r\n\r\nexport default function SettingsTab({ user, userData, onUpdate, onRoleSwitch, subProfiles = {} }) {\r\n    const { t, language } = useLanguage();\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    // Get settings sub-tab from URL path\r\n    const getSettingsTabFromPath = (path) => {\r\n        const parts = path.split('/').filter(Boolean);\r\n        if (parts[0] === 'profile' && parts[1] === 'settings' && parts[2]) {\r\n            return parts[2];\r\n        }\r\n        return 'general';\r\n    };\r\n\r\n    const [activeTab, setActiveTab] = useState(() => getSettingsTabFromPath(location.pathname));\r\n\r\n    // Sync URL with active settings tab\r\n    useEffect(() => {\r\n        const currentPath = `/profile/settings/${activeTab}`;\r\n        if (location.pathname !== currentPath) {\r\n            navigate(currentPath, { replace: true });\r\n        }\r\n    }, [activeTab]);\r\n\r\n    // Update tab when URL changes\r\n    useEffect(() => {\r\n        const tabFromPath = getSettingsTabFromPath(location.pathname);\r\n        if (tabFromPath !== activeTab) {\r\n            setActiveTab(tabFromPath);\r\n        }\r\n    }, [location.pathname]);\r\n\r\n    const [localSettings, setLocalSettings] = useState(() => {\r\n        const defaults = {\r\n            // General\r\n            theme: 'system',\r\n            language: 'en',\r\n            dateFormat: 'MM/DD/YYYY',\r\n            timeFormat: '12h',\r\n            timezone: 'auto',\r\n            currency: 'USD',\r\n            numberFormat: '1,000.00',\r\n\r\n            // Security & Privacy\r\n            privacy: {\r\n                publicProfile: true,\r\n                showLocation: true,\r\n                hideProfile: false,\r\n                showEmail: false,\r\n                showPhone: false,\r\n                showOnlineStatus: true,\r\n                showLastSeen: true,\r\n                allowSearchEngines: false,\r\n                allowTagging: true,\r\n                reviewTagsBeforeAppear: false,\r\n                showFollowingList: true,\r\n                showFollowersList: true,\r\n            },\r\n            twoFactorEnabled: false,\r\n\r\n            // Notifications\r\n            notifications: {\r\n                email: true,\r\n                push: true,\r\n                marketing: false,\r\n                booking: {\r\n                    newRequests: true,\r\n                    confirmations: true,\r\n                    reminders: true,\r\n                    cancellations: true,\r\n                },\r\n                social: {\r\n                    likes: true,\r\n                    comments: true,\r\n                    follows: true,\r\n                    mentions: true,\r\n                    reposts: true,\r\n                },\r\n                marketplace: {\r\n                    newOffers: true,\r\n                    sales: true,\r\n                    messages: true,\r\n                },\r\n                system: {\r\n                    maintenance: true,\r\n                    updates: true,\r\n                    security: true,\r\n                },\r\n                quietHours: {\r\n                    enabled: false,\r\n                    start: '22:00',\r\n                    end: '08:00',\r\n                },\r\n                soundEnabled: true,\r\n                badgeCount: true,\r\n            },\r\n\r\n            // Messaging\r\n            messaging: {\r\n                readReceipts: true,\r\n                typingIndicators: true,\r\n                messageRequests: true,\r\n                whoCanMessage: 'everyone', // 'everyone', 'followers', 'none'\r\n                autoArchive: false,\r\n                soundNotifications: true,\r\n                previewInNotifications: true,\r\n                mutedThreads: [],\r\n                blockedContacts: [],\r\n            },\r\n\r\n            // Social & Feed\r\n            social: {\r\n                feedAlgorithm: 'recommended', // 'chronological', 'recommended', 'following'\r\n                autoPlayVideos: true,\r\n                showSensitiveContentWarning: true,\r\n                showActivityStatus: true,\r\n                showSuggestedAccounts: true,\r\n                mutedUsers: [],\r\n                blockedUsers: [],\r\n            },\r\n            contentFiltering: {\r\n                sensitivityFilter: 'medium', // 'off', 'low', 'medium', 'high'\r\n                hideKeywords: [],\r\n                muteWords: [],\r\n                autoHideReported: true,\r\n                showAgeRestricted: false,\r\n            },\r\n\r\n            // Bookings\r\n            bookings: {\r\n                autoAccept: false,\r\n                autoAcceptCriteria: {},\r\n                defaultBufferTime: 15, // minutes\r\n                showAvailabilityPublicly: false,\r\n                requireDeposit: false,\r\n                autoDeclineExpired: true,\r\n                defaultSessionDuration: 60, // minutes\r\n                notifications: {\r\n                    newRequests: true,\r\n                    confirmations: true,\r\n                    reminders: true,\r\n                    cancellations: true,\r\n                },\r\n            },\r\n\r\n            // Marketplace\r\n            marketplace: {\r\n                autoListItems: false,\r\n                requireApproval: true,\r\n                defaultShippingMethod: 'standard',\r\n                defaultPaymentTerms: 'immediate',\r\n                autoAcceptOffersAbove: false,\r\n                autoAcceptThreshold: 0,\r\n                showSoldItems: true,\r\n                notifications: {\r\n                    newOffers: true,\r\n                    sales: true,\r\n                    messages: true,\r\n                },\r\n            },\r\n\r\n            // Content & Media\r\n            content: {\r\n                imageQuality: 'high', // 'high', 'medium', 'low'\r\n                videoQuality: 'high',\r\n                autoSaveUploaded: true,\r\n                compressImages: true,\r\n                maxUploadSize: 10, // MB\r\n            },\r\n\r\n            // Accessibility\r\n            accessibility: {\r\n                fontSize: 'medium', // 'small', 'medium', 'large', 'xlarge'\r\n                reducedMotion: false,\r\n                highContrast: false,\r\n                screenReaderAnnouncements: true,\r\n                keyboardHints: true,\r\n            },\r\n\r\n            // UI Preferences\r\n            ui: {\r\n                showBreadcrumbs: false,\r\n                compactMode: false,\r\n                sidebarCollapsed: false,\r\n            },\r\n\r\n            // Performance\r\n            performance: {\r\n                dataUsage: 'auto', // 'wifi-only', 'auto', 'never'\r\n                offlineMode: false,\r\n                backgroundSync: true,\r\n                autoClearOldNotifications: true,\r\n                autoClearAfterDays: 30,\r\n            },\r\n\r\n            // Legacy/Other\r\n            preferences: {\r\n                seeAllProfiles: false,\r\n            },\r\n        };\r\n\r\n        // Merge with existing settings\r\n        return { ...defaults, ...(userData?.settings || {}) };\r\n    });\r\n\r\n    const [roles, setRoles] = useState(userData?.accountTypes || []);\r\n    const [preferredRole, setPreferredRole] = useState(userData?.preferredRole || roles[0]);\r\n    const [activeRole, setActiveRole] = useState(userData?.activeProfileRole || roles[0]);\r\n    const [defaultProfileRole, setDefaultProfileRole] = useState(userData?.defaultProfileRole || userData?.activeProfileRole || roles[0] || 'Fan');\r\n    const [saving, setSaving] = useState(false);\r\n    const [exporting, setExporting] = useState(false);\r\n    const [activeSessions, setActiveSessions] = useState([]);\r\n\r\n    // Deletion State\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const [deleteConfirm, setDeleteConfirm] = useState('');\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\r\n    // Role Removal Confirmation State\r\n    const [roleToRemove, setRoleToRemove] = useState(null);\r\n    const [showRoleRemoveModal, setShowRoleRemoveModal] = useState(false);\r\n\r\n    // Security / Account State\r\n    const [showSecurityModal, setShowSecurityModal] = useState(false);\r\n    const [securityAction, setSecurityAction] = useState(null);\r\n    const [securityForm, setSecurityForm] = useState({ newEmail: '', newPassword: '', currentPassword: '' });\r\n    const [isSecurityLoading, setIsSecurityLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (userData?.activeProfileRole) {\r\n            setActiveRole(userData.activeProfileRole);\r\n        }\r\n    }, [userData?.activeProfileRole]);\r\n\r\n    // Apply settings immediately when they change\r\n    useSettings(localSettings, userData);\r\n\r\n    // Generic Toggle Handler - applies immediately\r\n    const handleToggle = (category, key, subKey = null) => {\r\n        setLocalSettings(prev => {\r\n            const updated = { ...prev };\r\n            if (subKey) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: {\r\n                        ...prev[category]?.[key],\r\n                        [subKey]: !prev[category]?.[key]?.[subKey]\r\n                    }\r\n                };\r\n            } else if (category && key) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: !prev[category]?.[key]\r\n                };\r\n            } else {\r\n                updated[key] = !prev[key];\r\n            }\r\n            // Apply immediately and save\r\n            onUpdate(updated);\r\n            // Auto-save to database using Neon\r\n            if (user?.id) {\r\n                updateProfile(user.id, { settings: updated })\r\n                    .catch(err => console.error('Auto-save failed:', err));\r\n            }\r\n            return updated;\r\n        });\r\n    };\r\n\r\n    const handleValueChange = (category, key, value, subKey = null) => {\r\n        setLocalSettings(prev => {\r\n            const updated = { ...prev };\r\n            if (subKey) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: {\r\n                        ...prev[category]?.[key],\r\n                        [subKey]: value\r\n                    }\r\n                };\r\n            } else if (category && key) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: value\r\n                };\r\n            } else {\r\n                updated[key] = value;\r\n            }\r\n            // Apply immediately and save\r\n            onUpdate(updated);\r\n            // Auto-save to database using Neon\r\n            if (user?.id) {\r\n                updateProfile(user.id, {\r\n                    settings: updated,\r\n                    default_profile_role: defaultProfileRole\r\n                })\r\n                    .catch(err => console.error('Auto-save failed:', err));\r\n            }\r\n            return updated;\r\n        });\r\n    };\r\n\r\n    const handleThemeChange = (val) => {\r\n        handleValueChange(null, 'theme', val);\r\n    };\r\n\r\n    const saveSettings = async () => {\r\n        if (!user) return;\r\n        setSaving(true);\r\n        try {\r\n            await updateProfile(user.id, {\r\n                settings: localSettings,\r\n                default_profile_role: defaultProfileRole,\r\n                updated_at: new Date().toISOString()\r\n            });\r\n\r\n            // Update parent component's userData\r\n            if (onUpdate && userData) {\r\n                const updatedUserData = {\r\n                    ...userData,\r\n                    settings: localSettings,\r\n                    defaultProfileRole: defaultProfileRole\r\n                };\r\n                onUpdate(updatedUserData);\r\n            }\r\n\r\n            alert(\"Settings saved successfully!\");\r\n        } catch (e) {\r\n            console.error(e);\r\n            alert(\"Failed to save settings.\");\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const updateAccountTypes = async () => {\r\n        if (roles.length === 0 || !user?.id) return alert(\"You must have at least one role.\");\r\n        setSaving(true);\r\n        try {\r\n            const userId = user.id;\r\n\r\n            // Find removed roles\r\n            const removedRoles = (userData?.accountTypes || []).filter(role => !roles.includes(role));\r\n\r\n            // Handle edge case: if active role is being removed, switch to another role\r\n            let newActiveRole = activeRole;\r\n            if (removedRoles.includes(activeRole) || !roles.includes(activeRole)) {\r\n                // Switch to the first available role that's not hidden\r\n                newActiveRole = roles.find(r => !HIDDEN_ROLES.includes(r)) || roles[0];\r\n                setActiveRole(newActiveRole);\r\n\r\n                // Call onRoleSwitch if available\r\n                if (onRoleSwitch) {\r\n                    onRoleSwitch(newActiveRole);\r\n                }\r\n            }\r\n\r\n            // Ensure default profile role is still valid\r\n            let validDefaultRole = defaultProfileRole;\r\n            if (!roles.includes(defaultProfileRole)) {\r\n                validDefaultRole = newActiveRole;\r\n                setDefaultProfileRole(newActiveRole);\r\n            }\r\n\r\n            // Delete sub-profiles for removed roles\r\n            for (const role of removedRoles) {\r\n                try {\r\n                    await deleteSubProfile(userId, role);\r\n                } catch (err) {\r\n                    console.warn(`Failed to delete sub-profile for ${role}:`, err);\r\n                    // Continue even if deletion fails\r\n                }\r\n            }\r\n\r\n            // Update clerk_users table with new roles\r\n            await updateProfile(userId, {\r\n                account_types: roles,\r\n                active_role: newActiveRole,\r\n                default_profile_role: validDefaultRole,\r\n            });\r\n\r\n            // Update parent component's userData with new roles\r\n            if (onUpdate && userData) {\r\n                const updatedUserData = {\r\n                    ...userData,\r\n                    accountTypes: roles,\r\n                    activeProfileRole: newActiveRole,\r\n                    defaultProfileRole: validDefaultRole,\r\n                };\r\n                onUpdate(updatedUserData);\r\n            }\r\n\r\n            alert(\"Roles & Preferences updated!\");\r\n        } catch (e) {\r\n            console.error(\"Failed to update roles:\", e);\r\n            alert(\"Failed to update: \" + (e.message || \"Unknown error\"));\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const toggleRole = (role) => {\r\n        // Check if we're removing a role\r\n        if (roles.includes(role)) {\r\n            // Check if this role has a sub-profile with data\r\n            const hasSubProfile = subProfiles?.[role] && (\r\n                subProfiles[role].display_name ||\r\n                (subProfiles[role].profile_data && Object.keys(subProfiles[role].profile_data).length > 0)\r\n            );\r\n\r\n            // Prevent removing the last role\r\n            if (roles.length === 1) {\r\n                alert(\"You must have at least one role.\");\r\n                return;\r\n            }\r\n\r\n            // Show confirmation modal if role has data\r\n            if (hasSubProfile) {\r\n                setRoleToRemove(role);\r\n                setShowRoleRemoveModal(true);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Add or remove role directly\r\n        setRoles(prev => prev.includes(role) ? prev.filter(r => r !== role) : [...prev, role]);\r\n    };\r\n\r\n    const confirmRoleRemoval = () => {\r\n        if (roleToRemove) {\r\n            setRoles(prev => prev.filter(r => r !== roleToRemove));\r\n            setShowRoleRemoveModal(false);\r\n            setRoleToRemove(null);\r\n        }\r\n    };\r\n\r\n    const cancelRoleRemoval = () => {\r\n        setShowRoleRemoveModal(false);\r\n        setRoleToRemove(null);\r\n    };\r\n\r\n    // Security handlers\r\n    const openSecurityModal = (action) => {\r\n        setSecurityAction(action);\r\n        setSecurityForm({ newEmail: '', newPassword: '', currentPassword: '' });\r\n        setShowSecurityModal(true);\r\n    };\r\n\r\n    const handleSecurityUpdate = async () => {\r\n        if (!securityForm.currentPassword) {\r\n            alert(\"Current password is required to verify your identity.\");\r\n            return;\r\n        }\r\n        setIsSecurityLoading(true);\r\n\r\n        try {\r\n            // Security operations are now handled through Clerk\r\n            // Password changes and email updates should be done through Clerk's user management\r\n            // For now, provide a message to use Clerk's account management features\r\n\r\n            if (securityAction === 'email') {\r\n                if (!securityForm.newEmail) throw new Error(\"New email address is required.\");\r\n                alert(\"Email changes are managed through Clerk. Please use the account management link in your profile.\");\r\n            }\r\n            else if (securityAction === 'password') {\r\n                if (securityForm.newPassword.length < 6) throw new Error(\"Password must be at least 6 characters.\");\r\n                alert(\"Password changes are managed through Clerk. Please use the account management link in your profile.\");\r\n            }\r\n\r\n            setShowSecurityModal(false);\r\n            setSecurityForm({ newEmail: '', newPassword: '', currentPassword: '' });\r\n\r\n        } catch (e) {\r\n            console.error(\"Security Update Error:\", e);\r\n            alert(\"Failed to update: \" + e.message);\r\n        }\r\n        setIsSecurityLoading(false);\r\n    };\r\n\r\n    const handleDataExport = async () => {\r\n        if (!user) {\r\n            alert(\"Unable to export data. Please ensure you're logged in.\");\r\n            return;\r\n        }\r\n\r\n        setExporting(true);\r\n        try {\r\n            const userId = user.id;\r\n\r\n            // Export data using Neon queries\r\n            const [profile, bookings, follows, notifications] = await Promise.all([\r\n                getProfile(userId),\r\n                neonQuery(`SELECT * FROM bookings WHERE sender_id = $1 OR target_id = $1 LIMIT 1000`, [userId]),\r\n                neonQuery(`SELECT * FROM follows WHERE follower_id = $1 OR following_id = $1 LIMIT 1000`, [userId]),\r\n                neonQuery(`SELECT * FROM notifications WHERE user_id = $1 LIMIT 1000`, [userId])\r\n            ]);\r\n\r\n            const exportData = {\r\n                profile: profile || null,\r\n                bookings: bookings || [],\r\n                follows: follows || [],\r\n                notifications: notifications || [],\r\n                exportDate: new Date().toISOString(),\r\n                userId,\r\n                email: user.email\r\n            };\r\n\r\n            // Create and download JSON file\r\n            const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.download = `seshnx-export-${userId}-${Date.now()}.json`;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            URL.revokeObjectURL(url);\r\n\r\n            alert(\"Data exported successfully!\");\r\n        } catch (error) {\r\n            console.error('Export error:', error);\r\n            alert(\"Failed to export data: \" + error.message);\r\n        } finally {\r\n            setExporting(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteAccount = async () => {\r\n        if (deleteConfirm !== 'DELETE' || !user) {\r\n            alert(\"Please type 'DELETE' to confirm.\");\r\n            return;\r\n        }\r\n        setIsDeleting(true);\r\n        const userId = user.id;\r\n\r\n        try {\r\n            // Delete from database tables using Neon\r\n            await neonQuery(`DELETE FROM profiles WHERE id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM notifications WHERE user_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM saved_posts WHERE user_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM follows WHERE follower_id = $1 OR following_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM bookings WHERE sender_id = $1 OR target_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM posts WHERE user_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM comments WHERE user_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM marketplace_items WHERE seller_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM distribution_releases WHERE uploader_id = $1`, [userId]);\r\n            await neonQuery(`DELETE FROM equipment_submissions WHERE submitted_by = $1`, [userId]);\r\n\r\n            // Note: Clerk user deletion should be handled through Clerk Admin API or Dashboard\r\n            // For security, account deletion requires admin privileges\r\n            alert(\"Account data has been deleted. Please contact support to complete account deletion from Clerk.\");\r\n\r\n            setShowDeleteModal(false);\r\n            setDeleteConfirm('');\r\n            window.location.href = '/';\r\n\r\n        } catch (error) {\r\n            console.error(\"Deletion Error:\", error);\r\n            alert(\"Failed to delete account: \" + (error.message || \"Unknown error. Please contact support.\"));\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n\r\n    const clearCache = () => {\r\n        if ('caches' in window) {\r\n            caches.keys().then(names => {\r\n                names.forEach(name => caches.delete(name));\r\n            });\r\n        }\r\n        localStorage.clear();\r\n        sessionStorage.clear();\r\n        alert(\"Cache cleared successfully!\");\r\n    };\r\n\r\n    // Helper components\r\n    const ToggleSwitch = ({ checked, onChange, label, description, icon: Icon }) => (\r\n        <div className=\"flex items-center justify-between p-3 border rounded-lg dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition\">\r\n            <div className=\"flex items-center gap-3 flex-1\">\r\n                {Icon && <Icon size={16} className=\"text-gray-400 shrink-0\" />}\r\n                <div className=\"flex-1\">\r\n                    <span className=\"text-sm font-medium dark:text-gray-200 block\">{label}</span>\r\n                    {description && <p className=\"text-xs text-gray-500 mt-0.5\">{description}</p>}\r\n                </div>\r\n            </div>\r\n            <div \r\n                onClick={onChange}\r\n                className={`w-10 h-5 rounded-full p-0.5 flex cursor-pointer transition-colors shrink-0 ${\r\n                    checked ? 'bg-brand-blue justify-end' : 'bg-gray-300 dark:bg-gray-600 justify-start'\r\n                }`}\r\n            >\r\n                <div className=\"w-4 h-4 bg-white rounded-full shadow-sm\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const SelectField = ({ label, value, onChange, options, icon: Icon, description }) => (\r\n        <div className=\"space-y-1\">\r\n            <label className=\"text-xs font-bold text-gray-500 uppercase flex items-center gap-1\">\r\n                {Icon && <Icon size={12} />}\r\n                {label}\r\n            </label>\r\n            {description && <p className=\"text-xs text-gray-500\">{description}</p>}\r\n            <select \r\n                className=\"w-full p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                value={value}\r\n                onChange={e => onChange(e.target.value)}\r\n            >\r\n                {options.map(opt => (\r\n                    <option key={typeof opt === 'object' ? opt.value : opt} value={typeof opt === 'object' ? opt.value : opt}>\r\n                        {typeof opt === 'object' ? opt.label : opt}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n\r\n    const NumberInput = ({ label, value, onChange, min, max, unit, icon: Icon, description }) => (\r\n        <div className=\"space-y-1\">\r\n            <label className=\"text-xs font-bold text-gray-500 uppercase flex items-center gap-1\">\r\n                {Icon && <Icon size={12} />}\r\n                {label}\r\n            </label>\r\n            {description && <p className=\"text-xs text-gray-500\">{description}</p>}\r\n            <div className=\"flex items-center gap-2\">\r\n                <input \r\n                    type=\"number\"\r\n                    className=\"flex-1 p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                    value={value}\r\n                    onChange={e => onChange(Number(e.target.value))}\r\n                    min={min}\r\n                    max={max}\r\n                />\r\n                {unit && <span className=\"text-xs text-gray-500\">{unit}</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const ListManager = ({ title, items, type, icon: Icon }) => (\r\n        <div className=\"mt-4 border-t dark:border-gray-700 pt-4\">\r\n            <h5 className=\"text-sm font-bold dark:text-gray-300 mb-2 flex items-center gap-2\">\r\n                <Icon size={14}/> {title}\r\n            </h5>\r\n            {items && items.length > 0 ? (\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                    {items.map((id, i) => (\r\n                        <span key={i} className=\"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded flex items-center gap-1 text-gray-600 dark:text-gray-300\">\r\n                            {id.substring(0,8)}... <X size={10} className=\"cursor-pointer hover:text-red-500\"/>\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                <p className=\"text-xs text-gray-400 italic\">No active {type}.</p>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const displayedRoles = ACCOUNT_TYPES.filter(role => !HIDDEN_ROLES.includes(role));\r\n    const activeTabInfo = SETTINGS_TABS.find(t => t.id === activeTab);\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20\">\r\n            {/* Tab Navigation */}\r\n            <div className=\"bg-white dark:bg-[#2c2e36] rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden\">\r\n                <div className=\"flex overflow-x-auto scrollbar-hide border-b dark:border-gray-700\">\r\n                    {SETTINGS_TABS.map(tab => {\r\n                        const TabIcon = tab.icon;\r\n                        return (\r\n                            <button\r\n                                key={tab.id}\r\n                                onClick={() => setActiveTab(tab.id)}\r\n                                className={`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${\r\n                                    activeTab === tab.id\r\n                                        ? 'border-brand-blue text-brand-blue bg-blue-50 dark:bg-blue-900/20'\r\n                                        : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800'\r\n                                }`}\r\n                            >\r\n                                <TabIcon size={16} />\r\n                                {t(tab.labelKey)}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"bg-white dark:bg-[#2c2e36] p-6 rounded-xl border dark:border-gray-700 shadow-sm\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                    <h3 className=\"font-bold text-lg dark:text-white flex items-center gap-2\">\r\n                        {activeTabInfo && <activeTabInfo.icon size={18} className=\"text-brand-blue\" />}\r\n                        {activeTabInfo ? t(activeTabInfo.labelKey) : t('general')}\r\n                    </h3>\r\n                    <button\r\n                        onClick={saveSettings}\r\n                        disabled={saving}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 text-sm font-medium transition\"\r\n                    >\r\n                        {saving ? <Loader2 className=\"animate-spin\" size={16} /> : <Save size={16} />}\r\n                        {t('saveAll')}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* General Tab */}\r\n                {activeTab === 'general' && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Roles & Workflow */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Users size={16} className=\"text-purple-500\"/> {t('rolesWorkflow')}\r\n                            </h4>\r\n                            \r\n                            <div className=\"mb-4\">\r\n                                <label className=\"text-xs font-bold text-gray-500 uppercase block mb-2\">{t('activeAccountTypes')}</label>\r\n                                <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                                    {displayedRoles.map(role => (\r\n                                        <button \r\n                                            key={role} \r\n                                            onClick={() => toggleRole(role)}\r\n                                            className={`px-3 py-1.5 rounded-full text-xs font-bold transition border ${\r\n                                                roles.includes(role) \r\n                                                    ? 'bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-700 dark:text-purple-300' \r\n                                                    : 'bg-gray-50 border-gray-200 text-gray-500 dark:bg-transparent dark:border-gray-600 dark:text-gray-400'\r\n                                            }`}\r\n                                        >\r\n                                            {role}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n                                <SelectField\r\n                                    label={t('preferredProfile')}\r\n                                    value={preferredRole}\r\n                                    onChange={setPreferredRole}\r\n                                    options={roles.filter(r => !HIDDEN_ROLES.includes(r))}\r\n                                    icon={Star}\r\n                                />\r\n                                <SelectField\r\n                                    label={t('activeWorkflowContext')}\r\n                                    value={activeRole}\r\n                                    onChange={setActiveRole}\r\n                                    options={roles.filter(r => !HIDDEN_ROLES.includes(r))}\r\n                                    icon={RefreshCw}\r\n                                />\r\n                                <SelectField\r\n                                    label=\"Default Profile for Posts/Chats\"\r\n                                    value={defaultProfileRole}\r\n                                    onChange={setDefaultProfileRole}\r\n                                    options={roles.filter(r => !HIDDEN_ROLES.includes(r))}\r\n                                    icon={Star}\r\n                                />\r\n                            </div>\r\n\r\n                            <ToggleSwitch\r\n                                checked={localSettings.preferences?.seeAllProfiles || false}\r\n                                onChange={() => handleToggle('preferences', 'seeAllProfiles')}\r\n                                label={t('seeAllUnfiltered')}\r\n                                description={t('seeAllDescription')}\r\n                                icon={Filter}\r\n                            />\r\n\r\n                            <button \r\n                                onClick={updateAccountTypes} \r\n                                disabled={saving} \r\n                                className=\"mt-4 w-full bg-purple-600 text-white px-4 py-2.5 rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2 shadow-md transition\"\r\n                            >\r\n                                {saving ? <Loader2 className=\"animate-spin\" size={16}/> : <RefreshCw size={16}/>} {t('saveWorkflowSettings')}\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Appearance */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Moon size={16} className=\"text-purple-500\"/> {t('appearance')}\r\n                            </h4>\r\n                            <div className=\"flex bg-gray-100 dark:bg-black/20 p-1 rounded-lg\">\r\n                                {['light', 'dark', 'system'].map(theme => (\r\n                                    <button \r\n                                        key={theme} \r\n                                        onClick={() => handleThemeChange(theme)}\r\n                                        className={`flex-1 py-2 text-xs font-bold rounded-md capitalize transition-all ${\r\n                                            localSettings.theme === theme \r\n                                                ? 'bg-white dark:bg-gray-700 shadow-sm text-brand-blue' \r\n                                                : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\r\n                                        }`}\r\n                                    >\r\n                                        {t(theme)}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Language & Localization */}\r\n                        <div className=\"space-y-4\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Languages size={16} className=\"text-blue-500\"/> {t('languageLocalization')}\r\n                            </h4>\r\n                            \r\n                            <SelectField\r\n                                label={t('language')}\r\n                                value={localSettings.language || 'en'}\r\n                                onChange={val => {\r\n                                    handleValueChange(null, 'language', val);\r\n                                    // Update language context immediately\r\n                                    if (typeof window !== 'undefined') {\r\n                                        localStorage.setItem('language', val);\r\n                                        document.documentElement.lang = val;\r\n                                    }\r\n                                }}\r\n                                options={[\r\n                                    { value: 'en', label: 'English' },\r\n                                    { value: 'es', label: 'Español' },\r\n                                    { value: 'fr', label: 'Français' },\r\n                                    { value: 'de', label: 'Deutsch' },\r\n                                ]}\r\n                                icon={Globe}\r\n                            />\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <SelectField\r\n                                    label=\"Date Format\"\r\n                                    value={localSettings.dateFormat || 'MM/DD/YYYY'}\r\n                                    onChange={val => handleValueChange(null, 'dateFormat', val)}\r\n                                    options={['MM/DD/YYYY', 'DD/MM/YYYY', 'YYYY-MM-DD']}\r\n                                />\r\n                                <SelectField\r\n                                    label=\"Time Format\"\r\n                                    value={localSettings.timeFormat || '12h'}\r\n                                    onChange={val => handleValueChange(null, 'timeFormat', val)}\r\n                                    options={['12h', '24h']}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <SelectField\r\n                                    label=\"Timezone\"\r\n                                    value={localSettings.timezone || 'auto'}\r\n                                    onChange={val => handleValueChange(null, 'timezone', val)}\r\n                                    options={[\r\n                                        { value: 'auto', label: 'Auto-detect' },\r\n                                        { value: 'America/New_York', label: 'Eastern Time' },\r\n                                        { value: 'America/Chicago', label: 'Central Time' },\r\n                                        { value: 'America/Denver', label: 'Mountain Time' },\r\n                                        { value: 'America/Los_Angeles', label: 'Pacific Time' },\r\n                                    ]}\r\n                                />\r\n                                <SelectField\r\n                                    label=\"Currency\"\r\n                                    value={localSettings.currency || 'USD'}\r\n                                    onChange={val => handleValueChange(null, 'currency', val)}\r\n                                    options={['USD', 'EUR', 'GBP', 'CAD', 'AUD']}\r\n                                    icon={DollarSign}\r\n                                />\r\n                            </div>\r\n\r\n                            <SelectField\r\n                                label=\"Number Format\"\r\n                                value={localSettings.numberFormat || '1,000.00'}\r\n                                onChange={val => handleValueChange(null, 'numberFormat', val)}\r\n                                options={['1,000.00', '1.000,00', '1 000.00']}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Security & Privacy Tab */}\r\n                {activeTab === 'security' && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Account Security */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Shield size={16} className=\"text-blue-500\"/> Account Security\r\n                            </h4>\r\n                            \r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex items-center justify-between p-3 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full text-blue-600 dark:text-blue-400\">\r\n                                            <Mail size={18}/>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-sm font-bold dark:text-white\">Email Address</div>\r\n                                            <div className=\"text-xs text-gray-500\">{user.email}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button \r\n                                        onClick={() => openSecurityModal('email')}\r\n                                        className=\"text-xs font-bold bg-white dark:bg-gray-700 border dark:border-gray-600 px-3 py-1.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition\"\r\n                                    >\r\n                                        Change Email\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-center justify-between p-3 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full text-blue-600 dark:text-blue-400\">\r\n                                            <Key size={18}/>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-sm font-bold dark:text-white\">Password</div>\r\n                                            <div className=\"text-xs text-gray-500\">Last changed: Unknown</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button \r\n                                        onClick={() => openSecurityModal('password')}\r\n                                        className=\"text-xs font-bold bg-white dark:bg-gray-700 border dark:border-gray-600 px-3 py-1.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition\"\r\n                                    >\r\n                                        Change Password\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.twoFactorEnabled || false}\r\n                                    onChange={() => handleToggle(null, 'twoFactorEnabled')}\r\n                                    label=\"Two-Factor Authentication (2FA)\"\r\n                                    description=\"Add an extra layer of security to your account\"\r\n                                    icon={Lock}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Privacy Settings */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Eye size={16} className=\"text-green-500\"/> Privacy & Visibility\r\n                            </h4>\r\n                            \r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.publicProfile !== false}\r\n                                    onChange={() => handleToggle('privacy', 'publicProfile')}\r\n                                    label=\"Public Profile Visibility\"\r\n                                    description=\"Allow others to view your profile\"\r\n                                    icon={Eye}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showLocation !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showLocation')}\r\n                                    label=\"Show Location on Map\"\r\n                                    description=\"Display your location on studio maps\"\r\n                                    icon={MapPin}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.hideProfile || false}\r\n                                    onChange={() => handleToggle('privacy', 'hideProfile')}\r\n                                    label=\"Hide Profile Completely\"\r\n                                    description=\"Make your profile invisible to others\"\r\n                                    icon={EyeOff}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showEmail || false}\r\n                                    onChange={() => handleToggle('privacy', 'showEmail')}\r\n                                    label=\"Show Email Address\"\r\n                                    description=\"Display your email on your profile\"\r\n                                    icon={Mail}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showPhone || false}\r\n                                    onChange={() => handleToggle('privacy', 'showPhone')}\r\n                                    label=\"Show Phone Number\"\r\n                                    description=\"Display your phone on your profile\"\r\n                                    icon={Smartphone}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showOnlineStatus !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showOnlineStatus')}\r\n                                    label=\"Show Online Status\"\r\n                                    description=\"Let others see when you're online\"\r\n                                    icon={Monitor}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showLastSeen !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showLastSeen')}\r\n                                    label=\"Show Last Seen\"\r\n                                    description=\"Display when you were last active\"\r\n                                    icon={Clock}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.allowSearchEngines || false}\r\n                                    onChange={() => handleToggle('privacy', 'allowSearchEngines')}\r\n                                    label=\"Allow Search Engine Indexing\"\r\n                                    description=\"Let search engines index your profile\"\r\n                                    icon={Search}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.allowTagging !== false}\r\n                                    onChange={() => handleToggle('privacy', 'allowTagging')}\r\n                                    label=\"Allow Tagging\"\r\n                                    description=\"Let others tag you in posts\"\r\n                                    icon={Hash}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.reviewTagsBeforeAppear || false}\r\n                                    onChange={() => handleToggle('privacy', 'reviewTagsBeforeAppear')}\r\n                                    label=\"Review Tags Before They Appear\"\r\n                                    description=\"Approve tags before they show on your profile\"\r\n                                    icon={UserCheck}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showFollowingList !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showFollowingList')}\r\n                                    label=\"Show Following List\"\r\n                                    description=\"Let others see who you follow\"\r\n                                    icon={UserPlus}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showFollowersList !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showFollowersList')}\r\n                                    label=\"Show Followers List\"\r\n                                    description=\"Let others see your followers\"\r\n                                    icon={Users}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Content & Safety */}\r\n                        <div>\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Shield size={16} className=\"text-red-500\"/> Content & Safety\r\n                            </h4>\r\n                            \r\n                            <ListManager \r\n                                title=\"Blocked Users\" \r\n                                items={localSettings.social?.blockedUsers || []} \r\n                                type=\"blocks\" \r\n                                icon={UserX}\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Data Export */}\r\n                        <div className=\"pt-4 border-t dark:border-gray-700\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <span className=\"text-sm font-bold dark:text-white\">Your Data</span>\r\n                                    <p className=\"text-xs text-gray-500\">Download a copy of your personal data (GDPR/CCPA).</p>\r\n                                </div>\r\n                                <button \r\n                                    onClick={handleDataExport} \r\n                                    disabled={exporting}\r\n                                    className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-xs font-bold text-gray-700 dark:text-gray-200 transition\"\r\n                                >\r\n                                    {exporting ? <Loader2 size={14} className=\"animate-spin\"/> : <Download size={14}/>}\r\n                                    Download Data\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Danger Zone */}\r\n                        <div className=\"pt-4 border-t dark:border-gray-700\">\r\n                            <h4 className=\"text-sm font-bold text-red-600 dark:text-red-400 mb-2 flex items-center gap-2\">\r\n                                <Lock size={16}/> Danger Zone\r\n                            </h4>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-4\">\r\n                                Deleting your account is permanent. This action will remove your profile, posts, and messages.\r\n                            </p>\r\n                            \r\n                            {!showDeleteModal ? (\r\n                                <button \r\n                                    onClick={() => setShowDeleteModal(true)}\r\n                                    className=\"bg-red-100 hover:bg-red-200 dark:bg-red-900/40 dark:hover:bg-red-900/60 text-red-700 dark:text-red-300 px-4 py-2 rounded-lg text-sm font-bold transition\"\r\n                                >\r\n                                    Delete Account\r\n                                </button>\r\n                            ) : (\r\n                                <div className=\"bg-white dark:bg-[#1f2128] p-4 rounded-xl border border-red-200 dark:border-red-900 shadow-lg\">\r\n                                    <h5 className=\"font-bold text-red-600 dark:text-red-400 mb-2 flex items-center gap-2\">\r\n                                        <AlertTriangle size={16}/> Confirm Deletion\r\n                                    </h5>\r\n                                    <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-3\">\r\n                                        Type <strong>DELETE</strong> below to confirm. This cannot be undone.\r\n                                    </p>\r\n                                    <input \r\n                                        type=\"text\" \r\n                                        className=\"w-full p-2 border border-red-300 dark:border-red-900 rounded mb-3 text-sm focus:ring-2 focus:ring-red-500 outline-none dark:bg-black/20 dark:text-white\"\r\n                                        placeholder=\"Type DELETE\"\r\n                                        value={deleteConfirm}\r\n                                        onChange={(e) => setDeleteConfirm(e.target.value)}\r\n                                    />\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button \r\n                                            onClick={handleDeleteAccount} \r\n                                            disabled={deleteConfirm !== 'DELETE' || isDeleting}\r\n                                            className=\"flex-1 bg-red-600 text-white py-2 rounded font-bold text-xs hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                                        >\r\n                                            {isDeleting ? <Loader2 className=\"animate-spin\" size={14}/> : 'Confirm Delete'}\r\n                                        </button>\r\n                                        <button \r\n                                            onClick={() => { setShowDeleteModal(false); setDeleteConfirm(''); }}\r\n                                            className=\"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 rounded font-bold text-xs hover:opacity-80\"\r\n                                        >\r\n                                            Cancel\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Notifications Tab - Continue in next part due to length */}\r\n                {activeTab === 'notifications' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Bell size={16} className=\"text-brand-blue\"/> General Notifications\r\n                            </h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.email !== false}\r\n                                    onChange={() => handleToggle('notifications', 'email')}\r\n                                    label=\"Email Notifications\"\r\n                                    icon={Mail}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.push !== false}\r\n                                    onChange={() => handleToggle('notifications', 'push')}\r\n                                    label=\"Push Notifications\"\r\n                                    icon={Bell}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketing || false}\r\n                                    onChange={() => handleToggle('notifications', 'marketing')}\r\n                                    label=\"Marketing & Updates\"\r\n                                    icon={Star}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.soundEnabled !== false}\r\n                                    onChange={() => handleToggle('notifications', 'soundEnabled')}\r\n                                    label=\"Sound Notifications\"\r\n                                    icon={Volume2}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.badgeCount !== false}\r\n                                    onChange={() => handleToggle('notifications', 'badgeCount')}\r\n                                    label=\"Badge Count\"\r\n                                    description=\"Show unread count on app icon\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Booking Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.newRequests !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'newRequests')}\r\n                                    label=\"New Booking Requests\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.confirmations !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'confirmations')}\r\n                                    label=\"Booking Confirmations\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.reminders !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'reminders')}\r\n                                    label=\"Booking Reminders\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.cancellations !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'cancellations')}\r\n                                    label=\"Booking Cancellations\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Social Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.likes !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'likes')}\r\n                                    label=\"Likes\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.comments !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'comments')}\r\n                                    label=\"Comments\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.follows !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'follows')}\r\n                                    label=\"Follows\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.mentions !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'mentions')}\r\n                                    label=\"Mentions\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.reposts !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'reposts')}\r\n                                    label=\"Reposts\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Marketplace Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketplace?.newOffers !== false}\r\n                                    onChange={() => handleToggle('notifications', 'marketplace', 'newOffers')}\r\n                                    label=\"New Offers\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketplace?.sales !== false}\r\n                                    onChange={() => handleToggle('notifications', 'marketplace', 'sales')}\r\n                                    label=\"Sales\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketplace?.messages !== false}\r\n                                    onChange={() => handleToggle('notifications', 'marketplace', 'messages')}\r\n                                    label=\"Messages\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">System Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.system?.maintenance !== false}\r\n                                    onChange={() => handleToggle('notifications', 'system', 'maintenance')}\r\n                                    label=\"Maintenance Alerts\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.system?.updates !== false}\r\n                                    onChange={() => handleToggle('notifications', 'system', 'updates')}\r\n                                    label=\"Updates\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.system?.security !== false}\r\n                                    onChange={() => handleToggle('notifications', 'system', 'security')}\r\n                                    label=\"Security Alerts\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Quiet Hours</h4>\r\n                            <ToggleSwitch\r\n                                checked={localSettings.notifications?.quietHours?.enabled || false}\r\n                                onChange={() => handleToggle('notifications', 'quietHours', 'enabled')}\r\n                                label=\"Enable Quiet Hours\"\r\n                                description=\"Disable notifications during specific times\"\r\n                            />\r\n                            {localSettings.notifications?.quietHours?.enabled && (\r\n                                <div className=\"mt-4 grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">Start Time</label>\r\n                                        <input\r\n                                            type=\"time\"\r\n                                            className=\"w-full p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                                            value={localSettings.notifications?.quietHours?.start || '22:00'}\r\n                                            onChange={e => {\r\n                                                setLocalSettings(prev => ({\r\n                                                    ...prev,\r\n                                                    notifications: {\r\n                                                        ...prev.notifications,\r\n                                                        quietHours: {\r\n                                                            ...prev.notifications?.quietHours,\r\n                                                            start: e.target.value\r\n                                                        }\r\n                                                    }\r\n                                                }));\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">End Time</label>\r\n                                        <input\r\n                                            type=\"time\"\r\n                                            className=\"w-full p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                                            value={localSettings.notifications?.quietHours?.end || '08:00'}\r\n                                            onChange={e => {\r\n                                                setLocalSettings(prev => ({\r\n                                                    ...prev,\r\n                                                    notifications: {\r\n                                                        ...prev.notifications,\r\n                                                        quietHours: {\r\n                                                            ...prev.notifications?.quietHours,\r\n                                                            end: e.target.value\r\n                                                        }\r\n                                                    }\r\n                                                }));\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Messaging Tab */}\r\n                {activeTab === 'messaging' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.readReceipts !== false}\r\n                                onChange={() => handleToggle('messaging', 'readReceipts')}\r\n                                label=\"Read Receipts\"\r\n                                description=\"Show when messages are read\"\r\n                                icon={CheckCircle}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.typingIndicators !== false}\r\n                                onChange={() => handleToggle('messaging', 'typingIndicators')}\r\n                                label=\"Typing Indicators\"\r\n                                description=\"Show when someone is typing\"\r\n                                icon={MessageSquare}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.messageRequests || false}\r\n                                onChange={() => handleToggle('messaging', 'messageRequests')}\r\n                                label=\"Message Requests\"\r\n                                description=\"Require approval for messages from non-contacts\"\r\n                                icon={UserCheck}\r\n                            />\r\n                            <SelectField\r\n                                label=\"Who Can Message You\"\r\n                                value={localSettings.messaging?.whoCanMessage || 'everyone'}\r\n                                onChange={val => handleValueChange('messaging', 'whoCanMessage', val)}\r\n                                options={[\r\n                                    { value: 'everyone', label: 'Everyone' },\r\n                                    { value: 'followers', label: 'Followers Only' },\r\n                                    { value: 'none', label: 'No One' },\r\n                                ]}\r\n                                icon={UserX}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.autoArchive || false}\r\n                                onChange={() => handleToggle('messaging', 'autoArchive')}\r\n                                label=\"Auto-archive Old Conversations\"\r\n                                description=\"Automatically archive conversations older than 30 days\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.soundNotifications !== false}\r\n                                onChange={() => handleToggle('messaging', 'soundNotifications')}\r\n                                label=\"Sound Notifications for Messages\"\r\n                                icon={Volume2}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.previewInNotifications !== false}\r\n                                onChange={() => handleToggle('messaging', 'previewInNotifications')}\r\n                                label=\"Message Preview in Notifications\"\r\n                                description=\"Show message content in notifications\"\r\n                            />\r\n                        </div>\r\n\r\n                        <ListManager \r\n                            title=\"Muted Threads\" \r\n                            items={localSettings.messaging?.mutedThreads || []} \r\n                            type=\"mutes\" \r\n                            icon={VolumeX}\r\n                        />\r\n                        <ListManager \r\n                            title=\"Blocked Contacts\" \r\n                            items={localSettings.messaging?.blockedContacts || []} \r\n                            type=\"blocks\" \r\n                            icon={UserX}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Social & Feed Tab */}\r\n                {activeTab === 'social' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Feed Algorithm\"\r\n                                value={localSettings.social?.feedAlgorithm || 'recommended'}\r\n                                onChange={val => handleValueChange('social', 'feedAlgorithm', val)}\r\n                                options={[\r\n                                    { value: 'chronological', label: 'Chronological' },\r\n                                    { value: 'recommended', label: 'Recommended' },\r\n                                    { value: 'following', label: 'Following Only' },\r\n                                ]}\r\n                                icon={RefreshCw}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.autoPlayVideos !== false}\r\n                                onChange={() => handleToggle('social', 'autoPlayVideos')}\r\n                                label=\"Auto-play Videos in Feed\"\r\n                                icon={Video}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.showSensitiveContentWarning !== false}\r\n                                onChange={() => handleToggle('social', 'showSensitiveContentWarning')}\r\n                                label=\"Show Sensitive Content Warning\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.showActivityStatus !== false}\r\n                                onChange={() => handleToggle('social', 'showActivityStatus')}\r\n                                label=\"Show Activity Status\"\r\n                                description=\"Let others see when you're active\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.showSuggestedAccounts !== false}\r\n                                onChange={() => handleToggle('social', 'showSuggestedAccounts')}\r\n                                label=\"Show Suggested Accounts\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Content Filtering</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <SelectField\r\n                                    label=\"Sensitivity Filter\"\r\n                                    value={localSettings.contentFiltering?.sensitivityFilter || 'medium'}\r\n                                    onChange={val => handleValueChange('contentFiltering', 'sensitivityFilter', val)}\r\n                                    options={[\r\n                                        { value: 'off', label: 'Off' },\r\n                                        { value: 'low', label: 'Low' },\r\n                                        { value: 'medium', label: 'Medium' },\r\n                                        { value: 'high', label: 'High' },\r\n                                    ]}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.contentFiltering?.autoHideReported !== false}\r\n                                    onChange={() => handleToggle('contentFiltering', 'autoHideReported')}\r\n                                    label=\"Auto-hide Reported Content\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.contentFiltering?.showAgeRestricted || false}\r\n                                    onChange={() => handleToggle('contentFiltering', 'showAgeRestricted')}\r\n                                    label=\"Show Age-Restricted Content\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <ListManager \r\n                            title=\"Muted Users\" \r\n                            items={localSettings.social?.mutedUsers || []} \r\n                            type=\"mutes\" \r\n                            icon={VolumeX}\r\n                        />\r\n                        <ListManager \r\n                            title=\"Blocked Users\" \r\n                            items={localSettings.social?.blockedUsers || []} \r\n                            type=\"blocks\" \r\n                            icon={UserX}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Bookings Tab */}\r\n                {activeTab === 'bookings' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.autoAccept || false}\r\n                                onChange={() => handleToggle('bookings', 'autoAccept')}\r\n                                label=\"Auto-accept Bookings\"\r\n                                description=\"Automatically accept bookings that meet your criteria\"\r\n                            />\r\n                            <NumberInput\r\n                                label=\"Default Buffer Time\"\r\n                                value={localSettings.bookings?.defaultBufferTime || 15}\r\n                                onChange={val => handleValueChange('bookings', 'defaultBufferTime', val)}\r\n                                min={0}\r\n                                max={120}\r\n                                unit=\"minutes\"\r\n                                icon={Clock}\r\n                                description=\"Time between sessions\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.showAvailabilityPublicly || false}\r\n                                onChange={() => handleToggle('bookings', 'showAvailabilityPublicly')}\r\n                                label=\"Show Availability Calendar Publicly\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.requireDeposit || false}\r\n                                onChange={() => handleToggle('bookings', 'requireDeposit')}\r\n                                label=\"Require Deposit for Bookings\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.autoDeclineExpired !== false}\r\n                                onChange={() => handleToggle('bookings', 'autoDeclineExpired')}\r\n                                label=\"Auto-decline Expired Booking Requests\"\r\n                            />\r\n                            <NumberInput\r\n                                label=\"Default Session Duration\"\r\n                                value={localSettings.bookings?.defaultSessionDuration || 60}\r\n                                onChange={val => handleValueChange('bookings', 'defaultSessionDuration', val)}\r\n                                min={15}\r\n                                max={480}\r\n                                unit=\"minutes\"\r\n                                icon={Clock}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Booking Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.newRequests !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'newRequests')}\r\n                                    label=\"New Booking Requests\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.confirmations !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'confirmations')}\r\n                                    label=\"Booking Confirmations\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.reminders !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'reminders')}\r\n                                    label=\"Booking Reminders\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.cancellations !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'cancellations')}\r\n                                    label=\"Booking Cancellations\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Marketplace Tab */}\r\n                {activeTab === 'marketplace' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.autoListItems || false}\r\n                                onChange={() => handleToggle('marketplace', 'autoListItems')}\r\n                                label=\"Auto-list Items\"\r\n                                description=\"Automatically list items for sale\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.requireApproval !== false}\r\n                                onChange={() => handleToggle('marketplace', 'requireApproval')}\r\n                                label=\"Require Approval\"\r\n                                description=\"Review items before they go live\"\r\n                            />\r\n                            <SelectField\r\n                                label=\"Default Shipping Method\"\r\n                                value={localSettings.marketplace?.defaultShippingMethod || 'standard'}\r\n                                onChange={val => handleValueChange('marketplace', 'defaultShippingMethod', val)}\r\n                                options={['standard', 'express', 'overnight', 'pickup']}\r\n                            />\r\n                            <SelectField\r\n                                label=\"Default Payment Terms\"\r\n                                value={localSettings.marketplace?.defaultPaymentTerms || 'immediate'}\r\n                                onChange={val => handleValueChange('marketplace', 'defaultPaymentTerms', val)}\r\n                                options={[\r\n                                    { value: 'immediate', label: 'Immediate' },\r\n                                    { value: 'net15', label: 'Net 15' },\r\n                                    { value: 'net30', label: 'Net 30' },\r\n                                ]}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.autoAcceptOffersAbove || false}\r\n                                onChange={() => handleToggle('marketplace', 'autoAcceptOffersAbove')}\r\n                                label=\"Auto-accept Offers Above Threshold\"\r\n                            />\r\n                            {localSettings.marketplace?.autoAcceptOffersAbove && (\r\n                                <NumberInput\r\n                                    label=\"Auto-accept Threshold\"\r\n                                    value={localSettings.marketplace?.autoAcceptThreshold || 0}\r\n                                    onChange={val => handleValueChange('marketplace', 'autoAcceptThreshold', val)}\r\n                                    min={0}\r\n                                    unit=\"$\"\r\n                                    icon={DollarSign}\r\n                                />\r\n                            )}\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.showSoldItems !== false}\r\n                                onChange={() => handleToggle('marketplace', 'showSoldItems')}\r\n                                label=\"Show Sold Items in Listings\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Marketplace Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.marketplace?.notifications?.newOffers !== false}\r\n                                    onChange={() => handleToggle('marketplace', 'notifications', 'newOffers')}\r\n                                    label=\"New Offers\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.marketplace?.notifications?.sales !== false}\r\n                                    onChange={() => handleToggle('marketplace', 'notifications', 'sales')}\r\n                                    label=\"Sales\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.marketplace?.notifications?.messages !== false}\r\n                                    onChange={() => handleToggle('marketplace', 'notifications', 'messages')}\r\n                                    label=\"Messages\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Content & Media Tab */}\r\n                {activeTab === 'content' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Image Quality\"\r\n                                value={localSettings.content?.imageQuality || 'high'}\r\n                                onChange={val => handleValueChange('content', 'imageQuality', val)}\r\n                                options={[\r\n                                    { value: 'high', label: 'High' },\r\n                                    { value: 'medium', label: 'Medium' },\r\n                                    { value: 'low', label: 'Low (Faster Loading)' },\r\n                                ]}\r\n                                icon={Image}\r\n                            />\r\n                            <SelectField\r\n                                label=\"Video Quality\"\r\n                                value={localSettings.content?.videoQuality || 'high'}\r\n                                onChange={val => handleValueChange('content', 'videoQuality', val)}\r\n                                options={[\r\n                                    { value: 'high', label: 'High' },\r\n                                    { value: 'medium', label: 'Medium' },\r\n                                    { value: 'low', label: 'Low (Faster Loading)' },\r\n                                ]}\r\n                                icon={Video}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.content?.autoSaveUploaded !== false}\r\n                                onChange={() => handleToggle('content', 'autoSaveUploaded')}\r\n                                label=\"Auto-save Uploaded Media\"\r\n                                description=\"Automatically save uploaded images and videos\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.content?.compressImages !== false}\r\n                                onChange={() => handleToggle('content', 'compressImages')}\r\n                                label=\"Compress Images Before Upload\"\r\n                                description=\"Reduce file size for faster uploads\"\r\n                            />\r\n                            <NumberInput\r\n                                label=\"Maximum Upload Size\"\r\n                                value={localSettings.content?.maxUploadSize || 10}\r\n                                onChange={val => handleValueChange('content', 'maxUploadSize', val)}\r\n                                min={1}\r\n                                max={100}\r\n                                unit=\"MB\"\r\n                                icon={FileText}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Accessibility Tab */}\r\n                {activeTab === 'accessibility' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Font Size\"\r\n                                value={localSettings.accessibility?.fontSize || 'medium'}\r\n                                onChange={val => handleValueChange('accessibility', 'fontSize', val)}\r\n                                options={[\r\n                                    { value: 'small', label: 'Small' },\r\n                                    { value: 'medium', label: 'Medium' },\r\n                                    { value: 'large', label: 'Large' },\r\n                                    { value: 'xlarge', label: 'Extra Large' },\r\n                                ]}\r\n                                icon={FileText}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.reducedMotion || false}\r\n                                onChange={() => handleToggle('accessibility', 'reducedMotion')}\r\n                                label=\"Reduced Motion\"\r\n                                description=\"Disable animations for better accessibility\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.highContrast || false}\r\n                                onChange={() => handleToggle('accessibility', 'highContrast')}\r\n                                label=\"High Contrast Mode\"\r\n                                description=\"Increase contrast for better visibility\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.screenReaderAnnouncements !== false}\r\n                                onChange={() => handleToggle('accessibility', 'screenReaderAnnouncements')}\r\n                                label=\"Screen Reader Announcements\"\r\n                                description=\"Enable announcements for screen readers\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.keyboardHints !== false}\r\n                                onChange={() => handleToggle('accessibility', 'keyboardHints')}\r\n                                label=\"Keyboard Navigation Hints\"\r\n                                description=\"Show hints for keyboard navigation\"\r\n                            />\r\n                            <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                                <p className=\"text-xs font-semibold text-gray-500 uppercase mb-3\">Navigation</p>\r\n                            </div>\r\n                            <ToggleSwitch\r\n                                checked={localSettings.ui?.showBreadcrumbs === true}\r\n                                onChange={() => handleToggle('ui', 'showBreadcrumbs')}\r\n                                label=\"Show Breadcrumb Navigation\"\r\n                                description=\"Display breadcrumb trail at the top of the page\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Performance Tab */}\r\n                {activeTab === 'performance' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Data Usage\"\r\n                                value={localSettings.performance?.dataUsage || 'auto'}\r\n                                onChange={val => handleValueChange('performance', 'dataUsage', val)}\r\n                                options={[\r\n                                    { value: 'wifi-only', label: 'WiFi Only (for media)' },\r\n                                    { value: 'auto', label: 'Auto' },\r\n                                    { value: 'never', label: 'Never (save data)' },\r\n                                ]}\r\n                                icon={Wifi}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.performance?.offlineMode || false}\r\n                                onChange={() => handleToggle('performance', 'offlineMode')}\r\n                                label=\"Offline Mode\"\r\n                                description=\"Enable offline functionality\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.performance?.backgroundSync !== false}\r\n                                onChange={() => handleToggle('performance', 'backgroundSync')}\r\n                                label=\"Background Sync\"\r\n                                description=\"Sync data in the background\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.performance?.autoClearOldNotifications !== false}\r\n                                onChange={() => handleToggle('performance', 'autoClearOldNotifications')}\r\n                                label=\"Auto-clear Old Notifications\"\r\n                            />\r\n                            {localSettings.performance?.autoClearOldNotifications && (\r\n                                <NumberInput\r\n                                    label=\"Clear After\"\r\n                                    value={localSettings.performance?.autoClearAfterDays || 30}\r\n                                    onChange={val => handleValueChange('performance', 'autoClearAfterDays', val)}\r\n                                    min={1}\r\n                                    max={365}\r\n                                    unit=\"days\"\r\n                                    icon={Clock}\r\n                                />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Cache Management</h4>\r\n                            <button\r\n                                onClick={clearCache}\r\n                                className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 transition\"\r\n                            >\r\n                                <HardDrive size={16} />\r\n                                Clear Cache\r\n                            </button>\r\n                            <p className=\"text-xs text-gray-500 mt-2\">Clear cached data to free up storage space</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Security Modal */}\r\n            {showSecurityModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4\">\r\n                    <div className=\"bg-white dark:bg-[#2c2e36] w-full max-w-md rounded-xl p-6 shadow-2xl animate-in zoom-in-95 border dark:border-gray-700\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h3 className=\"text-lg font-bold dark:text-white flex items-center gap-2\">\r\n                                {securityAction === 'email' ? <Mail size={20}/> : <Key size={20}/>}\r\n                                Update {securityAction === 'email' ? 'Email' : 'Password'}\r\n                            </h3>\r\n                            <button onClick={() => setShowSecurityModal(false)} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\">\r\n                                <X size={20}/>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">Current Password (Required)</label>\r\n                                <input \r\n                                    type=\"password\"\r\n                                    className=\"w-full p-2.5 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white\"\r\n                                    placeholder=\"Verify your identity\"\r\n                                    value={securityForm.currentPassword}\r\n                                    onChange={e => setSecurityForm({...securityForm, currentPassword: e.target.value})}\r\n                                />\r\n                            </div>\r\n\r\n                            {securityAction === 'email' ? (\r\n                                <div>\r\n                                    <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">New Email Address</label>\r\n                                    <input \r\n                                        type=\"email\"\r\n                                        className=\"w-full p-2.5 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white\"\r\n                                        placeholder=\"name@example.com\"\r\n                                        value={securityForm.newEmail}\r\n                                        onChange={e => setSecurityForm({...securityForm, newEmail: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">New Password</label>\r\n                                    <input \r\n                                        type=\"password\"\r\n                                        className=\"w-full p-2.5 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white\"\r\n                                        placeholder=\"Min 6 characters\"\r\n                                        value={securityForm.newPassword}\r\n                                        onChange={e => setSecurityForm({...securityForm, newPassword: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <button\r\n                                onClick={handleSecurityUpdate}\r\n                                disabled={isSecurityLoading}\r\n                                className=\"w-full bg-blue-600 text-white py-2.5 rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg mt-2\"\r\n                            >\r\n                                {isSecurityLoading ? <Loader2 className=\"animate-spin\" size={18}/> : <CheckCircle size={18}/>}\r\n                                Confirm Update\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Role Removal Confirmation Modal */}\r\n            {showRoleRemoveModal && roleToRemove && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4\">\r\n                    <div className=\"bg-white dark:bg-[#2c2e36] w-full max-w-md rounded-xl p-6 shadow-2xl animate-in zoom-in-95 border dark:border-gray-700\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h3 className=\"text-lg font-bold dark:text-white flex items-center gap-2\">\r\n                                <Trash2 size={20} className=\"text-red-500\"/>\r\n                                Remove {roleToRemove} Role?\r\n                            </h3>\r\n                            <button onClick={cancelRoleRemoval} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\">\r\n                                <X size={20}/>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3\">\r\n                                <p className=\"text-sm text-yellow-800 dark:text-yellow-200\">\r\n                                    <strong>Warning:</strong> You have a profile configured for the {roleToRemove} role with data. Removing this role will:\r\n                                </p>\r\n                                <ul className=\"text-xs text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1\">\r\n                                    <li>Delete all your {roleToRemove} profile data</li>\r\n                                    <li>Remove this role from your account</li>\r\n                                    <li>This action cannot be undone</li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                            {roleToRemove === activeRole && (\r\n                                <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3\">\r\n                                    <p className=\"text-sm text-blue-800 dark:text-blue-200\">\r\n                                        <strong>Note:</strong> This is your active role. You'll be switched to another available role after removal.\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"flex gap-2 pt-2\">\r\n                                <button\r\n                                    onClick={confirmRoleRemoval}\r\n                                    className=\"flex-1 bg-red-600 text-white py-2.5 rounded-lg font-bold hover:bg-red-700 flex items-center justify-center gap-2 shadow-lg\"\r\n                                >\r\n                                    <Trash2 size={16}/> Remove Role\r\n                                </button>\r\n                                <button\r\n                                    onClick={cancelRoleRemoval}\r\n                                    className=\"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2.5 rounded-lg font-bold hover:opacity-80\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["HIDDEN_ROLES","SETTINGS_TABS","Settings","Shield","Bell","MessageSquare","Users","Calendar","ShoppingBag","Image","Accessibility","Zap","SettingsTab","user","userData","onUpdate","onRoleSwitch","subProfiles","t","language","useLanguage","location","useLocation","navigate","useNavigate","getSettingsTabFromPath","path","parts","activeTab","setActiveTab","useState","useEffect","currentPath","tabFromPath","localSettings","setLocalSettings","roles","setRoles","preferredRole","setPreferredRole","activeRole","setActiveRole","defaultProfileRole","setDefaultProfileRole","saving","setSaving","exporting","setExporting","activeSessions","setActiveSessions","isDeleting","setIsDeleting","deleteConfirm","setDeleteConfirm","showDeleteModal","setShowDeleteModal","roleToRemove","setRoleToRemove","showRoleRemoveModal","setShowRoleRemoveModal","showSecurityModal","setShowSecurityModal","securityAction","setSecurityAction","securityForm","setSecurityForm","isSecurityLoading","setIsSecurityLoading","useSettings","handleToggle","category","key","subKey","prev","updated","_a","_c","_b","_d","updateProfile","err","handleValueChange","value","handleThemeChange","val","saveSettings","updatedUserData","e","updateAccountTypes","userId","removedRoles","role","newActiveRole","validDefaultRole","deleteSubProfile","toggleRole","hasSubProfile","r","confirmRoleRemoval","cancelRoleRemoval","openSecurityModal","action","handleSecurityUpdate","handleDataExport","profile","bookings","follows","notifications","getProfile","neonQuery","exportData","blob","url","link","error","handleDeleteAccount","clearCache","names","name","ToggleSwitch","checked","onChange","label","description","Icon","jsxs","jsx","SelectField","options","opt","NumberInput","min","max","unit","ListManager","title","items","type","id","i","X","displayedRoles","ACCOUNT_TYPES","activeTabInfo","tab","TabIcon","Loader2","Save","Star","RefreshCw","Filter","Moon","theme","Languages","Globe","DollarSign","Mail","Key","Lock","Eye","MapPin","EyeOff","_e","_f","Smartphone","_g","Monitor","_h","Clock","_i","Search","_j","Hash","_k","UserCheck","_l","UserPlus","_m","_n","UserX","Download","AlertTriangle","_o","_p","_q","_r","Volume2","_s","_u","_t","_w","_v","_y","_x","_A","_z","_C","_B","_E","_D","_G","_F","_I","_H","_K","_J","_M","_L","_O","_N","_Q","_P","_S","_R","_U","_T","_W","_V","_Y","_X","__","_Z","_aa","_$","_ca","_ba","_da","CheckCircle","_ea","_fa","_ga","_ha","_ia","_ja","_ka","VolumeX","_la","_ma","_na","Video","_oa","_pa","_qa","_ra","_sa","_ta","_ua","_va","_wa","_xa","_ya","_za","_Aa","_Ba","_Da","_Ca","_Fa","_Ea","_Ha","_Ga","_Ja","_Ia","_Ka","_La","_Ma","_Na","_Oa","_Pa","_Qa","_Ra","_Ta","_Sa","_Va","_Ua","_Xa","_Wa","_Ya","_Za","__a","_$a","_ab","FileText","_bb","_cb","_db","_eb","_fb","_gb","_hb","Wifi","_ib","_jb","_kb","_lb","_mb","HardDrive","Trash2"],"mappings":"gqCAiBA,MAAMA,EAAe,CAAC,UAAW,WAAY,SAAU,WAAY,QAAQ,EAGrEC,GAAgB,CAClB,CAAE,GAAI,UAAW,SAAU,UAAW,KAAMC,EAAA,EAC5C,CAAE,GAAI,WAAY,SAAU,WAAY,KAAMC,CAAA,EAC9C,CAAE,GAAI,gBAAiB,SAAU,gBAAiB,KAAMC,EAAA,EACxD,CAAE,GAAI,YAAa,SAAU,YAAa,KAAMC,EAAA,EAChD,CAAE,GAAI,SAAU,SAAU,SAAU,KAAMC,EAAA,EAC1C,CAAE,GAAI,WAAY,SAAU,WAAY,KAAMC,EAAA,EAC9C,CAAE,GAAI,cAAe,SAAU,cAAe,KAAMC,EAAA,EACpD,CAAE,GAAI,UAAW,SAAU,UAAW,KAAMC,EAAA,EAC5C,CAAE,GAAI,gBAAiB,SAAU,gBAAiB,KAAMC,EAAA,EACxD,CAAE,GAAI,cAAe,SAAU,cAAe,KAAMC,EAAA,CACxD,EAEA,SAAwBC,GAAY,CAAE,KAAAC,EAAM,SAAAC,EAAU,SAAAC,EAAU,aAAAC,GAAc,YAAAC,EAAc,CAAA,GAAM,gXAC9F,KAAM,CAAE,EAAAC,EAAG,SAAAC,EAAA,EAAaC,GAAA,EAClBC,EAAWC,GAAA,EACXC,GAAWC,GAAA,EAGXC,GAA0BC,GAAS,CACrC,MAAMC,EAAQD,EAAK,MAAM,GAAG,EAAE,OAAO,OAAO,EAC5C,OAAIC,EAAM,CAAC,IAAM,WAAaA,EAAM,CAAC,IAAM,YAAcA,EAAM,CAAC,EACrDA,EAAM,CAAC,EAEX,SACX,EAEM,CAACC,EAAWC,EAAY,EAAIC,EAAAA,SAAS,IAAML,GAAuBJ,EAAS,QAAQ,CAAC,EAG1FU,EAAAA,UAAU,IAAM,CACZ,MAAMC,EAAc,qBAAqBJ,CAAS,GAC9CP,EAAS,WAAaW,GACtBT,GAASS,EAAa,CAAE,QAAS,EAAA,CAAM,CAE/C,EAAG,CAACJ,CAAS,CAAC,EAGdG,EAAAA,UAAU,IAAM,CACZ,MAAME,EAAcR,GAAuBJ,EAAS,QAAQ,EACxDY,IAAgBL,GAChBC,GAAaI,CAAW,CAEhC,EAAG,CAACZ,EAAS,QAAQ,CAAC,EAEtB,KAAM,CAACa,EAAeC,CAAgB,EAAIL,EAAAA,SAAS,KA0KxC,CAAE,GAzKQ,CAEb,MAAO,SACP,SAAU,KACV,WAAY,aACZ,WAAY,MACZ,SAAU,OACV,SAAU,MACV,aAAc,WAGd,QAAS,CACL,cAAe,GACf,aAAc,GACd,YAAa,GACb,UAAW,GACX,UAAW,GACX,iBAAkB,GAClB,aAAc,GACd,mBAAoB,GACpB,aAAc,GACd,uBAAwB,GACxB,kBAAmB,GACnB,kBAAmB,EAAA,EAEvB,iBAAkB,GAGlB,cAAe,CACX,MAAO,GACP,KAAM,GACN,UAAW,GACX,QAAS,CACL,YAAa,GACb,cAAe,GACf,UAAW,GACX,cAAe,EAAA,EAEnB,OAAQ,CACJ,MAAO,GACP,SAAU,GACV,QAAS,GACT,SAAU,GACV,QAAS,EAAA,EAEb,YAAa,CACT,UAAW,GACX,MAAO,GACP,SAAU,EAAA,EAEd,OAAQ,CACJ,YAAa,GACb,QAAS,GACT,SAAU,EAAA,EAEd,WAAY,CACR,QAAS,GACT,MAAO,QACP,IAAK,OAAA,EAET,aAAc,GACd,WAAY,EAAA,EAIhB,UAAW,CACP,aAAc,GACd,iBAAkB,GAClB,gBAAiB,GACjB,cAAe,WACf,YAAa,GACb,mBAAoB,GACpB,uBAAwB,GACxB,aAAc,CAAA,EACd,gBAAiB,CAAA,CAAC,EAItB,OAAQ,CACJ,cAAe,cACf,eAAgB,GAChB,4BAA6B,GAC7B,mBAAoB,GACpB,sBAAuB,GACvB,WAAY,CAAA,EACZ,aAAc,CAAA,CAAC,EAEnB,iBAAkB,CACd,kBAAmB,SACnB,aAAc,CAAA,EACd,UAAW,CAAA,EACX,iBAAkB,GAClB,kBAAmB,EAAA,EAIvB,SAAU,CACN,WAAY,GACZ,mBAAoB,CAAA,EACpB,kBAAmB,GACnB,yBAA0B,GAC1B,eAAgB,GAChB,mBAAoB,GACpB,uBAAwB,GACxB,cAAe,CACX,YAAa,GACb,cAAe,GACf,UAAW,GACX,cAAe,EAAA,CACnB,EAIJ,YAAa,CACT,cAAe,GACf,gBAAiB,GACjB,sBAAuB,WACvB,oBAAqB,YACrB,sBAAuB,GACvB,oBAAqB,EACrB,cAAe,GACf,cAAe,CACX,UAAW,GACX,MAAO,GACP,SAAU,EAAA,CACd,EAIJ,QAAS,CACL,aAAc,OACd,aAAc,OACd,iBAAkB,GAClB,eAAgB,GAChB,cAAe,EAAA,EAInB,cAAe,CACX,SAAU,SACV,cAAe,GACf,aAAc,GACd,0BAA2B,GAC3B,cAAe,EAAA,EAInB,GAAI,CACA,gBAAiB,GACjB,YAAa,GACb,iBAAkB,EAAA,EAItB,YAAa,CACT,UAAW,OACX,YAAa,GACb,eAAgB,GAChB,0BAA2B,GAC3B,mBAAoB,EAAA,EAIxB,YAAa,CACT,eAAgB,EAAA,CACpB,EAIkB,IAAIhB,GAAA,YAAAA,EAAU,WAAY,CAAA,CAAC,EACpD,EAEK,CAACsB,EAAOC,EAAQ,EAAIP,EAAAA,UAAShB,GAAA,YAAAA,EAAU,eAAgB,EAAE,EACzD,CAACwB,GAAeC,EAAgB,EAAIT,EAAAA,UAAShB,GAAA,YAAAA,EAAU,gBAAiBsB,EAAM,CAAC,CAAC,EAChF,CAACI,EAAYC,CAAa,EAAIX,EAAAA,UAAShB,GAAA,YAAAA,EAAU,oBAAqBsB,EAAM,CAAC,CAAC,EAC9E,CAACM,EAAoBC,EAAqB,EAAIb,EAAAA,UAAShB,GAAA,YAAAA,EAAU,sBAAsBA,GAAA,YAAAA,EAAU,oBAAqBsB,EAAM,CAAC,GAAK,KAAK,EACvI,CAACQ,EAAQC,CAAS,EAAIf,EAAAA,SAAS,EAAK,EACpC,CAACgB,GAAWC,EAAY,EAAIjB,EAAAA,SAAS,EAAK,EAC1C,CAACkB,GAAgBC,EAAiB,EAAInB,EAAAA,SAAS,CAAA,CAAE,EAGjD,CAACoB,GAAYC,EAAa,EAAIrB,EAAAA,SAAS,EAAK,EAC5C,CAACsB,EAAeC,CAAgB,EAAIvB,EAAAA,SAAS,EAAE,EAC/C,CAACwB,GAAiBC,CAAkB,EAAIzB,EAAAA,SAAS,EAAK,EAGtD,CAAC0B,EAAcC,CAAe,EAAI3B,EAAAA,SAAS,IAAI,EAC/C,CAAC4B,GAAqBC,CAAsB,EAAI7B,EAAAA,SAAS,EAAK,EAG9D,CAAC8B,GAAmBC,CAAoB,EAAI/B,EAAAA,SAAS,EAAK,EAC1D,CAACgC,EAAgBC,EAAiB,EAAIjC,EAAAA,SAAS,IAAI,EACnD,CAACkC,EAAcC,CAAe,EAAInC,EAAAA,SAAS,CAAE,SAAU,GAAI,YAAa,GAAI,gBAAiB,EAAA,CAAI,EACjG,CAACoC,GAAmBC,EAAoB,EAAIrC,EAAAA,SAAS,EAAK,EAEhEC,EAAAA,UAAU,IAAM,CACRjB,GAAA,MAAAA,EAAU,mBACV2B,EAAc3B,EAAS,iBAAiB,CAEhD,EAAG,CAACA,GAAA,YAAAA,EAAU,iBAAiB,CAAC,EAGhCsD,GAAYlC,CAAuB,EAGnC,MAAMmC,EAAe,CAACC,EAAUC,EAAKC,EAAS,OAAS,CACnDrC,EAAiBsC,GAAQ,aACrB,MAAMC,EAAU,CAAE,GAAGD,CAAA,EACrB,OAAID,EACAE,EAAQJ,CAAQ,EAAI,CAChB,GAAGG,EAAKH,CAAQ,EAChB,CAACC,CAAG,EAAG,CACH,IAAGI,EAAAF,EAAKH,CAAQ,IAAb,YAAAK,EAAiBJ,GACpB,CAACC,CAAM,EAAG,GAACI,GAAAC,EAAAJ,EAAKH,CAAQ,IAAb,YAAAO,EAAiBN,KAAjB,MAAAK,EAAwBJ,GAAM,CAC7C,EAEGF,GAAYC,EACnBG,EAAQJ,CAAQ,EAAI,CAChB,GAAGG,EAAKH,CAAQ,EAChB,CAACC,CAAG,EAAG,GAACO,EAAAL,EAAKH,CAAQ,IAAb,MAAAQ,EAAiBP,GAAG,EAGhCG,EAAQH,CAAG,EAAI,CAACE,EAAKF,CAAG,EAG5BxD,EAAS2D,CAAO,EAEZ7D,GAAA,MAAAA,EAAM,IACNkE,EAAclE,EAAK,GAAI,CAAE,SAAU6D,CAAA,CAAS,EACvC,MAAMM,IAAO,QAAQ,MAAM,oBAAqBA,EAAG,CAAC,EAEtDN,CACX,CAAC,CACL,EAEMO,EAAoB,CAACX,EAAUC,EAAKW,EAAOV,EAAS,OAAS,CAC/DrC,EAAiBsC,GAAQ,OACrB,MAAMC,EAAU,CAAE,GAAGD,CAAA,EACrB,OAAID,EACAE,EAAQJ,CAAQ,EAAI,CAChB,GAAGG,EAAKH,CAAQ,EAChB,CAACC,CAAG,EAAG,CACH,IAAGI,EAAAF,EAAKH,CAAQ,IAAb,YAAAK,EAAiBJ,GACpB,CAACC,CAAM,EAAGU,CAAA,CACd,EAEGZ,GAAYC,EACnBG,EAAQJ,CAAQ,EAAI,CAChB,GAAGG,EAAKH,CAAQ,EAChB,CAACC,CAAG,EAAGW,CAAA,EAGXR,EAAQH,CAAG,EAAIW,EAGnBnE,EAAS2D,CAAO,EAEZ7D,GAAA,MAAAA,EAAM,IACNkE,EAAclE,EAAK,GAAI,CACnB,SAAU6D,EACV,qBAAsBhC,CAAA,CACzB,EACI,MAAMsC,GAAO,QAAQ,MAAM,oBAAqBA,CAAG,CAAC,EAEtDN,CACX,CAAC,CACL,EAEMS,GAAqBC,GAAQ,CAC/BH,EAAkB,KAAM,QAASG,CAAG,CACxC,EAEMC,GAAe,SAAY,CAC7B,GAAKxE,EACL,CAAAgC,EAAU,EAAI,EACd,GAAI,CAQA,GAPA,MAAMkC,EAAclE,EAAK,GAAI,CACzB,SAAUqB,EACV,qBAAsBQ,EACtB,WAAY,IAAI,KAAA,EAAO,YAAA,CAAY,CACtC,EAGG3B,GAAYD,EAAU,CACtB,MAAMwE,EAAkB,CACpB,GAAGxE,EACH,SAAUoB,EACV,mBAAAQ,CAAA,EAEJ3B,EAASuE,CAAe,CAC5B,CAEA,MAAM,8BAA8B,CACxC,OAASC,EAAG,CACR,QAAQ,MAAMA,CAAC,EACf,MAAM,0BAA0B,CACpC,CACA1C,EAAU,EAAK,EACnB,EAEM2C,GAAqB,SAAY,CACnC,GAAIpD,EAAM,SAAW,GAAK,EAACvB,GAAA,MAAAA,EAAM,IAAI,OAAO,MAAM,kCAAkC,EACpFgC,EAAU,EAAI,EACd,GAAI,CACA,MAAM4C,EAAS5E,EAAK,GAGd6E,IAAgB5E,GAAA,YAAAA,EAAU,eAAgB,CAAA,GAAI,OAAO6E,GAAQ,CAACvD,EAAM,SAASuD,CAAI,CAAC,EAGxF,IAAIC,EAAgBpD,GAChBkD,EAAa,SAASlD,CAAU,GAAK,CAACJ,EAAM,SAASI,CAAU,KAE/DoD,EAAgBxD,EAAM,KAAK,GAAK,CAACpC,EAAa,SAAS,CAAC,CAAC,GAAKoC,EAAM,CAAC,EACrEK,EAAcmD,CAAa,EAGvB5E,IACAA,GAAa4E,CAAa,GAKlC,IAAIC,EAAmBnD,EAClBN,EAAM,SAASM,CAAkB,IAClCmD,EAAmBD,EACnBjD,GAAsBiD,CAAa,GAIvC,UAAWD,KAAQD,EACf,GAAI,CACA,MAAMI,GAAiBL,EAAQE,CAAI,CACvC,OAASX,EAAK,CACV,QAAQ,KAAK,oCAAoCW,CAAI,IAAKX,CAAG,CAEjE,CAWJ,GAPA,MAAMD,EAAcU,EAAQ,CACxB,cAAerD,EACf,YAAawD,EACb,qBAAsBC,CAAA,CACzB,EAGG9E,GAAYD,EAAU,CACtB,MAAMwE,EAAkB,CACpB,GAAGxE,EACH,aAAcsB,EACd,kBAAmBwD,EACnB,mBAAoBC,CAAA,EAExB9E,EAASuE,CAAe,CAC5B,CAEA,MAAM,8BAA8B,CACxC,OAASC,EAAG,CACR,QAAQ,MAAM,0BAA2BA,CAAC,EAC1C,MAAM,sBAAwBA,EAAE,SAAW,gBAAgB,CAC/D,CACA1C,EAAU,EAAK,CACnB,EAEMkD,GAAcJ,GAAS,CAEzB,GAAIvD,EAAM,SAASuD,CAAI,EAAG,CAEtB,MAAMK,GAAgB/E,GAAA,YAAAA,EAAc0E,MAChC1E,EAAY0E,CAAI,EAAE,cACjB1E,EAAY0E,CAAI,EAAE,cAAgB,OAAO,KAAK1E,EAAY0E,CAAI,EAAE,YAAY,EAAE,OAAS,GAI5F,GAAIvD,EAAM,SAAW,EAAG,CACpB,MAAM,kCAAkC,EACxC,MACJ,CAGA,GAAI4D,EAAe,CACfvC,EAAgBkC,CAAI,EACpBhC,EAAuB,EAAI,EAC3B,MACJ,CACJ,CAGAtB,GAASoC,GAAQA,EAAK,SAASkB,CAAI,EAAIlB,EAAK,OAAOwB,GAAKA,IAAMN,CAAI,EAAI,CAAC,GAAGlB,EAAMkB,CAAI,CAAC,CACzF,EAEMO,GAAqB,IAAM,CACzB1C,IACAnB,MAAiBoC,EAAK,OAAOwB,GAAKA,IAAMzC,CAAY,CAAC,EACrDG,EAAuB,EAAK,EAC5BF,EAAgB,IAAI,EAE5B,EAEM0C,GAAoB,IAAM,CAC5BxC,EAAuB,EAAK,EAC5BF,EAAgB,IAAI,CACxB,EAGM2C,GAAqBC,GAAW,CAClCtC,GAAkBsC,CAAM,EACxBpC,EAAgB,CAAE,SAAU,GAAI,YAAa,GAAI,gBAAiB,GAAI,EACtEJ,EAAqB,EAAI,CAC7B,EAEMyC,GAAuB,SAAY,CACrC,GAAI,CAACtC,EAAa,gBAAiB,CAC/B,MAAM,uDAAuD,EAC7D,MACJ,CACAG,GAAqB,EAAI,EAEzB,GAAI,CAKA,GAAIL,IAAmB,QAAS,CAC5B,GAAI,CAACE,EAAa,SAAU,MAAM,IAAI,MAAM,gCAAgC,EAC5E,MAAM,kGAAkG,CAC5G,SACSF,IAAmB,WAAY,CACpC,GAAIE,EAAa,YAAY,OAAS,EAAG,MAAM,IAAI,MAAM,yCAAyC,EAClG,MAAM,qGAAqG,CAC/G,CAEAH,EAAqB,EAAK,EAC1BI,EAAgB,CAAE,SAAU,GAAI,YAAa,GAAI,gBAAiB,GAAI,CAE1E,OAASsB,EAAG,CACR,QAAQ,MAAM,yBAA0BA,CAAC,EACzC,MAAM,qBAAuBA,EAAE,OAAO,CAC1C,CACApB,GAAqB,EAAK,CAC9B,EAEMoC,GAAmB,SAAY,CACjC,GAAI,CAAC1F,EAAM,CACP,MAAM,wDAAwD,EAC9D,MACJ,CAEAkC,GAAa,EAAI,EACjB,GAAI,CACA,MAAM0C,EAAS5E,EAAK,GAGd,CAAC2F,EAASC,EAAUC,EAASC,CAAa,EAAI,MAAM,QAAQ,IAAI,CAClEC,GAAWnB,CAAM,EACjBoB,EAAU,2EAA4E,CAACpB,CAAM,CAAC,EAC9FoB,EAAU,+EAAgF,CAACpB,CAAM,CAAC,EAClGoB,EAAU,4DAA6D,CAACpB,CAAM,CAAC,CAAA,CAClF,EAEKqB,EAAa,CACf,QAASN,GAAW,KACpB,SAAUC,GAAY,CAAA,EACtB,QAASC,GAAW,CAAA,EACpB,cAAeC,GAAiB,CAAA,EAChC,WAAY,IAAI,KAAA,EAAO,YAAA,EACvB,OAAAlB,EACA,MAAO5E,EAAK,KAAA,EAIVkG,EAAO,IAAI,KAAK,CAAC,KAAK,UAAUD,EAAY,KAAM,CAAC,CAAC,EAAG,CAAE,KAAM,mBAAoB,EACnFE,EAAM,IAAI,gBAAgBD,CAAI,EAC9BE,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOD,EACZC,EAAK,SAAW,iBAAiBxB,CAAM,IAAI,KAAK,KAAK,QACrD,SAAS,KAAK,YAAYwB,CAAI,EAC9BA,EAAK,MAAA,EACL,SAAS,KAAK,YAAYA,CAAI,EAC9B,IAAI,gBAAgBD,CAAG,EAEvB,MAAM,6BAA6B,CACvC,OAASE,EAAO,CACZ,QAAQ,MAAM,gBAAiBA,CAAK,EACpC,MAAM,0BAA4BA,EAAM,OAAO,CACnD,QAAA,CACInE,GAAa,EAAK,CACtB,CACJ,EAEMoE,GAAsB,SAAY,CACpC,GAAI/D,IAAkB,UAAY,CAACvC,EAAM,CACrC,MAAM,kCAAkC,EACxC,MACJ,CACAsC,GAAc,EAAI,EAClB,MAAMsC,EAAS5E,EAAK,GAEpB,GAAI,CAEA,MAAMgG,EAAU,qCAAsC,CAACpB,CAAM,CAAC,EAC9D,MAAMoB,EAAU,+CAAgD,CAACpB,CAAM,CAAC,EACxE,MAAMoB,EAAU,6CAA8C,CAACpB,CAAM,CAAC,EACtE,MAAMoB,EAAU,kEAAmE,CAACpB,CAAM,CAAC,EAC3F,MAAMoB,EAAU,8DAA+D,CAACpB,CAAM,CAAC,EACvF,MAAMoB,EAAU,uCAAwC,CAACpB,CAAM,CAAC,EAChE,MAAMoB,EAAU,0CAA2C,CAACpB,CAAM,CAAC,EACnE,MAAMoB,EAAU,qDAAsD,CAACpB,CAAM,CAAC,EAC9E,MAAMoB,EAAU,2DAA4D,CAACpB,CAAM,CAAC,EACpF,MAAMoB,EAAU,4DAA6D,CAACpB,CAAM,CAAC,EAIrF,MAAM,gGAAgG,EAEtGlC,EAAmB,EAAK,EACxBF,EAAiB,EAAE,EACnB,OAAO,SAAS,KAAO,GAE3B,OAAS6D,EAAO,CACZ,QAAQ,MAAM,kBAAmBA,CAAK,EACtC,MAAM,8BAAgCA,EAAM,SAAW,yCAAyC,EAChG/D,GAAc,EAAK,CACvB,CACJ,EAEMiE,GAAa,IAAM,CACjB,WAAY,QACZ,OAAO,KAAA,EAAO,KAAKC,GAAS,CACxBA,EAAM,QAAQC,GAAQ,OAAO,OAAOA,CAAI,CAAC,CAC7C,CAAC,EAEL,aAAa,MAAA,EACb,eAAe,MAAA,EACf,MAAM,6BAA6B,CACvC,EAGMC,EAAe,CAAC,CAAE,QAAAC,EAAS,SAAAC,EAAU,MAAAC,EAAO,YAAAC,EAAa,KAAMC,CAAA,IACjEC,EAAAA,KAAC,MAAA,CAAI,UAAU,qIACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACV,SAAA,CAAAD,GAAQE,EAAAA,IAACF,EAAA,CAAK,KAAM,GAAI,UAAU,yBAAyB,EAC5DC,EAAAA,KAAC,MAAA,CAAI,UAAU,SACX,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,+CAAgD,SAAAJ,EAAM,EACrEC,GAAeG,EAAAA,IAAC,IAAA,CAAE,UAAU,+BAAgC,SAAAH,CAAA,CAAY,CAAA,CAAA,CAC7E,CAAA,EACJ,EACAG,EAAAA,IAAC,MAAA,CACG,QAASL,EACT,UAAW,8EACPD,EAAU,4BAA8B,4CAC5C,GAEA,SAAAM,EAAAA,IAAC,MAAA,CAAI,UAAU,yCAAA,CAA0C,CAAA,CAAA,CAC7D,EACJ,EAGEC,EAAc,CAAC,CAAE,MAAAL,EAAO,MAAAxC,EAAO,SAAAuC,EAAU,QAAAO,EAAS,KAAMJ,EAAM,YAAAD,CAAA,IAChEE,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,oEACZ,SAAA,CAAAD,GAAQE,EAAAA,IAACF,EAAA,CAAK,KAAM,EAAA,CAAI,EACxBF,CAAA,EACL,EACCC,GAAeG,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,SAAAH,EAAY,EAClEG,EAAAA,IAAC,SAAA,CACG,UAAU,8FACV,MAAA5C,EACA,SAAUK,GAAKkC,EAASlC,EAAE,OAAO,KAAK,EAErC,SAAAyC,EAAQ,IAAIC,GACTH,EAAAA,IAAC,SAAA,CAAuD,MAAO,OAAOG,GAAQ,SAAWA,EAAI,MAAQA,EAChG,gBAAOA,GAAQ,SAAWA,EAAI,MAAQA,GAD9B,OAAOA,GAAQ,SAAWA,EAAI,MAAQA,CAEnD,CACH,CAAA,CAAA,CACL,EACJ,EAGEC,EAAc,CAAC,CAAE,MAAAR,EAAO,MAAAxC,EAAO,SAAAuC,EAAU,IAAAU,EAAK,IAAAC,EAAK,KAAAC,EAAM,KAAMT,EAAM,YAAAD,CAAA,IACvEE,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,oEACZ,SAAA,CAAAD,GAAQE,EAAAA,IAACF,EAAA,CAAK,KAAM,EAAA,CAAI,EACxBF,CAAA,EACL,EACCC,GAAeG,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,SAAAH,EAAY,EAClEE,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACG,KAAK,SACL,UAAU,8FACV,MAAA5C,EACA,SAAUK,GAAKkC,EAAS,OAAOlC,EAAE,OAAO,KAAK,CAAC,EAC9C,IAAA4C,EACA,IAAAC,CAAA,CAAA,EAEHC,GAAQP,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAyB,SAAAO,CAAA,CAAK,CAAA,CAAA,CAC3D,CAAA,EACJ,EAGEC,EAAc,CAAC,CAAE,MAAAC,EAAO,MAAAC,EAAO,KAAAC,EAAM,KAAMb,CAAA,IAC7CC,EAAAA,KAAC,MAAA,CAAI,UAAU,0CACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,oEACV,SAAA,CAAAC,EAAAA,IAACF,EAAA,CAAK,KAAM,EAAA,CAAG,EAAE,IAAEW,CAAA,EACvB,EACCC,GAASA,EAAM,OAAS,EACrBV,EAAAA,IAAC,OAAI,UAAU,uBACV,SAAAU,EAAM,IAAI,CAACE,EAAIC,IACZd,EAAAA,KAAC,OAAA,CAAa,UAAU,kHACnB,SAAA,CAAAa,EAAG,UAAU,EAAE,CAAC,EAAE,OAAIZ,EAAAA,IAACc,EAAA,CAAE,KAAM,GAAI,UAAU,mCAAA,CAAmC,CAAA,GAD1ED,CAEX,CACH,CAAA,CACL,EAEAd,EAAAA,KAAC,IAAA,CAAE,UAAU,+BAA+B,SAAA,CAAA,aAAWY,EAAK,GAAA,CAAA,CAAC,CAAA,EAErE,EAGEI,GAAiBC,GAAc,OAAOnD,GAAQ,CAAC3F,EAAa,SAAS2F,CAAI,CAAC,EAC1EoD,EAAgB9I,GAAc,KAAKiB,GAAKA,EAAE,KAAOU,CAAS,EAEhE,OACIiG,EAAAA,KAAC,MAAA,CAAI,UAAU,yEAEX,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8FACX,SAAAA,EAAAA,IAAC,OAAI,UAAU,oEACV,SAAA7H,GAAc,IAAI+I,GAAO,CACtB,MAAMC,EAAUD,EAAI,KACpB,OACInB,EAAAA,KAAC,SAAA,CAEG,QAAS,IAAMhG,GAAamH,EAAI,EAAE,EAClC,UAAW,wGACPpH,IAAcoH,EAAI,GACZ,mEACA,0IACV,GAEA,SAAA,CAAAlB,EAAAA,IAACmB,EAAA,CAAQ,KAAM,EAAA,CAAI,EAClB/H,EAAE8H,EAAI,QAAQ,CAAA,CAAA,EATVA,EAAI,EAAA,CAYrB,CAAC,EACL,EACJ,EAGAnB,EAAAA,KAAC,MAAA,CAAI,UAAU,kFACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,4DACT,SAAA,CAAAkB,SAAkBA,EAAc,KAAd,CAAmB,KAAM,GAAI,UAAU,kBAAkB,EAC3D7H,EAAhB6H,EAAkBA,EAAc,SAAc,SAAN,CAAe,EAC5D,EACAlB,EAAAA,KAAC,SAAA,CACG,QAASxC,GACT,SAAUzC,EACV,UAAU,6IAET,SAAA,CAAAA,EAASkF,EAAAA,IAACoB,EAAA,CAAQ,UAAU,eAAe,KAAM,GAAI,EAAKpB,EAAAA,IAACqB,GAAA,CAAK,KAAM,EAAA,CAAI,EAC1EjI,EAAE,SAAS,CAAA,CAAA,CAAA,CAChB,EACJ,EAGCU,IAAc,WACXiG,OAAC,MAAA,CAAI,UAAU,YAEX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAACxH,GAAA,CAAM,KAAM,GAAI,UAAU,kBAAiB,EAAE,IAAEY,EAAE,eAAe,CAAA,EACrE,EAEA2G,EAAAA,KAAC,MAAA,CAAI,UAAU,OACX,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,uDAAwD,SAAA5G,EAAE,oBAAoB,EAAE,QAChG,MAAA,CAAI,UAAU,4BACV,SAAA2H,GAAe,IAAIlD,GAChBmC,EAAAA,IAAC,SAAA,CAEG,QAAS,IAAM/B,GAAWJ,CAAI,EAC9B,UAAW,gEACPvD,EAAM,SAASuD,CAAI,EACb,oHACA,sGACV,GAEC,SAAAA,CAAA,EARIA,CAAA,CAUZ,CAAA,CACL,CAAA,EACJ,EAEAkC,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAO7G,EAAE,kBAAkB,EAC3B,MAAOoB,GACP,SAAUC,GACV,QAASH,EAAM,OAAO6D,GAAK,CAACjG,EAAa,SAASiG,CAAC,CAAC,EACpD,KAAMmD,CAAA,CAAA,EAEVtB,EAAAA,IAACC,EAAA,CACG,MAAO7G,EAAE,uBAAuB,EAChC,MAAOsB,EACP,SAAUC,EACV,QAASL,EAAM,OAAO6D,GAAK,CAACjG,EAAa,SAASiG,CAAC,CAAC,EACpD,KAAMoD,CAAA,CAAA,EAEVvB,EAAAA,IAACC,EAAA,CACG,MAAM,kCACN,MAAOrF,EACP,SAAUC,GACV,QAASP,EAAM,OAAO6D,GAAK,CAACjG,EAAa,SAASiG,CAAC,CAAC,EACpD,KAAMmD,CAAA,CAAA,CACV,EACJ,EAEAtB,EAAAA,IAACP,EAAA,CACG,UAAS5C,GAAAzC,EAAc,cAAd,YAAAyC,GAA2B,iBAAkB,GACtD,SAAU,IAAMN,EAAa,cAAe,gBAAgB,EAC5D,MAAOnD,EAAE,kBAAkB,EAC3B,YAAaA,EAAE,mBAAmB,EAClC,KAAMoI,EAAA,CAAA,EAGVzB,EAAAA,KAAC,SAAA,CACG,QAASrC,GACT,SAAU5C,EACV,UAAU,4KAET,SAAA,CAAAA,EAASkF,EAAAA,IAACoB,EAAA,CAAQ,UAAU,eAAe,KAAM,GAAG,EAAKpB,EAAAA,IAACuB,EAAA,CAAU,KAAM,EAAA,CAAG,EAAG,IAAEnI,EAAE,sBAAsB,CAAA,CAAA,CAAA,CAC/G,EACJ,EAGA2G,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAACyB,GAAA,CAAK,KAAM,GAAI,UAAU,kBAAiB,EAAE,IAAErI,EAAE,YAAY,CAAA,EACjE,EACA4G,EAAAA,IAAC,MAAA,CAAI,UAAU,mDACV,SAAA,CAAC,QAAS,OAAQ,QAAQ,EAAE,IAAI0B,GAC7B1B,EAAAA,IAAC,SAAA,CAEG,QAAS,IAAM3C,GAAkBqE,CAAK,EACtC,UAAW,sEACPtH,EAAc,QAAUsH,EAClB,sDACA,4DACV,GAEC,WAAEA,CAAK,CAAA,EARHA,CAAA,CAUZ,CAAA,CACL,CAAA,EACJ,EAGA3B,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAAC2B,GAAA,CAAU,KAAM,GAAI,UAAU,gBAAe,EAAE,IAAEvI,EAAE,sBAAsB,CAAA,EAC9E,EAEA4G,EAAAA,IAACC,EAAA,CACG,MAAO7G,EAAE,UAAU,EACnB,MAAOgB,EAAc,UAAY,KACjC,SAAUkD,GAAO,CACbH,EAAkB,KAAM,WAAYG,CAAG,EAEnC,OAAO,OAAW,MAClB,aAAa,QAAQ,WAAYA,CAAG,EACpC,SAAS,gBAAgB,KAAOA,EAExC,EACA,QAAS,CACL,CAAE,MAAO,KAAM,MAAO,SAAA,EACtB,CAAE,MAAO,KAAM,MAAO,SAAA,EACtB,CAAE,MAAO,KAAM,MAAO,UAAA,EACtB,CAAE,MAAO,KAAM,MAAO,SAAA,CAAU,EAEpC,KAAMsE,EAAA,CAAA,EAGV7B,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,cACN,MAAO7F,EAAc,YAAc,aACnC,SAAUkD,GAAOH,EAAkB,KAAM,aAAcG,CAAG,EAC1D,QAAS,CAAC,aAAc,aAAc,YAAY,CAAA,CAAA,EAEtD0C,EAAAA,IAACC,EAAA,CACG,MAAM,cACN,MAAO7F,EAAc,YAAc,MACnC,SAAUkD,GAAOH,EAAkB,KAAM,aAAcG,CAAG,EAC1D,QAAS,CAAC,MAAO,KAAK,CAAA,CAAA,CAC1B,EACJ,EAEAyC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,WACN,MAAO7F,EAAc,UAAY,OACjC,SAAUkD,GAAOH,EAAkB,KAAM,WAAYG,CAAG,EACxD,QAAS,CACL,CAAE,MAAO,OAAQ,MAAO,aAAA,EACxB,CAAE,MAAO,mBAAoB,MAAO,cAAA,EACpC,CAAE,MAAO,kBAAmB,MAAO,cAAA,EACnC,CAAE,MAAO,iBAAkB,MAAO,eAAA,EAClC,CAAE,MAAO,sBAAuB,MAAO,cAAA,CAAe,CAC1D,CAAA,EAEJ0C,EAAAA,IAACC,EAAA,CACG,MAAM,WACN,MAAO7F,EAAc,UAAY,MACjC,SAAUkD,GAAOH,EAAkB,KAAM,WAAYG,CAAG,EACxD,QAAS,CAAC,MAAO,MAAO,MAAO,MAAO,KAAK,EAC3C,KAAMuE,EAAA,CAAA,CACV,EACJ,EAEA7B,EAAAA,IAACC,EAAA,CACG,MAAM,gBACN,MAAO7F,EAAc,cAAgB,WACrC,SAAUkD,GAAOH,EAAkB,KAAM,eAAgBG,CAAG,EAC5D,QAAS,CAAC,WAAY,WAAY,UAAU,CAAA,CAAA,CAChD,CAAA,CACJ,CAAA,EACJ,EAIHxD,IAAc,YACXiG,OAAC,MAAA,CAAI,UAAU,YAEX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAAC3H,EAAA,CAAO,KAAM,GAAI,UAAU,gBAAe,EAAE,mBAAA,EACjD,EAEA0H,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8GACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,oFACX,eAAC8B,EAAA,CAAK,KAAM,GAAG,CAAA,CACnB,SACC,MAAA,CACG,SAAA,CAAA9B,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAoC,SAAA,gBAAa,EAChEA,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,WAAK,KAAA,CAAM,CAAA,CAAA,CACvD,CAAA,EACJ,EACAA,EAAAA,IAAC,SAAA,CACG,QAAS,IAAM1B,GAAkB,OAAO,EACxC,UAAU,oJACb,SAAA,cAAA,CAAA,CAED,EACJ,EAEAyB,EAAAA,KAAC,MAAA,CAAI,UAAU,8GACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,oFACX,eAAC+B,GAAA,CAAI,KAAM,GAAG,CAAA,CAClB,SACC,MAAA,CACG,SAAA,CAAA/B,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAoC,SAAA,WAAQ,EAC3DA,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,uBAAA,CAAqB,CAAA,CAAA,CAChE,CAAA,EACJ,EACAA,EAAAA,IAAC,SAAA,CACG,QAAS,IAAM1B,GAAkB,UAAU,EAC3C,UAAU,oJACb,SAAA,iBAAA,CAAA,CAED,EACJ,EAEA0B,EAAAA,IAACP,EAAA,CACG,QAASrF,EAAc,kBAAoB,GAC3C,SAAU,IAAMmC,EAAa,KAAM,kBAAkB,EACrD,MAAM,kCACN,YAAY,iDACZ,KAAMyF,EAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,EAGAjC,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAACiC,GAAA,CAAI,KAAM,GAAI,UAAU,iBAAgB,EAAE,uBAAA,EAC/C,EAEAlC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAAS1C,GAAA3C,EAAc,UAAd,YAAA2C,GAAuB,iBAAkB,GAClD,SAAU,IAAMR,EAAa,UAAW,eAAe,EACvD,MAAM,4BACN,YAAY,oCACZ,KAAM0F,EAAA,CAAA,EAEVjC,EAAAA,IAACP,EAAA,CACG,UAAS3C,GAAA1C,EAAc,UAAd,YAAA0C,GAAuB,gBAAiB,GACjD,SAAU,IAAMP,EAAa,UAAW,cAAc,EACtD,MAAM,uBACN,YAAY,uCACZ,KAAM2F,EAAA,CAAA,EAEVlC,EAAAA,IAACP,EAAA,CACG,UAASzC,GAAA5C,EAAc,UAAd,YAAA4C,GAAuB,cAAe,GAC/C,SAAU,IAAMT,EAAa,UAAW,aAAa,EACrD,MAAM,0BACN,YAAY,wCACZ,KAAM4F,EAAA,CAAA,EAEVnC,EAAAA,IAACP,EAAA,CACG,UAAS2C,GAAAhI,EAAc,UAAd,YAAAgI,GAAuB,YAAa,GAC7C,SAAU,IAAM7F,EAAa,UAAW,WAAW,EACnD,MAAM,qBACN,YAAY,qCACZ,KAAMuF,CAAA,CAAA,EAEV9B,EAAAA,IAACP,EAAA,CACG,UAAS4C,GAAAjI,EAAc,UAAd,YAAAiI,GAAuB,YAAa,GAC7C,SAAU,IAAM9F,EAAa,UAAW,WAAW,EACnD,MAAM,oBACN,YAAY,qCACZ,KAAM+F,EAAA,CAAA,EAEVtC,EAAAA,IAACP,EAAA,CACG,UAAS8C,GAAAnI,EAAc,UAAd,YAAAmI,GAAuB,oBAAqB,GACrD,SAAU,IAAMhG,EAAa,UAAW,kBAAkB,EAC1D,MAAM,qBACN,YAAY,oCACZ,KAAMiG,EAAA,CAAA,EAEVxC,EAAAA,IAACP,EAAA,CACG,UAASgD,GAAArI,EAAc,UAAd,YAAAqI,GAAuB,gBAAiB,GACjD,SAAU,IAAMlG,EAAa,UAAW,cAAc,EACtD,MAAM,iBACN,YAAY,oCACZ,KAAMmG,CAAA,CAAA,EAEV1C,EAAAA,IAACP,EAAA,CACG,UAASkD,GAAAvI,EAAc,UAAd,YAAAuI,GAAuB,qBAAsB,GACtD,SAAU,IAAMpG,EAAa,UAAW,oBAAoB,EAC5D,MAAM,+BACN,YAAY,wCACZ,KAAMqG,EAAA,CAAA,EAEV5C,EAAAA,IAACP,EAAA,CACG,UAASoD,GAAAzI,EAAc,UAAd,YAAAyI,GAAuB,gBAAiB,GACjD,SAAU,IAAMtG,EAAa,UAAW,cAAc,EACtD,MAAM,gBACN,YAAY,8BACZ,KAAMuG,EAAA,CAAA,EAEV9C,EAAAA,IAACP,EAAA,CACG,UAASsD,GAAA3I,EAAc,UAAd,YAAA2I,GAAuB,yBAA0B,GAC1D,SAAU,IAAMxG,EAAa,UAAW,wBAAwB,EAChE,MAAM,iCACN,YAAY,gDACZ,KAAMyG,EAAA,CAAA,EAEVhD,EAAAA,IAACP,EAAA,CACG,UAASwD,GAAA7I,EAAc,UAAd,YAAA6I,GAAuB,qBAAsB,GACtD,SAAU,IAAM1G,EAAa,UAAW,mBAAmB,EAC3D,MAAM,sBACN,YAAY,gCACZ,KAAM2G,EAAA,CAAA,EAEVlD,EAAAA,IAACP,EAAA,CACG,UAAS0D,GAAA/I,EAAc,UAAd,YAAA+I,GAAuB,qBAAsB,GACtD,SAAU,IAAM5G,EAAa,UAAW,mBAAmB,EAC3D,MAAM,sBACN,YAAY,gCACZ,KAAM/D,EAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,SAGC,MAAA,CACG,SAAA,CAAAuH,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAAC3H,EAAA,CAAO,KAAM,GAAI,UAAU,eAAc,EAAE,mBAAA,EAChD,EAEA2H,EAAAA,IAACQ,EAAA,CACG,MAAM,gBACN,QAAO4C,GAAAhJ,EAAc,SAAd,YAAAgJ,GAAsB,eAAgB,CAAA,EAC7C,KAAK,SACL,KAAMC,CAAA,CAAA,CACV,EACJ,QAGC,MAAA,CAAI,UAAU,qCACX,SAAAtD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACX,SAAA,CAAAA,OAAC,MAAA,CACG,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,oCAAoC,SAAA,YAAS,EAC7DA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,oDAAA,CAAkD,CAAA,EAC3F,EACAD,EAAAA,KAAC,SAAA,CACG,QAAStB,GACT,SAAUzD,GACV,UAAU,mLAET,SAAA,CAAAA,GAAYgF,EAAAA,IAACoB,EAAA,CAAQ,KAAM,GAAI,UAAU,eAAc,EAAKpB,EAAAA,IAACsD,GAAA,CAAS,KAAM,EAAA,CAAG,EAAG,eAAA,CAAA,CAAA,CAEvF,CAAA,CACJ,CAAA,CACJ,EAGAvD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,gFACV,SAAA,CAAAC,EAAAA,IAACgC,GAAA,CAAK,KAAM,EAAA,CAAG,EAAE,cAAA,EACrB,EACAhC,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,iGAE7D,EAEExE,GAQEuE,EAAAA,KAAC,MAAA,CAAI,UAAU,gGACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,wEACV,SAAA,CAAAC,EAAAA,IAACuD,GAAA,CAAc,KAAM,EAAA,CAAG,EAAE,mBAAA,EAC9B,EACAxD,EAAAA,KAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,CAAA,QACpDC,EAAAA,IAAC,UAAO,SAAA,QAAA,CAAM,EAAS,2CAAA,EAChC,EACAA,EAAAA,IAAC,QAAA,CACG,KAAK,OACL,UAAU,0JACV,YAAY,cACZ,MAAO1E,EACP,SAAWmC,GAAMlC,EAAiBkC,EAAE,OAAO,KAAK,CAAA,CAAA,EAEpDsC,EAAAA,KAAC,MAAA,CAAI,UAAU,aACX,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACG,QAASX,GACT,SAAU/D,IAAkB,UAAYF,GACxC,UAAU,sKAET,YAAa4E,EAAAA,IAACoB,EAAA,CAAQ,UAAU,eAAe,KAAM,GAAG,EAAK,gBAAA,CAAA,EAElEpB,EAAAA,IAAC,SAAA,CACG,QAAS,IAAM,CAAEvE,EAAmB,EAAK,EAAGF,EAAiB,EAAE,CAAG,EAClE,UAAU,uHACb,SAAA,QAAA,CAAA,CAED,CAAA,CACJ,CAAA,CAAA,CACJ,EApCAyE,EAAAA,IAAC,SAAA,CACG,QAAS,IAAMvE,EAAmB,EAAI,EACtC,UAAU,2JACb,SAAA,gBAAA,CAAA,CAiCD,CAAA,CAER,CAAA,EACJ,EAIH3B,IAAc,iBACXiG,OAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iEACV,SAAA,CAAAC,EAAAA,IAAC1H,GAAA,CAAK,KAAM,GAAI,UAAU,kBAAiB,EAAE,wBAAA,EACjD,EACAyH,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAAS+D,GAAApJ,EAAc,gBAAd,YAAAoJ,GAA6B,SAAU,GAChD,SAAU,IAAMjH,EAAa,gBAAiB,OAAO,EACrD,MAAM,sBACN,KAAMuF,CAAA,CAAA,EAEV9B,EAAAA,IAACP,EAAA,CACG,UAASgE,GAAArJ,EAAc,gBAAd,YAAAqJ,GAA6B,QAAS,GAC/C,SAAU,IAAMlH,EAAa,gBAAiB,MAAM,EACpD,MAAM,qBACN,KAAMjE,EAAA,CAAA,EAEV0H,EAAAA,IAACP,EAAA,CACG,UAASiE,GAAAtJ,EAAc,gBAAd,YAAAsJ,GAA6B,YAAa,GACnD,SAAU,IAAMnH,EAAa,gBAAiB,WAAW,EACzD,MAAM,sBACN,KAAM+E,CAAA,CAAA,EAEVtB,EAAAA,IAACP,EAAA,CACG,UAASkE,GAAAvJ,EAAc,gBAAd,YAAAuJ,GAA6B,gBAAiB,GACvD,SAAU,IAAMpH,EAAa,gBAAiB,cAAc,EAC5D,MAAM,sBACN,KAAMqH,EAAA,CAAA,EAEV5D,EAAAA,IAACP,EAAA,CACG,UAASoE,GAAAzJ,EAAc,gBAAd,YAAAyJ,GAA6B,cAAe,GACrD,SAAU,IAAMtH,EAAa,gBAAiB,YAAY,EAC1D,MAAM,cACN,YAAY,+BAAA,CAAA,CAChB,CAAA,CACJ,CAAA,EACJ,EAEAwD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,wBAAqB,EAC5ED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAASqE,IAAAC,GAAA3J,EAAc,gBAAd,YAAA2J,GAA6B,UAA7B,YAAAD,GAAsC,eAAgB,GAC/D,SAAU,IAAMvH,EAAa,gBAAiB,UAAW,aAAa,EACtE,MAAM,sBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASuE,IAAAC,GAAA7J,EAAc,gBAAd,YAAA6J,GAA6B,UAA7B,YAAAD,GAAsC,iBAAkB,GACjE,SAAU,IAAMzH,EAAa,gBAAiB,UAAW,eAAe,EACxE,MAAM,uBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASyE,IAAAC,GAAA/J,EAAc,gBAAd,YAAA+J,GAA6B,UAA7B,YAAAD,GAAsC,aAAc,GAC7D,SAAU,IAAM3H,EAAa,gBAAiB,UAAW,WAAW,EACpE,MAAM,mBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS2E,IAAAC,GAAAjK,EAAc,gBAAd,YAAAiK,GAA6B,UAA7B,YAAAD,GAAsC,iBAAkB,GACjE,SAAU,IAAM7H,EAAa,gBAAiB,UAAW,eAAe,EACxE,MAAM,uBAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,EAEAwD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,uBAAoB,EAC3ED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAAS6E,IAAAC,GAAAnK,EAAc,gBAAd,YAAAmK,GAA6B,SAA7B,YAAAD,GAAqC,SAAU,GACxD,SAAU,IAAM/H,EAAa,gBAAiB,SAAU,OAAO,EAC/D,MAAM,OAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS+E,IAAAC,GAAArK,EAAc,gBAAd,YAAAqK,GAA6B,SAA7B,YAAAD,GAAqC,YAAa,GAC3D,SAAU,IAAMjI,EAAa,gBAAiB,SAAU,UAAU,EAClE,MAAM,UAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASiF,IAAAC,GAAAvK,EAAc,gBAAd,YAAAuK,GAA6B,SAA7B,YAAAD,GAAqC,WAAY,GAC1D,SAAU,IAAMnI,EAAa,gBAAiB,SAAU,SAAS,EACjE,MAAM,SAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASmF,IAAAC,GAAAzK,EAAc,gBAAd,YAAAyK,GAA6B,SAA7B,YAAAD,GAAqC,YAAa,GAC3D,SAAU,IAAMrI,EAAa,gBAAiB,SAAU,UAAU,EAClE,MAAM,UAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASqF,IAAAC,GAAA3K,EAAc,gBAAd,YAAA2K,GAA6B,SAA7B,YAAAD,GAAqC,WAAY,GAC1D,SAAU,IAAMvI,EAAa,gBAAiB,SAAU,SAAS,EACjE,MAAM,SAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,EAEAwD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,4BAAyB,EAChFD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAASuF,IAAAC,GAAA7K,EAAc,gBAAd,YAAA6K,GAA6B,cAA7B,YAAAD,GAA0C,aAAc,GACjE,SAAU,IAAMzI,EAAa,gBAAiB,cAAe,WAAW,EACxE,MAAM,YAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASyF,IAAAC,GAAA/K,EAAc,gBAAd,YAAA+K,GAA6B,cAA7B,YAAAD,GAA0C,SAAU,GAC7D,SAAU,IAAM3I,EAAa,gBAAiB,cAAe,OAAO,EACpE,MAAM,OAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS2F,IAAAC,GAAAjL,EAAc,gBAAd,YAAAiL,GAA6B,cAA7B,YAAAD,GAA0C,YAAa,GAChE,SAAU,IAAM7I,EAAa,gBAAiB,cAAe,UAAU,EACvE,MAAM,UAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,EAEAwD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,uBAAoB,EAC3ED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAAS6F,IAAAC,GAAAnL,EAAc,gBAAd,YAAAmL,GAA6B,SAA7B,YAAAD,GAAqC,eAAgB,GAC9D,SAAU,IAAM/I,EAAa,gBAAiB,SAAU,aAAa,EACrE,MAAM,oBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS+F,IAAAC,GAAArL,EAAc,gBAAd,YAAAqL,GAA6B,SAA7B,YAAAD,GAAqC,WAAY,GAC1D,SAAU,IAAMjJ,EAAa,gBAAiB,SAAU,SAAS,EACjE,MAAM,SAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASiG,IAAAC,GAAAvL,EAAc,gBAAd,YAAAuL,GAA6B,SAA7B,YAAAD,GAAqC,YAAa,GAC3D,SAAU,IAAMnJ,EAAa,gBAAiB,SAAU,UAAU,EAClE,MAAM,iBAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,SAEC,MAAA,CACG,SAAA,CAAAyD,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,cAAW,EAClEA,EAAAA,IAACP,EAAA,CACG,UAASmG,IAAAC,GAAAzL,EAAc,gBAAd,YAAAyL,GAA6B,aAA7B,YAAAD,GAAyC,UAAW,GAC7D,SAAU,IAAMrJ,EAAa,gBAAiB,aAAc,SAAS,EACrE,MAAM,qBACN,YAAY,6CAAA,CAAA,IAEfuJ,IAAAC,GAAA3L,EAAc,gBAAd,YAAA2L,GAA6B,aAA7B,YAAAD,GAAyC,UACtC/F,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACX,SAAA,CAAAA,OAAC,MAAA,CACG,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,uDAAuD,SAAA,aAAU,EAClFA,EAAAA,IAAC,QAAA,CACG,KAAK,OACL,UAAU,8FACV,QAAOgG,IAAAC,GAAA7L,EAAc,gBAAd,YAAA6L,GAA6B,aAA7B,YAAAD,GAAyC,QAAS,QACzD,SAAUvI,GAAK,CACXpD,EAAiBsC,GAAA,OAAS,OACtB,GAAGA,EACH,cAAe,CACX,GAAGA,EAAK,cACR,WAAY,CACR,IAAGE,EAAAF,EAAK,gBAAL,YAAAE,EAAoB,WACvB,MAAOY,EAAE,OAAO,KAAA,CACpB,CACJ,EACF,CACN,CAAA,CAAA,CACJ,EACJ,SACC,MAAA,CACG,SAAA,CAAAuC,EAAAA,IAAC,QAAA,CAAM,UAAU,uDAAuD,SAAA,WAAQ,EAChFA,EAAAA,IAAC,QAAA,CACG,KAAK,OACL,UAAU,8FACV,QAAOkG,IAAAC,GAAA/L,EAAc,gBAAd,YAAA+L,GAA6B,aAA7B,YAAAD,GAAyC,MAAO,QACvD,SAAUzI,GAAK,CACXpD,EAAiBsC,GAAA,OAAS,OACtB,GAAGA,EACH,cAAe,CACX,GAAGA,EAAK,cACR,WAAY,CACR,IAAGE,EAAAF,EAAK,gBAAL,YAAAE,EAAoB,WACvB,IAAKY,EAAE,OAAO,KAAA,CAClB,CACJ,EACF,CACN,CAAA,CAAA,CACJ,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,CAAA,CAER,CAAA,EACJ,EAIH3D,IAAc,aACXiG,OAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAAS2G,GAAAhM,EAAc,YAAd,YAAAgM,GAAyB,gBAAiB,GACnD,SAAU,IAAM7J,EAAa,YAAa,cAAc,EACxD,MAAM,gBACN,YAAY,8BACZ,KAAM8J,EAAA,CAAA,EAEVrG,EAAAA,IAACP,EAAA,CACG,UAAS6G,GAAAlM,EAAc,YAAd,YAAAkM,GAAyB,oBAAqB,GACvD,SAAU,IAAM/J,EAAa,YAAa,kBAAkB,EAC5D,MAAM,oBACN,YAAY,8BACZ,KAAMhE,EAAA,CAAA,EAEVyH,EAAAA,IAACP,EAAA,CACG,UAAS8G,GAAAnM,EAAc,YAAd,YAAAmM,GAAyB,kBAAmB,GACrD,SAAU,IAAMhK,EAAa,YAAa,iBAAiB,EAC3D,MAAM,mBACN,YAAY,kDACZ,KAAMyG,EAAA,CAAA,EAEVhD,EAAAA,IAACC,EAAA,CACG,MAAM,sBACN,QAAOuG,GAAApM,EAAc,YAAd,YAAAoM,GAAyB,gBAAiB,WACjD,SAAUlJ,GAAOH,EAAkB,YAAa,gBAAiBG,CAAG,EACpE,QAAS,CACL,CAAE,MAAO,WAAY,MAAO,UAAA,EAC5B,CAAE,MAAO,YAAa,MAAO,gBAAA,EAC7B,CAAE,MAAO,OAAQ,MAAO,QAAA,CAAS,EAErC,KAAM+F,CAAA,CAAA,EAEVrD,EAAAA,IAACP,EAAA,CACG,UAASgH,GAAArM,EAAc,YAAd,YAAAqM,GAAyB,cAAe,GACjD,SAAU,IAAMlK,EAAa,YAAa,aAAa,EACvD,MAAM,iCACN,YAAY,wDAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAASiH,GAAAtM,EAAc,YAAd,YAAAsM,GAAyB,sBAAuB,GACzD,SAAU,IAAMnK,EAAa,YAAa,oBAAoB,EAC9D,MAAM,mCACN,KAAMqH,EAAA,CAAA,EAEV5D,EAAAA,IAACP,EAAA,CACG,UAASkH,GAAAvM,EAAc,YAAd,YAAAuM,GAAyB,0BAA2B,GAC7D,SAAU,IAAMpK,EAAa,YAAa,wBAAwB,EAClE,MAAM,mCACN,YAAY,uCAAA,CAAA,CAChB,EACJ,EAEAyD,EAAAA,IAACQ,EAAA,CACG,MAAM,gBACN,QAAOoG,GAAAxM,EAAc,YAAd,YAAAwM,GAAyB,eAAgB,CAAA,EAChD,KAAK,QACL,KAAMC,EAAA,CAAA,EAEV7G,EAAAA,IAACQ,EAAA,CACG,MAAM,mBACN,QAAOsG,GAAA1M,EAAc,YAAd,YAAA0M,GAAyB,kBAAmB,CAAA,EACnD,KAAK,SACL,KAAMzD,CAAA,CAAA,CACV,EACJ,EAIHvJ,IAAc,UACXiG,OAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,iBACN,QAAO8G,GAAA3M,EAAc,SAAd,YAAA2M,GAAsB,gBAAiB,cAC9C,SAAUzJ,GAAOH,EAAkB,SAAU,gBAAiBG,CAAG,EACjE,QAAS,CACL,CAAE,MAAO,gBAAiB,MAAO,eAAA,EACjC,CAAE,MAAO,cAAe,MAAO,aAAA,EAC/B,CAAE,MAAO,YAAa,MAAO,gBAAA,CAAiB,EAElD,KAAMiE,CAAA,CAAA,EAEVvB,EAAAA,IAACP,EAAA,CACG,UAASuH,GAAA5M,EAAc,SAAd,YAAA4M,GAAsB,kBAAmB,GAClD,SAAU,IAAMzK,EAAa,SAAU,gBAAgB,EACvD,MAAM,2BACN,KAAM0K,EAAA,CAAA,EAEVjH,EAAAA,IAACP,EAAA,CACG,UAASyH,GAAA9M,EAAc,SAAd,YAAA8M,GAAsB,+BAAgC,GAC/D,SAAU,IAAM3K,EAAa,SAAU,6BAA6B,EACpE,MAAM,gCAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS0H,GAAA/M,EAAc,SAAd,YAAA+M,GAAsB,sBAAuB,GACtD,SAAU,IAAM5K,EAAa,SAAU,oBAAoB,EAC3D,MAAM,uBACN,YAAY,mCAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAAS2H,GAAAhN,EAAc,SAAd,YAAAgN,GAAsB,yBAA0B,GACzD,SAAU,IAAM7K,EAAa,SAAU,uBAAuB,EAC9D,MAAM,yBAAA,CAAA,CACV,EACJ,EAEAwD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,oBAAiB,EACxED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,qBACN,QAAOoH,GAAAjN,EAAc,mBAAd,YAAAiN,GAAgC,oBAAqB,SAC5D,SAAU/J,GAAOH,EAAkB,mBAAoB,oBAAqBG,CAAG,EAC/E,QAAS,CACL,CAAE,MAAO,MAAO,MAAO,KAAA,EACvB,CAAE,MAAO,MAAO,MAAO,KAAA,EACvB,CAAE,MAAO,SAAU,MAAO,QAAA,EAC1B,CAAE,MAAO,OAAQ,MAAO,MAAA,CAAO,CACnC,CAAA,EAEJ0C,EAAAA,IAACP,EAAA,CACG,UAAS6H,GAAAlN,EAAc,mBAAd,YAAAkN,GAAgC,oBAAqB,GAC9D,SAAU,IAAM/K,EAAa,mBAAoB,kBAAkB,EACnE,MAAM,4BAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS8H,GAAAnN,EAAc,mBAAd,YAAAmN,GAAgC,oBAAqB,GAC9D,SAAU,IAAMhL,EAAa,mBAAoB,mBAAmB,EACpE,MAAM,6BAAA,CAAA,CACV,CAAA,CACJ,CAAA,EACJ,EAEAyD,EAAAA,IAACQ,EAAA,CACG,MAAM,cACN,QAAOgH,GAAApN,EAAc,SAAd,YAAAoN,GAAsB,aAAc,CAAA,EAC3C,KAAK,QACL,KAAMX,EAAA,CAAA,EAEV7G,EAAAA,IAACQ,EAAA,CACG,MAAM,gBACN,QAAOiH,GAAArN,EAAc,SAAd,YAAAqN,GAAsB,eAAgB,CAAA,EAC7C,KAAK,SACL,KAAMpE,CAAA,CAAA,CACV,EACJ,EAIHvJ,IAAc,YACXiG,OAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAASiI,GAAAtN,EAAc,WAAd,YAAAsN,GAAwB,aAAc,GAC/C,SAAU,IAAMnL,EAAa,WAAY,YAAY,EACrD,MAAM,uBACN,YAAY,uDAAA,CAAA,EAEhByD,EAAAA,IAACI,EAAA,CACG,MAAM,sBACN,QAAOuH,GAAAvN,EAAc,WAAd,YAAAuN,GAAwB,oBAAqB,GACpD,SAAUrK,GAAOH,EAAkB,WAAY,oBAAqBG,CAAG,EACvE,IAAK,EACL,IAAK,IACL,KAAK,UACL,KAAMoF,EACN,YAAY,uBAAA,CAAA,EAEhB1C,EAAAA,IAACP,EAAA,CACG,UAASmI,GAAAxN,EAAc,WAAd,YAAAwN,GAAwB,2BAA4B,GAC7D,SAAU,IAAMrL,EAAa,WAAY,0BAA0B,EACnE,MAAM,qCAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASoI,GAAAzN,EAAc,WAAd,YAAAyN,GAAwB,iBAAkB,GACnD,SAAU,IAAMtL,EAAa,WAAY,gBAAgB,EACzD,MAAM,8BAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASqI,GAAA1N,EAAc,WAAd,YAAA0N,GAAwB,sBAAuB,GACxD,SAAU,IAAMvL,EAAa,WAAY,oBAAoB,EAC7D,MAAM,uCAAA,CAAA,EAEVyD,EAAAA,IAACI,EAAA,CACG,MAAM,2BACN,QAAO2H,GAAA3N,EAAc,WAAd,YAAA2N,GAAwB,yBAA0B,GACzD,SAAUzK,GAAOH,EAAkB,WAAY,yBAA0BG,CAAG,EAC5E,IAAK,GACL,IAAK,IACL,KAAK,UACL,KAAMoF,CAAA,CAAA,CACV,EACJ,EAEA3C,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,wBAAqB,EAC5ED,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAASuI,IAAAC,GAAA7N,EAAc,WAAd,YAAA6N,GAAwB,gBAAxB,YAAAD,GAAuC,eAAgB,GAChE,SAAU,IAAMzL,EAAa,WAAY,gBAAiB,aAAa,EACvE,MAAM,sBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASyI,IAAAC,GAAA/N,EAAc,WAAd,YAAA+N,GAAwB,gBAAxB,YAAAD,GAAuC,iBAAkB,GAClE,SAAU,IAAM3L,EAAa,WAAY,gBAAiB,eAAe,EACzE,MAAM,uBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS2I,IAAAC,GAAAjO,EAAc,WAAd,YAAAiO,GAAwB,gBAAxB,YAAAD,GAAuC,aAAc,GAC9D,SAAU,IAAM7L,EAAa,WAAY,gBAAiB,WAAW,EACrE,MAAM,mBAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS6I,IAAAC,GAAAnO,EAAc,WAAd,YAAAmO,GAAwB,gBAAxB,YAAAD,GAAuC,iBAAkB,GAClE,SAAU,IAAM/L,EAAa,WAAY,gBAAiB,eAAe,EACzE,MAAM,uBAAA,CAAA,CACV,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,EACJ,EAIHzC,IAAc,eACXiG,OAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAAS+I,GAAApO,EAAc,cAAd,YAAAoO,GAA2B,gBAAiB,GACrD,SAAU,IAAMjM,EAAa,cAAe,eAAe,EAC3D,MAAM,kBACN,YAAY,mCAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAASgJ,GAAArO,EAAc,cAAd,YAAAqO,GAA2B,mBAAoB,GACxD,SAAU,IAAMlM,EAAa,cAAe,iBAAiB,EAC7D,MAAM,mBACN,YAAY,kCAAA,CAAA,EAEhByD,EAAAA,IAACC,EAAA,CACG,MAAM,0BACN,QAAOyI,GAAAtO,EAAc,cAAd,YAAAsO,GAA2B,wBAAyB,WAC3D,SAAUpL,GAAOH,EAAkB,cAAe,wBAAyBG,CAAG,EAC9E,QAAS,CAAC,WAAY,UAAW,YAAa,QAAQ,CAAA,CAAA,EAE1D0C,EAAAA,IAACC,EAAA,CACG,MAAM,wBACN,QAAO0I,GAAAvO,EAAc,cAAd,YAAAuO,GAA2B,sBAAuB,YACzD,SAAUrL,GAAOH,EAAkB,cAAe,sBAAuBG,CAAG,EAC5E,QAAS,CACL,CAAE,MAAO,YAAa,MAAO,WAAA,EAC7B,CAAE,MAAO,QAAS,MAAO,QAAA,EACzB,CAAE,MAAO,QAAS,MAAO,QAAA,CAAS,CACtC,CAAA,EAEJ0C,EAAAA,IAACP,EAAA,CACG,UAASmJ,GAAAxO,EAAc,cAAd,YAAAwO,GAA2B,wBAAyB,GAC7D,SAAU,IAAMrM,EAAa,cAAe,uBAAuB,EACnE,MAAM,oCAAA,CAAA,IAETsM,GAAAzO,EAAc,cAAd,YAAAyO,GAA2B,wBACxB7I,EAAAA,IAACI,EAAA,CACG,MAAM,wBACN,QAAO0I,GAAA1O,EAAc,cAAd,YAAA0O,GAA2B,sBAAuB,EACzD,SAAUxL,GAAOH,EAAkB,cAAe,sBAAuBG,CAAG,EAC5E,IAAK,EACL,KAAK,IACL,KAAMuE,EAAA,CAAA,EAGd7B,EAAAA,IAACP,EAAA,CACG,UAASsJ,GAAA3O,EAAc,cAAd,YAAA2O,GAA2B,iBAAkB,GACtD,SAAU,IAAMxM,EAAa,cAAe,eAAe,EAC3D,MAAM,6BAAA,CAAA,CACV,EACJ,EAEAwD,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,4BAAyB,EAChFD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACP,EAAA,CACG,UAASuJ,IAAAC,GAAA7O,EAAc,cAAd,YAAA6O,GAA2B,gBAA3B,YAAAD,GAA0C,aAAc,GACjE,SAAU,IAAMzM,EAAa,cAAe,gBAAiB,WAAW,EACxE,MAAM,YAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAASyJ,IAAAC,GAAA/O,EAAc,cAAd,YAAA+O,GAA2B,gBAA3B,YAAAD,GAA0C,SAAU,GAC7D,SAAU,IAAM3M,EAAa,cAAe,gBAAiB,OAAO,EACpE,MAAM,OAAA,CAAA,EAEVyD,EAAAA,IAACP,EAAA,CACG,UAAS2J,IAAAC,GAAAjP,EAAc,cAAd,YAAAiP,GAA2B,gBAA3B,YAAAD,GAA0C,YAAa,GAChE,SAAU,IAAM7M,EAAa,cAAe,gBAAiB,UAAU,EACvE,MAAM,UAAA,CAAA,CACV,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,EACJ,EAIHzC,IAAc,WACXkG,EAAAA,IAAC,MAAA,CAAI,UAAU,YACX,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,gBACN,QAAOqJ,GAAAlP,EAAc,UAAd,YAAAkP,GAAuB,eAAgB,OAC9C,SAAUhM,GAAOH,EAAkB,UAAW,eAAgBG,CAAG,EACjE,QAAS,CACL,CAAE,MAAO,OAAQ,MAAO,MAAA,EACxB,CAAE,MAAO,SAAU,MAAO,QAAA,EAC1B,CAAE,MAAO,MAAO,MAAO,sBAAA,CAAuB,EAElD,KAAM3E,EAAA,CAAA,EAEVqH,EAAAA,IAACC,EAAA,CACG,MAAM,gBACN,QAAOsJ,GAAAnP,EAAc,UAAd,YAAAmP,GAAuB,eAAgB,OAC9C,SAAUjM,GAAOH,EAAkB,UAAW,eAAgBG,CAAG,EACjE,QAAS,CACL,CAAE,MAAO,OAAQ,MAAO,MAAA,EACxB,CAAE,MAAO,SAAU,MAAO,QAAA,EAC1B,CAAE,MAAO,MAAO,MAAO,sBAAA,CAAuB,EAElD,KAAM2J,EAAA,CAAA,EAEVjH,EAAAA,IAACP,EAAA,CACG,UAAS+J,GAAApP,EAAc,UAAd,YAAAoP,GAAuB,oBAAqB,GACrD,SAAU,IAAMjN,EAAa,UAAW,kBAAkB,EAC1D,MAAM,2BACN,YAAY,+CAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAASgK,GAAArP,EAAc,UAAd,YAAAqP,GAAuB,kBAAmB,GACnD,SAAU,IAAMlN,EAAa,UAAW,gBAAgB,EACxD,MAAM,gCACN,YAAY,qCAAA,CAAA,EAEhByD,EAAAA,IAACI,EAAA,CACG,MAAM,sBACN,QAAOsJ,GAAAtP,EAAc,UAAd,YAAAsP,GAAuB,gBAAiB,GAC/C,SAAUpM,GAAOH,EAAkB,UAAW,gBAAiBG,CAAG,EAClE,IAAK,EACL,IAAK,IACL,KAAK,KACL,KAAMqM,EAAA,CAAA,CACV,CAAA,CACJ,CAAA,CACJ,EAIH7P,IAAc,iBACXkG,EAAAA,IAAC,MAAA,CAAI,UAAU,YACX,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,YACN,QAAO2J,GAAAxP,EAAc,gBAAd,YAAAwP,GAA6B,WAAY,SAChD,SAAUtM,GAAOH,EAAkB,gBAAiB,WAAYG,CAAG,EACnE,QAAS,CACL,CAAE,MAAO,QAAS,MAAO,OAAA,EACzB,CAAE,MAAO,SAAU,MAAO,QAAA,EAC1B,CAAE,MAAO,QAAS,MAAO,OAAA,EACzB,CAAE,MAAO,SAAU,MAAO,aAAA,CAAc,EAE5C,KAAMqM,EAAA,CAAA,EAEV3J,EAAAA,IAACP,EAAA,CACG,UAASoK,GAAAzP,EAAc,gBAAd,YAAAyP,GAA6B,gBAAiB,GACvD,SAAU,IAAMtN,EAAa,gBAAiB,eAAe,EAC7D,MAAM,iBACN,YAAY,6CAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAASqK,GAAA1P,EAAc,gBAAd,YAAA0P,GAA6B,eAAgB,GACtD,SAAU,IAAMvN,EAAa,gBAAiB,cAAc,EAC5D,MAAM,qBACN,YAAY,yCAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAASsK,GAAA3P,EAAc,gBAAd,YAAA2P,GAA6B,6BAA8B,GACpE,SAAU,IAAMxN,EAAa,gBAAiB,2BAA2B,EACzE,MAAM,8BACN,YAAY,yCAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAASuK,GAAA5P,EAAc,gBAAd,YAAA4P,GAA6B,iBAAkB,GACxD,SAAU,IAAMzN,EAAa,gBAAiB,eAAe,EAC7D,MAAM,4BACN,YAAY,oCAAA,CAAA,EAEhByD,EAAAA,IAAC,OAAI,UAAU,qDACX,eAAC,IAAA,CAAE,UAAU,qDAAqD,SAAA,YAAA,CAAU,CAAA,CAChF,EACAA,EAAAA,IAACP,EAAA,CACG,UAASwK,GAAA7P,EAAc,KAAd,YAAA6P,GAAkB,mBAAoB,GAC/C,SAAU,IAAM1N,EAAa,KAAM,iBAAiB,EACpD,MAAM,6BACN,YAAY,iDAAA,CAAA,CAChB,CAAA,CACJ,CAAA,CACJ,EAIHzC,IAAc,eACXiG,OAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,aACN,QAAOiK,GAAA9P,EAAc,cAAd,YAAA8P,GAA2B,YAAa,OAC/C,SAAU5M,GAAOH,EAAkB,cAAe,YAAaG,CAAG,EAClE,QAAS,CACL,CAAE,MAAO,YAAa,MAAO,uBAAA,EAC7B,CAAE,MAAO,OAAQ,MAAO,MAAA,EACxB,CAAE,MAAO,QAAS,MAAO,mBAAA,CAAoB,EAEjD,KAAM6M,EAAA,CAAA,EAEVnK,EAAAA,IAACP,EAAA,CACG,UAAS2K,GAAAhQ,EAAc,cAAd,YAAAgQ,GAA2B,cAAe,GACnD,SAAU,IAAM7N,EAAa,cAAe,aAAa,EACzD,MAAM,eACN,YAAY,8BAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAAS4K,GAAAjQ,EAAc,cAAd,YAAAiQ,GAA2B,kBAAmB,GACvD,SAAU,IAAM9N,EAAa,cAAe,gBAAgB,EAC5D,MAAM,kBACN,YAAY,6BAAA,CAAA,EAEhByD,EAAAA,IAACP,EAAA,CACG,UAAS6K,GAAAlQ,EAAc,cAAd,YAAAkQ,GAA2B,6BAA8B,GAClE,SAAU,IAAM/N,EAAa,cAAe,2BAA2B,EACvE,MAAM,8BAAA,CAAA,IAETgO,GAAAnQ,EAAc,cAAd,YAAAmQ,GAA2B,4BACxBvK,EAAAA,IAACI,EAAA,CACG,MAAM,cACN,QAAOoK,GAAApQ,EAAc,cAAd,YAAAoQ,GAA2B,qBAAsB,GACxD,SAAUlN,GAAOH,EAAkB,cAAe,qBAAsBG,CAAG,EAC3E,IAAK,EACL,IAAK,IACL,KAAK,OACL,KAAMoF,CAAA,CAAA,CACV,EAER,EAEA3C,EAAAA,KAAC,MAAA,CAAI,UAAU,qCACX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,mBAAgB,EACvED,EAAAA,KAAC,SAAA,CACG,QAAST,GACT,UAAU,qLAEV,SAAA,CAAAU,EAAAA,IAACyK,GAAA,CAAU,KAAM,EAAA,CAAI,EAAE,aAAA,CAAA,CAAA,EAG3BzK,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,4CAAA,CAA0C,CAAA,CAAA,CACxF,CAAA,CAAA,CACJ,CAAA,EAER,EAGClE,UACI,MAAA,CAAI,UAAU,yEACX,SAAAiE,EAAAA,KAAC,MAAA,CAAI,UAAU,yHACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,4DACT,SAAA,CAAA/D,IAAmB,cAAW8F,EAAA,CAAK,KAAM,GAAG,EAAK9B,EAAAA,IAAC+B,GAAA,CAAI,KAAM,EAAA,CAAG,EAAG,UAC3D/F,IAAmB,QAAU,QAAU,UAAA,EACnD,EACAgE,EAAAA,IAAC,SAAA,CAAO,QAAS,IAAMjE,EAAqB,EAAK,EAAG,UAAU,0DAC1D,SAAAiE,EAAAA,IAACc,EAAA,CAAE,KAAM,GAAG,CAAA,CAChB,CAAA,EACJ,EAEAf,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,OAAC,MAAA,CACG,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,uDAAuD,SAAA,8BAA2B,EACnGA,EAAAA,IAAC,QAAA,CACG,KAAK,WACL,UAAU,uFACV,YAAY,uBACZ,MAAO9D,EAAa,gBACpB,SAAUuB,GAAKtB,EAAgB,CAAC,GAAGD,EAAc,gBAAiBuB,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACrF,EACJ,EAECzB,IAAmB,QAChB+D,EAAAA,KAAC,MAAA,CACG,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,uDAAuD,SAAA,oBAAiB,EACzFA,EAAAA,IAAC,QAAA,CACG,KAAK,QACL,UAAU,uFACV,YAAY,mBACZ,MAAO9D,EAAa,SACpB,SAAUuB,GAAKtB,EAAgB,CAAC,GAAGD,EAAc,SAAUuB,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CAC9E,CAAA,CACJ,SAEC,MAAA,CACG,SAAA,CAAAuC,EAAAA,IAAC,QAAA,CAAM,UAAU,uDAAuD,SAAA,eAAY,EACpFA,EAAAA,IAAC,QAAA,CACG,KAAK,WACL,UAAU,uFACV,YAAY,mBACZ,MAAO9D,EAAa,YACpB,SAAUuB,GAAKtB,EAAgB,CAAC,GAAGD,EAAc,YAAauB,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACjF,EACJ,EAGJsC,EAAAA,KAAC,SAAA,CACG,QAASvB,GACT,SAAUpC,GACV,UAAU,wJAET,SAAA,CAAAA,GAAoB4D,EAAAA,IAACoB,EAAA,CAAQ,UAAU,eAAe,KAAM,GAAG,EAAKpB,EAAAA,IAACqG,GAAA,CAAY,KAAM,EAAA,CAAG,EAAG,gBAAA,CAAA,CAAA,CAElG,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,CACJ,EAIHzK,IAAuBF,GACpBsE,EAAAA,IAAC,MAAA,CAAI,UAAU,yEACX,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,yHACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,4DACV,SAAA,CAAAC,EAAAA,IAAC0K,GAAA,CAAO,KAAM,GAAI,UAAU,eAAc,EAAE,UACpChP,EAAa,QAAA,EACzB,EACAsE,EAAAA,IAAC,SAAA,CAAO,QAAS3B,GAAmB,UAAU,0DAC1C,SAAA2B,EAAAA,IAACc,EAAA,CAAE,KAAM,EAAA,CAAG,CAAA,CAChB,CAAA,EACJ,EAEAf,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oGACX,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,+CACT,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,UAAA,CAAQ,EAAS,0CAAwCtE,EAAa,2CAAA,EAClF,EACAqE,EAAAA,KAAC,KAAA,CAAG,UAAU,oFACV,SAAA,CAAAA,OAAC,KAAA,CAAG,SAAA,CAAA,mBAAiBrE,EAAa,eAAA,EAAa,EAC/CsE,EAAAA,IAAC,MAAG,SAAA,oCAAA,CAAkC,EACtCA,EAAAA,IAAC,MAAG,SAAA,8BAAA,CAA4B,CAAA,CAAA,CACpC,CAAA,EACJ,EAECtE,IAAiBhB,GACdsF,EAAAA,IAAC,MAAA,CAAI,UAAU,4FACX,SAAAD,EAAAA,KAAC,IAAA,CAAE,UAAU,2CACT,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,OAAA,CAAK,EAAS,wFAAA,CAAA,CAC1B,CAAA,CACJ,EAGJD,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACX,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACG,QAAS3B,GACT,UAAU,6HAEV,SAAA,CAAA4B,EAAAA,IAAC0K,GAAA,CAAO,KAAM,EAAA,CAAG,EAAE,cAAA,CAAA,CAAA,EAEvB1K,EAAAA,IAAC,SAAA,CACG,QAAS3B,GACT,UAAU,oHACb,SAAA,QAAA,CAAA,CAED,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,CACJ,CAAA,EAER,CAER"}