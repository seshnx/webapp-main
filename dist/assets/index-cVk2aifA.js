const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LegalDocs-vjmuOoUm.js","assets/vendor-DbwibLS8.js","assets/DebugReport-B2nOFtOs.js","assets/chat-DZt5V9wQ.js","assets/vendor-framer-BrJw1elJ.js","assets/ProfileManager-DWl5_0m7.js","assets/edu-BDQTFrr5.js","assets/config-yUl3KxdD.js","assets/SettingsTab-L6oMEyX4.js","assets/Inputs-duQdC0SP.js","assets/EquipmentAutocomplete-BP_pr1EY.js","assets/Sidebar-BU6B4lxx.js","assets/Navbar-DbOnkZkv.js","assets/useNotifications-vlpZ-BOx.js","assets/vendor-maps-DqCRwoDh.js","assets/vendor-maps-Dgihpmma.css","assets/PublicProfileModal-fw9Q5Fmf.js","assets/FollowButton-BgdXzSc5.js","assets/Dashboard-DpVIDYdR.js","assets/SocialFeed-xORgOROv.js","assets/ReportModal-vPN9g311.js","assets/vendor-audio-Bu2lAtPy.js","assets/ChatInterface-C3BK0jxz.js","assets/BookingSystem-B2u-l5_Q.js","assets/vendor-calendar-O9jUgTmk.js","assets/vendor-calendar-DxzzN9QP.css","assets/Marketplace-iTfRu717.js","assets/TechServices-C7IZqIyK.js","assets/PaymentsManager-D2bYNuiG.js","assets/vendor-stripe-OXK3Micb.js","assets/BusinessCenter-p3e0zeqP.js"])))=>i.map(i=>d[i]);
var le=Object.defineProperty;var ie=(t,a,s)=>a in t?le(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var q=(t,a,s)=>ie(t,typeof a!="symbol"?a+"":a,s);import{r,j as e,bF as ce,bG as de,a5 as ue,m as Z,L as P,a0 as me,bH as xe,X as fe,bI as he,bJ as g,bK as V,R as pe,an as ge,B as be,bL as je,bM as re,bN as ae,bO as ye,bP as ve,bQ as we,bR as ke}from"./vendor-DbwibLS8.js";import{s as A,c as Ne}from"./chat-DZt5V9wQ.js";import{_ as j,f as _e,S as Se}from"./edu-BDQTFrr5.js";import{M as Ee,T as Ce,C as Le,u as Re}from"./vendor-maps-DqCRwoDh.js";import{ACCOUNT_TYPES as Pe,TALENT_SUBROLES as Ie}from"./config-yUl3KxdD.js";import"./vendor-framer-BrJw1elJ.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))x(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&x(m)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function x(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function Te({onImagesLoaded:t}){const[a,s]=r.useState([]),[x,i]=r.useState(0),[l,m]=r.useState(!1),[d,f]=r.useState({x:0,y:0,startX:0,startY:0}),p=r.useRef(null);if(r.useEffect(()=>{s([{id:"1",url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=1920&q=80",order:0},{id:"2",url:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=1920&q=80",order:1},{id:"3",url:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=1920&q=80",order:2},{id:"4",url:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1920&q=80",order:3}])},[]),r.useEffect(()=>{if(a.length===0)return;const b=[{startX:0,startY:0,endX:100,endY:0},{startX:100,startY:0,endX:0,endY:0},{startX:0,startY:0,endX:0,endY:100},{startX:0,startY:100,endX:0,endY:0}],N=b[Math.floor(Math.random()*b.length)];f(N)},[x,a.length]),r.useEffect(()=>{if(a.length===0)return;const b=3e4;return p.current=setInterval(()=>{i(N=>(N+1)%a.length)},b),()=>clearInterval(p.current)},[a.length]),r.useEffect(()=>{if(a.length>0&&!l){const b=new Image;b.onload=()=>{m(!0),t&&t(!0)},b.onerror=()=>{m(!0),t&&t(!0)},b.src=a[0].url}},[a,l,t]),a.length===0)return null;const y=a[x],v=1.8,h=30,_=(b,N)=>{const U=b===0?"0%":b===100?`-${h}%`:`-${h/2}%`,T=N===0?"0%":N===100?`-${h}%`:`-${h/2}%`;return`scale(${v}) translate(${U}, ${T})`},I=_(d.startX,d.startY),C=_(d.endX,d.endY),L=`pan-${d.startX}-${d.startY}-${d.endX}-${d.endY}`;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @keyframes ${L} {
          0% { transform: ${I}; }
          100% { transform: ${C}; }
        }
      `}),e.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",style:{zIndex:-1},children:e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${y.url})`,backgroundSize:"cover",backgroundPosition:"center",animation:`${L} 30s linear forwards`,willChange:"transform"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40"})]},y.id)})]})}const ze="/assets/SeshNx-PNG%20cCropped-mikqxod_.png",Oe="/assets/SeshNx-PNG%20cCropped%20white%20text-BvB6QJif.png",Ae=r.lazy(()=>j(()=>import("./LegalDocs-vjmuOoUm.js"),__vite__mapDeps([0,1]))),De=["Student","EDUStaff","Intern","EDUAdmin","GAdmin"],$e=Pe.filter(t=>!De.includes(t));function Ve({lat:t,lng:a}){const s=Re();return r.useEffect(()=>{s.setView([t,a],11)},[t,a,s]),null}function Ue({zip:t}){const[a,s]=r.useState({center:[34.0522,-118.2437],locationName:"",isValid:!1,loading:!1});return r.useEffect(()=>{if(!t||t.length<5)return;const i=setTimeout(async()=>{s(l=>({...l,loading:!0}));try{const l=await _e(t);s(l?{center:[l.lat,l.lng],locationName:l.cityState,isValid:!0,loading:!1}:m=>({...m,loading:!1}))}catch{s(m=>({...m,loading:!1}))}},800);return()=>clearTimeout(i)},[t]),e.jsxs("div",{className:"w-full h-36 rounded-xl overflow-hidden relative border dark:border-gray-600 shadow-inner bg-gray-100 dark:bg-[#1f2128]",children:[e.jsxs(Ee,{center:a.center,zoom:11,scrollWheelZoom:!1,zoomControl:!1,className:"h-full w-full",style:{background:"transparent"},children:[e.jsx(Ce,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:"© CARTO"}),e.jsx(Ve,{lat:a.center[0],lng:a.center[1]}),a.isValid&&e.jsx(Le,{center:a.center,radius:4e3,pathOptions:{color:"#0066ff",fillColor:"#0066ff",fillOpacity:.15,stroke:!1}})]}),a.isValid&&e.jsx("div",{className:"absolute bottom-3 right-3 bg-white/95 dark:bg-black/85 backdrop-blur-md p-2 rounded-lg shadow-lg z-[400] text-xs font-bold border dark:border-gray-700 dark:text-white",children:a.locationName})]})}function F({darkMode:t,toggleTheme:a,user:s,onSuccess:x,isNewUser:i}){const[l,m]=r.useState("login"),[d,f]=r.useState(1),[p,y]=r.useState(!1),[v,h]=r.useState(""),[_,I]=r.useState(!1),[C,L]=r.useState(!1),[b,N]=r.useState(!1),[U,T]=r.useState(!1),z=r.useRef(null),[M,X]=r.useState("auto"),[o,S]=r.useState({email:"",password:"",firstName:"",lastName:"",zip:"",roles:[],talentSubRole:""}),[O,G]=r.useState({hasUpper:!1,hasLower:!1,hasNumber:!1,isLength:!1});r.useEffect(()=>{var n,u;if(i&&s&&s.id){m("onboarding"),f(1);const $=(((n=s==null?void 0:s.user_metadata)==null?void 0:n.full_name)||((u=s==null?void 0:s.user_metadata)==null?void 0:u.name)||"").split(" ");S(E=>({...E,email:(s==null?void 0:s.email)||"",firstName:$[0]||"",lastName:$.slice(1).join(" ")||""}))}else(!s||!s.id)&&(m("login"),f(1))},[s,i]),r.useEffect(()=>{const n=o.password;G({hasUpper:/[A-Z]/.test(n),hasLower:/[a-z]/.test(n),hasNumber:/[0-9]/.test(n),isLength:n.length>=6})},[o.password]);const B=Object.values(O).every(Boolean);r.useEffect(()=>{if(!z.current)return;const n=new ResizeObserver(()=>{if(z.current){const u=z.current.scrollHeight+80;u>200&&X(`${u}px`)}});return n.observe(z.current),()=>n.disconnect()},[d,l,v,_,o.zip,o.roles]),r.useEffect(()=>{h("")},[d]);const c=async()=>{var n;if(!o.email||!o.password){h("Please fill in all fields.");return}y(!0),h("");try{const{error:u}=await A.auth.signInWithPassword({email:o.email.trim(),password:o.password});u?((n=u.message)!=null&&n.includes("Invalid login credentials")?h("Invalid email or password."):h(u.message),y(!1)):(console.log("Login success, redirecting..."),setTimeout(()=>{window.location.pathname==="/login"&&(window.location.href="/")},1500))}catch(u){console.error("Login exception:",u),h("Connection error. Please try again."),y(!1)}},R=async()=>{y(!0),h("");try{const{error:n}=await A.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"},redirectTo:`${window.location.origin}?intent=signup`}});if(n)throw n}catch(n){console.error(n),h("Failed to initialize Google login."),y(!1)}},Y=async()=>{if(l==="signup"&&!B)return h("Password too weak.");if(o.roles.length===0)return h("Please select a role.");y(!0),h("");try{let n=s==null?void 0:s.id;if(!n){const{data:E,error:K}=await A.auth.signUp({email:o.email.trim(),password:o.password,options:{data:{first_name:o.firstName,last_name:o.lastName}}});if(K)return y(!1),h(K.message);if(E!=null&&E.user&&!E.session){y(!1),m("login"),alert("Check your email to confirm your account!");return}n=E.user.id}const u=o.roles.length>0?o.roles:["Fan"],D=`${o.firstName} ${o.lastName}`,{error:$}=await A.from("profiles").upsert({id:n,email:o.email.trim(),first_name:o.firstName,last_name:o.lastName,zip_code:o.zip,account_types:u,active_role:u[0],preferred_role:u[0],effective_display_name:D,search_terms:[o.firstName,o.lastName,D].map(E=>E==null?void 0:E.toLowerCase()).filter(Boolean),updated_at:new Date().toISOString()},{onConflict:"id"});$&&console.error("Profile creation error:",$),await A.from("wallets").upsert({user_id:n,balance:0},{onConflict:"user_id"}),x&&x(),window.location.href="/"}catch(n){console.error(n),h("Signup failed. Please try again."),y(!1)}},ne=async()=>{if(!o.email)return h("Enter your email.");y(!0);const{error:n}=await A.auth.resetPasswordForEmail(o.email,{redirectTo:window.location.origin});y(!1),n?h(n.message):I(!0)},oe=()=>{if(!navigator.geolocation)return h("Geolocation not supported.");N(!0),navigator.geolocation.getCurrentPosition(async n=>{var u;try{const $=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n.coords.latitude}&lon=${n.coords.longitude}`)).json();(u=$.address)!=null&&u.postcode?S(E=>({...E,zip:$.address.postcode.split("-")[0]})):h("Zip code not found.")}catch{h("Location lookup failed.")}N(!1)},()=>{h("Location permission denied."),N(!1)})},W=({met:n,text:u})=>e.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${n?"text-green-600":"text-gray-400"}`,children:[n?e.jsx(Z,{size:12}):e.jsx("div",{className:"w-3 h-3 border rounded-full"}),u]});return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{style:{position:"fixed",inset:0,zIndex:0},children:e.jsx(Te,{onImagesLoaded:L})}),e.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-black transition-opacity duration-1000",style:{opacity:C?0:1,pointerEvents:"none"}}),e.jsx("div",{className:"absolute top-6 right-6 z-20",children:e.jsx("button",{onClick:a,className:"p-3 rounded-full bg-white/80 dark:bg-black/50 backdrop-blur-md border dark:border-gray-700",children:t?e.jsx(ce,{size:20}):e.jsx(de,{size:20})})}),e.jsx("div",{className:"bg-white/95 dark:bg-[#1a1d21]/95 dark:border dark:border-gray-700 rounded-3xl shadow-2xl w-full max-w-md relative overflow-hidden transition-[height] duration-500 z-10 backdrop-blur-md",style:{height:M,minHeight:"500px"},children:e.jsxs("div",{ref:z,className:"pt-12 px-8 pb-8",children:[e.jsxs("div",{className:"relative w-full h-48 mb-6 flex justify-center shrink-0",children:[e.jsx("div",{className:`absolute transition-all duration-500 ${l==="signup"||l==="onboarding"?"top-0 scale-90":"top-8 scale-100"}`,children:e.jsx("img",{src:t?Oe:ze,alt:"SeshNx",className:"w-96 h-40 object-contain drop-shadow-md"})}),e.jsx("div",{className:"absolute bottom-2 w-full text-center",children:e.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:l==="signup"?"Create Account":l==="forgot"?"Recovery":l==="onboarding"?"Finalize Setup":""})})]}),v&&e.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-xl text-sm flex items-center gap-2 mb-4",children:[e.jsx(ue,{size:16})," ",v]}),_&&e.jsxs("div",{className:"bg-green-50 text-green-600 p-3 rounded-xl text-sm flex items-center gap-2 mb-4",children:[e.jsx(Z,{size:16})," Check your email."]}),l==="login"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{className:"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",placeholder:"Email",value:o.email,onChange:n=>S(u=>({...u,email:n.target.value}))}),e.jsx("input",{className:"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",type:"password",placeholder:"Password",value:o.password,onChange:n=>S(u=>({...u,password:n.target.value})),onKeyDown:n=>n.key==="Enter"&&c()}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>m("forgot"),className:"text-xs text-gray-500 hover:text-brand-blue",children:"Forgot Password?"})}),e.jsx("button",{className:"w-full bg-brand-blue text-white py-3.5 rounded-xl font-bold hover:bg-blue-600 disabled:opacity-50",onClick:c,disabled:p,children:p?e.jsx(P,{className:"animate-spin mx-auto",size:20}):"Sign In"}),e.jsx("button",{onClick:R,disabled:p,className:"w-full border dark:border-gray-600 py-3.5 rounded-xl font-bold dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800",children:"Continue with Google"}),e.jsx("p",{className:"text-center text-sm text-gray-500 cursor-pointer hover:text-brand-blue pt-2",onClick:()=>m("signup"),children:"New here? Create Account"})]}),(l==="signup"||l==="onboarding")&&e.jsxs("div",{children:[d===1&&e.jsx("div",{className:"space-y-4",children:l==="signup"?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",placeholder:"Email",type:"email",value:o.email,onChange:n=>S(u=>({...u,email:n.target.value}))}),e.jsx("input",{className:"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",type:"password",placeholder:"Create Password",value:o.password,onChange:n=>S(u=>({...u,password:n.target.value}))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pl-1",children:[e.jsx(W,{met:O.hasUpper,text:"Uppercase"}),e.jsx(W,{met:O.isLength,text:"6+ Chars"}),e.jsx(W,{met:O.hasLower,text:"Lowercase"}),e.jsx(W,{met:O.hasNumber,text:"Number"})]}),e.jsx("button",{className:"w-full bg-brand-blue text-white py-3.5 rounded-xl font-bold disabled:opacity-50",onClick:()=>{B&&o.email&&f(2)},disabled:!B||!o.email,children:"Continue"}),e.jsx("p",{className:"text-center text-sm text-gray-500 cursor-pointer pt-2",onClick:()=>m("login"),children:"Have an account? Log In"})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h3",{className:"text-2xl font-bold dark:text-white",children:"Welcome!"}),e.jsx("button",{className:"w-full bg-brand-blue text-white py-3.5 rounded-xl font-bold",onClick:()=>f(2),children:"Let's Go"})]})}),d===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{className:"w-1/2 p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",placeholder:"First Name",value:o.firstName,onChange:n=>S(u=>({...u,firstName:n.target.value}))}),e.jsx("input",{className:"w-1/2 p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",placeholder:"Last Name",value:o.lastName,onChange:n=>S(u=>({...u,lastName:n.target.value}))})]}),e.jsxs("div",{className:"relative flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{className:"w-full p-3.5 pl-10 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",placeholder:"Zip Code",maxLength:5,value:o.zip,onChange:n=>S(u=>({...u,zip:n.target.value.replace(/\D/g,"")}))}),e.jsx(me,{className:"absolute left-3 top-3.5 text-gray-400",size:18})]}),e.jsx("button",{onClick:oe,className:"p-3.5 border dark:border-gray-600 rounded-xl text-brand-blue",disabled:b,children:b?e.jsx(P,{className:"animate-spin",size:18}):e.jsx(xe,{size:18})})]}),e.jsx(Ue,{zip:o.zip}),e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("button",{className:"text-gray-500",onClick:()=>f(1),children:"Back"}),e.jsx("button",{className:"bg-black dark:bg-white dark:text-black text-white px-6 py-2.5 rounded-xl font-bold disabled:opacity-50",onClick:()=>{o.firstName&&o.zip&&f(3)},disabled:!o.firstName||!o.zip,children:"Next"})]})]}),d===3&&e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:$e.map(n=>e.jsx("div",{onClick:()=>{const u=o.roles.includes(n)?o.roles.filter(D=>D!==n):[...o.roles,n];S(D=>({...D,roles:u}))},className:`p-3 border-2 rounded-xl cursor-pointer text-center font-bold text-sm transition ${o.roles.includes(n)?"border-brand-blue bg-blue-50 text-brand-blue dark:bg-blue-900/20 dark:border-blue-500":"border-gray-100 dark:border-gray-700 hover:border-gray-300"}`,children:n},n))}),o.roles.includes("Talent")&&e.jsxs("select",{className:"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",value:o.talentSubRole,onChange:n=>S(u=>({...u,talentSubRole:n.target.value})),children:[e.jsx("option",{value:"",children:"Select Talent Type (Optional)"}),Ie.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsx("button",{className:"w-full bg-green-600 text-white py-3.5 rounded-xl font-bold disabled:opacity-50",onClick:Y,disabled:p||o.roles.length===0,children:p?e.jsx(P,{className:"animate-spin mx-auto",size:20}):"Complete Setup"}),e.jsx("button",{className:"w-full text-gray-400 text-xs",onClick:()=>f(2),children:"Back"})]})]}),l==="forgot"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{className:"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white",placeholder:"Email",type:"email",value:o.email,onChange:n=>S(u=>({...u,email:n.target.value}))}),e.jsx("button",{className:"w-full bg-brand-blue text-white py-3.5 rounded-xl font-bold disabled:opacity-50",onClick:ne,disabled:p||_,children:_?"Sent!":p?e.jsx(P,{className:"animate-spin mx-auto",size:20}):"Send Link"}),e.jsx("button",{className:"w-full text-gray-500 text-sm",onClick:()=>m("login"),children:"Back"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t dark:border-gray-700 text-center",children:e.jsx("button",{onClick:()=>T(!0),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"Terms of Service • Privacy Policy"})})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-[#1a1d21] rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Legal Documents"}),e.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:e.jsx(fe,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(P,{className:"animate-spin",size:24})}),children:e.jsx(Ae,{isEmbedded:!0})})})]})})]})}const Me=r.lazy(()=>j(()=>import("./DebugReport-B2nOFtOs.js"),__vite__mapDeps([2,1,3,4])));r.lazy(()=>j(()=>import("./ProfileManager-DWl5_0m7.js"),__vite__mapDeps([5,1,3,4,6,7,8,9,10])));const Be=r.lazy(()=>j(()=>import("./SettingsTab-L6oMEyX4.js"),__vite__mapDeps([8,1,3,4,7])));function w({children:t,user:a,loading:s}){return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:32})}):a?t:e.jsx(V,{to:"/login",replace:!0})}function Fe({user:t,userData:a,loading:s,darkMode:x,toggleTheme:i,handleLogout:l}){return e.jsxs(he,{children:[e.jsx(g,{path:"/",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/feed",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/messages",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/bookings",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/marketplace",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/tech",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/payments",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/profile",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/business-center",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/legal",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/edu-student",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/edu-intern",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/edu-overview",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/edu-admin",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/studio-ops",element:e.jsx(w,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(g,{path:"/debug-report",element:e.jsx(w,{user:t,loading:s,children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(Me,{user:t,userData:a})})})}),e.jsx(g,{path:"/settings",element:e.jsx(w,{user:t,loading:s,children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(Be,{user:t,userData:a,onUpdate:async m=>{t!=null&&t.id&&A},onRoleSwitch:async m=>{t!=null&&t.id&&A}})})})}),e.jsx(g,{path:"/dashboard",element:e.jsx(V,{to:"/",replace:!0})}),e.jsx(g,{path:"/home",element:e.jsx(V,{to:"/",replace:!0})}),e.jsx(g,{path:"/social",element:e.jsx(V,{to:"/feed",replace:!0})}),e.jsx(g,{path:"/chat",element:e.jsx(V,{to:"/messages",replace:!0})}),e.jsx(g,{path:"/billing",element:e.jsx(V,{to:"/payments",replace:!0})}),e.jsx(g,{path:"*",element:e.jsx(V,{to:"/",replace:!0})})]})}let H=null,Q=!1;const Xe=async()=>H!==null?H:(Q||(Q=!0,H=!1),null),Ye=(t,a={},s={})=>{const x={message:(t==null?void 0:t.message)||"Unknown error",stack:t==null?void 0:t.stack,name:t==null?void 0:t.name,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,...a,context:s};Xe().then(i=>{i&&i.captureException&&i.captureException(t,{extra:x,tags:{component:s.component||"Unknown",errorBoundary:s.errorBoundary||"None"},contexts:{custom:s}})}).catch(()=>{});try{const i=JSON.parse(localStorage.getItem("seshnx_errors")||"[]");i.unshift(x),i.splice(10),localStorage.setItem("seshnx_errors",JSON.stringify(i))}catch{}return x};class J extends pe.Component{constructor(s){super(s);q(this,"handleReset",()=>{if(this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,copied:!1}),this.props.onReset)this.props.onReset();else{const s=window.location.pathname;s!=="/"&&s!=="/dashboard"?window.location.href="/?tab=dashboard":window.location.reload()}});q(this,"handleCopyError",async()=>{var x,i,l;const s=`
Error ID: ${this.state.errorId}
Message: ${((x=this.state.error)==null?void 0:x.message)||"Unknown error"}
Stack: ${((i=this.state.error)==null?void 0:i.stack)||"No stack trace"}
Component Stack: ${((l=this.state.errorInfo)==null?void 0:l.componentStack)||"No component stack"}
URL: ${window.location.href}
User Agent: ${navigator.userAgent}
Timestamp: ${new Date().toISOString()}
    `.trim();try{await navigator.clipboard.writeText(s),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)}catch(m){console.error("Failed to copy error:",m)}});this.state={hasError:!1,error:null,errorInfo:null,meme:"Unexpected signal chain failure.",errorId:null,copied:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorId:`ERR-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(s,x){const i={componentStack:x.componentStack,errorBoundary:this.props.name||"Default",props:this.props.context||{}},l=Ye(s,x,i);this.setState({errorInfo:{...x,errorId:this.state.errorId||l.timestamp}})}componentDidMount(){const s=["CoreAudio Overload detected.","The plugin crashed the session.","Buffer underrun exception.","Who deleted the master fader?","Sample rate mismatch: Reality is 44.1k, we are 48k.","The drummer kicked the power cable.","Ilok license not found.","Fatal Error: Not enough headroom.","The mix bus is clipping... hard.","Phantom power failure."];this.setState({meme:s[Math.floor(Math.random()*s.length)]})}render(){var s,x;return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-[#1f2128] flex flex-col items-center justify-center p-4 text-center text-white font-sans",children:e.jsxs("div",{className:"bg-[#2c2e36] border border-red-500/30 p-8 rounded-2xl shadow-2xl max-w-lg w-full relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-red-500/20 blur-[50px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-6 text-red-500",children:e.jsx(ge,{size:32,strokeWidth:2})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Session Crashed"}),e.jsxs("p",{className:"text-xl text-[#3D84ED] font-medium mb-6 italic",children:['"',this.state.meme,'"']}),e.jsxs("div",{className:"bg-[#1f2128] p-4 rounded-lg w-full mb-6 text-left border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Error Details"}),e.jsx("button",{onClick:this.handleCopyError,className:"text-xs text-gray-400 hover:text-white flex items-center gap-1 transition-colors",title:"Copy error details",children:this.state.copied?e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:12}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{size:12}),"Copy"]})})]}),e.jsxs("div",{className:"space-y-2",children:[this.state.errorId&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Error ID: "}),e.jsx("code",{className:"text-xs text-blue-400 font-mono",children:this.state.errorId})]}),e.jsx("code",{className:"text-sm text-red-400 font-mono break-words block",children:((s=this.state.error)==null?void 0:s.message)||"Unknown error occurred"}),((x=this.state.error)==null?void 0:x.stack)&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-400",children:"Stack Trace"}),e.jsx("pre",{className:"text-xs text-gray-400 font-mono mt-2 overflow-auto max-h-32",children:this.state.error.stack})]})]})]}),e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:"Go Back"}),e.jsxs("button",{onClick:this.handleReset,className:"flex-1 bg-[#3D84ED] hover:bg-blue-600 text-white py-3 px-4 rounded-xl font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center justify-center gap-2",children:[e.jsx(je,{size:18}),"Reload App"]})]})]})]})}):this.props.children}}const k=(t,a=3,s=100)=>r.lazy(()=>new Promise((x,i)=>{const l=m=>{try{const d=t();d&&typeof d.then=="function"?d.then(f=>{x(f.default?f:{default:f})}).catch(f=>{m<a?(console.warn(`Lazy load failed, retrying... (${m+1}/${a})`,f),setTimeout(()=>l(m+1),s*(m+1))):(console.error("Lazy load failed after retries:",f),i(f))}):x(d)}catch(d){m<a?(console.warn(`Lazy load sync error, retrying... (${m+1}/${a})`,d),setTimeout(()=>l(m+1),s*(m+1))):(console.error("Lazy load failed after retries (sync error):",d),i(d))}};l(0)})),We=k(()=>j(()=>import("./Sidebar-BU6B4lxx.js"),__vite__mapDeps([11,1,3,4,6,7]))),Ge=k(()=>j(()=>import("./Navbar-DbOnkZkv.js"),__vite__mapDeps([12,1,3,4,13,7,6,14,15]))),qe=k(()=>j(()=>import("./PublicProfileModal-fw9Q5Fmf.js"),__vite__mapDeps([16,1,3,4,6,7,17]))),ee=k(()=>j(()=>import("./Dashboard-DpVIDYdR.js"),__vite__mapDeps([18,6,1,3,4,7,13]))),He=k(()=>j(()=>import("./SocialFeed-xORgOROv.js"),__vite__mapDeps([19,1,3,4,20,21,7,9,17]))),Ze=k(()=>j(()=>import("./ChatInterface-C3BK0jxz.js"),__vite__mapDeps([22,1,3,4]))),Je=k(()=>j(()=>import("./BookingSystem-B2u-l5_Q.js"),__vite__mapDeps([23,1,3,4,24,25]))),Ke=k(()=>j(()=>import("./Marketplace-iTfRu717.js"),__vite__mapDeps([26,1,3,4,7,20,21]))),Qe=k(()=>j(()=>import("./TechServices-C7IZqIyK.js"),__vite__mapDeps([27,1,7,3,4,9]))),et=k(()=>j(()=>import("./PaymentsManager-D2bYNuiG.js"),__vite__mapDeps([28,1,3,4,7,29]))),tt=k(()=>j(()=>import("./ProfileManager-DWl5_0m7.js"),__vite__mapDeps([5,1,3,4,6,7,8,9,10]))),te=k(()=>j(()=>import("./BusinessCenter-p3e0zeqP.js"),__vite__mapDeps([30,1,3,4,10,7,6]))),st=k(()=>j(()=>import("./LegalDocs-vjmuOoUm.js"),__vite__mapDeps([0,1]))),rt=k(()=>j(()=>import("./edu-BDQTFrr5.js").then(t=>t.E),__vite__mapDeps([6,1,3,4,7]))),at=k(()=>j(()=>import("./edu-BDQTFrr5.js").then(t=>t.b),__vite__mapDeps([6,1,3,4,7]))),nt=k(()=>j(()=>import("./edu-BDQTFrr5.js").then(t=>t.d),__vite__mapDeps([6,1,3,4,7]))),ot=k(()=>j(()=>import("./edu-BDQTFrr5.js").then(t=>t.c),__vite__mapDeps([6,1,3,4,7]))),se=()=>e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:24})});function lt({user:t,userData:a,loading:s,darkMode:x,toggleTheme:i,handleLogout:l}){const m=c=>c==="/"?"dashboard":c==="/feed"||c==="/social"?"feed":c==="/messages"||c==="/chat"?"messages":c==="/bookings"?"bookings":c==="/marketplace"?"marketplace":c==="/tech"?"tech":c==="/payments"||c==="/billing"?"payments":c==="/profile"?"profile":c==="/business-center"?"business-center":c==="/legal"?"legal":c==="/studio-ops"?"studio-ops":c.startsWith("/edu-")?c.substring(1):"dashboard",[d,f]=r.useState(()=>m(T.pathname)),[p,y]=r.useState(!1),[v,h]=r.useState({}),[_,I]=r.useState(0),[C,L]=r.useState(null),[b,N]=r.useState(null),U=ae(),T=re(),z=r.useRef(!0),M=r.useRef(!1),X=r.useRef(T.pathname),o=r.useRef(!1);r.useEffect(()=>{const c=T.pathname;if(X.current===c){z.current&&(z.current=!1);return}X.current=c;const R=m(c);o.current&&(o.current=!1),f(Y=>Y!==R?(M.current=!0,R):Y),z.current&&(z.current=!1)},[T.pathname]),r.useEffect(()=>{if(z.current)return;if(M.current){M.current=!1;return}const R={dashboard:"/",feed:"/feed",messages:"/messages",bookings:"/bookings",marketplace:"/marketplace",tech:"/tech",payments:"/payments",profile:"/profile","business-center":"/business-center",legal:"/legal","edu-student":"/edu-student","edu-intern":"/edu-intern","edu-overview":"/edu-overview","edu-admin":"/edu-admin","studio-ops":"/studio-ops"}[d];R&&T.pathname!==R&&(o.current=!0,U(R,{replace:!0}))},[d,U,T.pathname]),r.useEffect(()=>{!(t!=null&&t.id)||A},[t==null?void 0:t.id]),r.useEffect(()=>{!(t!=null&&t.id)||A},[t==null?void 0:t.id]);const S=async c=>{},O=r.useCallback((c,R)=>{L({uid:c,name:R})},[]),G=r.useCallback(()=>{N(null)},[]),B=()=>{if(!a||!a.id)return e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})});const c=()=>e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:32})});switch(d){case"dashboard":return e.jsx(J,{name:"Dashboard",children:e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(J,{name:"Dashboard-Inner",children:e.jsx(ee,{user:t,userData:a,setActiveTab:f,bookingCount:0,subProfiles:v,tokenBalance:_})})})});case"feed":case"social":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(He,{user:t,userData:a,openPublicProfile:O})});case"messages":case"chat":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(Ze,{user:t,userData:a,openPublicProfile:O,pendingChatTarget:b,clearPendingChatTarget:G})});case"bookings":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(Je,{user:t,userData:a,subProfiles:v})});case"marketplace":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(Ke,{user:t,userData:a,tokenBalance:_})});case"tech":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(Qe,{user:t,userData:a,openPublicProfile:O})});case"payments":case"billing":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(et,{user:t,userData:a,tokenBalance:_})});case"profile":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(tt,{user:t,userData:a,subProfiles:v,handleLogout:l,openPublicProfile:O})});case"business-center":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(te,{user:t,userData:a})});case"legal":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(st,{})});case"edu-student":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(rt,{user:t,userData:a})});case"edu-intern":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(at,{user:t,userData:a})});case"edu-overview":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(nt,{user:t,userData:a})});case"edu-admin":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(ot,{user:t,userData:a})});case"studio-ops":return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(te,{user:t,userData:a})});default:return e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(ee,{user:t,userData:a,setActiveTab:f,bookingCount:0,subProfiles:v,tokenBalance:_})})}};return e.jsx(Se,{user:t,userData:a,children:e.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-[#1a1d21]",children:[e.jsx(r.Suspense,{fallback:e.jsx(se,{}),children:e.jsx(We,{userData:a,activeTab:d,setActiveTab:f,sidebarOpen:p,setSidebarOpen:y,handleLogout:l})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(r.Suspense,{fallback:e.jsx(se,{}),children:e.jsx(Ge,{user:t,userData:a,subProfiles:v,darkMode:x,toggleTheme:i,activeTab:d,setActiveTab:f,onMenuClick:()=>y(!p),onRoleSwitch:S,openPublicProfile:O})}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:B()})]}),C&&e.jsx(r.Suspense,{fallback:null,children:e.jsx(qe,{userId:C.uid,currentUser:t,currentUserData:a,onClose:()=>L(null),onMessage:(c,R)=>{N({uid:c,name:R}),f("messages"),L(null)}})})]})})}function it(){const[t,a]=r.useState(null),[s,x]=r.useState(null),[i,l]=r.useState(!0),m=r.useRef(!1),d=ae(),f=re(),[p,y]=r.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1);r.useEffect(()=>{p?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[p]);const v=()=>y(!p);r.useEffect(()=>{m.current=!1;{l(!1);return}},[]);const h=r.useCallback(async()=>{try{a(null),x(null),d("/login",{replace:!0})}catch(N){console.error("Logout error:",N),a(null),x(null),d("/login",{replace:!0})}},[d]);if(i)return e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:48})});const _=new URLSearchParams(window.location.search).get("intent")==="signup",I=t&&t.id,C=s&&s.id,L=f.pathname==="/login",b=f.pathname==="/test-login";return!I&&!L&&!b?e.jsx(F,{darkMode:p,toggleTheme:v,onSuccess:()=>d("/"),isNewUser:!1}):I&&!C&&!L&&!b?e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-[#1a1d21]",children:e.jsx(P,{className:"animate-spin text-brand-blue",size:48})}):b?I&&C?(d("/debug-report",{replace:!0}),null):e.jsx(F,{darkMode:p,toggleTheme:v,onSuccess:()=>d("/debug-report"),isNewUser:!1}):L?I&&C?(d("/",{replace:!0}),null):e.jsx(F,{darkMode:p,toggleTheme:v,onSuccess:()=>d("/"),isNewUser:!1}):I&&!C&&_?e.jsx(F,{user:t,isNewUser:!0,darkMode:p,toggleTheme:v,onSuccess:()=>d("/debug-report")}):!I||!C?e.jsx(F,{darkMode:p,toggleTheme:v,onSuccess:()=>d("/"),isNewUser:!1}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#1a1d21]",children:[e.jsx(ye,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff"}}}),f.pathname==="/settings"||f.pathname==="/debug-report"?e.jsx("main",{className:"p-6",children:e.jsx(Fe,{user:t,userData:s,loading:i,darkMode:p,toggleTheme:v,handleLogout:h})}):e.jsx(lt,{user:t,userData:s,loading:i,darkMode:p,toggleTheme:v,handleLogout:h})]})}const ct=({children:t})=>e.jsx(e.Fragment,{children:t});ve.createRoot(document.getElementById("root")).render(e.jsx(ct,{children:e.jsx(J,{name:"Root",children:e.jsx(we,{client:Ne,children:e.jsx(ke,{children:e.jsx(it,{})})})})}));const dt=()=>{const t=document.getElementById("loading-fallback");t&&(t.classList.add("fade-out"),setTimeout(()=>{t&&t.parentNode&&t.parentNode.removeChild(t),document.body.style.overflow="auto"},400))};setTimeout(dt,600);export{Oe as L,ze as a};
