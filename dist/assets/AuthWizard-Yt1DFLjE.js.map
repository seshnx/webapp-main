{"version":3,"mappings":"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","names":["AuthWizardBackground","onImagesLoaded","images","setImages","useState","currentImageIndex","setCurrentImageIndex","imagesReady","setImagesReady","panDirection","setPanDirection","intervalRef","useRef","useEffect","directions","randomDirection","displayDuration","prev","img","currentImage","zoomLevel","maxPanPercent","getTransform","x","y","translateX","translateY","startTransform","endTransform","animationName","jsxs","Fragment","jsx","LegalDocs","lazy","__vitePreload","HIDDEN_ROLES","publicRoles","ACCOUNT_TYPES","role","RecenterAutomatically","lat","lng","map","useMap","ZipUserMap","zip","mapState","setMapState","timer","location","fetchZipLocation","MapContainer","TileLayer","Circle","AuthWizard","darkMode","toggleTheme","user","onSuccess","isNewUser","clerkLoaded","userId","isSignedIn","useAuth","clerkUser","useUser","signIn","useSignIn","signUp","useSignUp","clerk","useClerk","mode","setMode","step","setStep","isLoading","setIsLoading","error","setError","backgroundImagesLoaded","setBackgroundImagesLoaded","locating","setLocating","showLegalOverlay","setShowLegalOverlay","contentRef","cardHeight","setCardHeight","form","setForm","_a","resizeObserver","h","handleLogin","e","result","err","_b","handleSignup","resolve","updatedResult","verificationError","firstError","handleCompleteSignup","finalRoles","displayName","updateProfile","s","handleUseLocation","pos","data","Sun","Moon","LogoWhite","LogoLight","AlertCircle","Loader2","X","Suspense","MapPin","Crosshair","newRoles","TALENT_SUBROLES","subRole"],"ignoreList":[],"sources":["../../src/components/AuthWizardBackground.jsx","../../src/components/AuthWizard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nexport default function AuthWizardBackground({ onImagesLoaded }) {\r\n  const [images, setImages] = useState([]);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [imagesReady, setImagesReady] = useState(false);\r\n  const [panDirection, setPanDirection] = useState({ x: 0, y: 0, startX: 0, startY: 0 });\r\n  const intervalRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Static curated images to replace Firestore dependency\r\n    const staticImages = [\r\n      { id: '1', url: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=1920&q=80', order: 0 },\r\n      { id: '2', url: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=1920&q=80', order: 1 },\r\n      { id: '3', url: 'https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=1920&q=80', order: 2 },\r\n      { id: '4', url: 'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1920&q=80', order: 3 },\r\n    ];\r\n    setImages(staticImages);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (images.length === 0) return;\r\n    const directions = [\r\n      { startX: 0, startY: 0, endX: 100, endY: 0 }, // Left to Right\r\n      { startX: 100, startY: 0, endX: 0, endY: 0 }, // Right to Left\r\n      { startX: 0, startY: 0, endX: 0, endY: 100 }, // Top to Bottom\r\n      { startX: 0, startY: 100, endX: 0, endY: 0 }, // Bottom to Top\r\n    ];\r\n    const randomDirection = directions[Math.floor(Math.random() * directions.length)];\r\n    setPanDirection(randomDirection);\r\n  }, [currentImageIndex, images.length]);\r\n\r\n  useEffect(() => {\r\n    if (images.length === 0) return;\r\n    const displayDuration = 30000;\r\n    intervalRef.current = setInterval(() => {\r\n      setCurrentImageIndex((prev) => (prev + 1) % images.length);\r\n    }, displayDuration);\r\n    return () => clearInterval(intervalRef.current);\r\n  }, [images.length]);\r\n\r\n  useEffect(() => {\r\n    if (images.length > 0 && !imagesReady) {\r\n      const img = new Image();\r\n      img.onload = () => { setImagesReady(true); if (onImagesLoaded) onImagesLoaded(true); };\r\n      img.onerror = () => { setImagesReady(true); if (onImagesLoaded) onImagesLoaded(true); };\r\n      img.src = images[0].url;\r\n    }\r\n  }, [images, imagesReady, onImagesLoaded]);\r\n\r\n  if (images.length === 0) return null;\r\n\r\n  const currentImage = images[currentImageIndex];\r\n  const zoomLevel = 1.8;\r\n  const maxPanPercent = 30;\r\n  \r\n  const getTransform = (x, y) => {\r\n    const translateX = x === 0 ? '0%' : x === 100 ? `-${maxPanPercent}%` : `-${maxPanPercent / 2}%`;\r\n    const translateY = y === 0 ? '0%' : y === 100 ? `-${maxPanPercent}%` : `-${maxPanPercent / 2}%`;\r\n    return `scale(${zoomLevel}) translate(${translateX}, ${translateY})`;\r\n  };\r\n\r\n  const startTransform = getTransform(panDirection.startX, panDirection.startY);\r\n  const endTransform = getTransform(panDirection.endX, panDirection.endY);\r\n  const animationName = `pan-${panDirection.startX}-${panDirection.startY}-${panDirection.endX}-${panDirection.endY}`;\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        @keyframes ${animationName} {\r\n          0% { transform: ${startTransform}; }\r\n          100% { transform: ${endTransform}; }\r\n        }\r\n      `}</style>\r\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\" style={{ zIndex: -1 }}>\r\n        <div key={currentImage.id} className=\"absolute inset-0\">\r\n          <div\r\n            className=\"absolute inset-0\"\r\n            style={{\r\n              backgroundImage: `url(${currentImage.url})`,\r\n              backgroundSize: 'cover',\r\n              backgroundPosition: 'center',\r\n              animation: `${animationName} 30s linear forwards`,\r\n              willChange: 'transform',\r\n            }}\r\n          />\r\n          <div className=\"absolute inset-0 bg-black/40\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, lazy, Suspense } from 'react';\r\nimport { useAuth, useUser, useSignIn, useSignUp, useClerk } from '@clerk/clerk-react';\r\nimport { Loader2, AlertCircle, Check, Sun, Moon, MapPin, Crosshair, X } from 'lucide-react';\r\nimport { MapContainer, TileLayer, Circle, useMap } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { ACCOUNT_TYPES, TALENT_SUBROLES } from '../config/constants';\r\nimport { fetchZipLocation } from '../utils/geocode';\r\nimport { updateProfile } from '../config/neonQueries';\r\nimport AuthWizardBackground from './AuthWizardBackground';\r\n\r\n// Lazy load LegalDocs\r\nconst LegalDocs = lazy(() => import('./LegalDocs'));\r\n\r\n// Assets\r\nimport LogoLight from '../assets/SeshNx-PNG cCropped.png';\r\nimport LogoWhite from '../assets/SeshNx-PNG cCropped white text.png';\r\n\r\nconst HIDDEN_ROLES = ['Student', 'EDUStaff', 'Intern', 'EDUAdmin', 'GAdmin'];\r\nconst publicRoles = ACCOUNT_TYPES.filter(role => !HIDDEN_ROLES.includes(role));\r\n\r\n// Map Components\r\nfunction RecenterAutomatically({ lat, lng }) {\r\n  const map = useMap();\r\n  useEffect(() => { map.setView([lat, lng], 11); }, [lat, lng, map]);\r\n  return null;\r\n}\r\n\r\nfunction ZipUserMap({ zip }) {\r\n  const [mapState, setMapState] = useState({\r\n    center: [34.0522, -118.2437],\r\n    locationName: '',\r\n    isValid: false,\r\n    loading: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!zip || zip.length < 5) return;\r\n    const loadData = async () => {\r\n      setMapState(prev => ({ ...prev, loading: true }));\r\n      try {\r\n        const location = await fetchZipLocation(zip);\r\n        if (location) {\r\n          setMapState({\r\n            center: [location.lat, location.lng],\r\n            locationName: location.cityState,\r\n            isValid: true,\r\n            loading: false\r\n          });\r\n        } else {\r\n          setMapState(prev => ({ ...prev, loading: false }));\r\n        }\r\n      } catch (e) {\r\n        setMapState(prev => ({ ...prev, loading: false }));\r\n      }\r\n    };\r\n    const timer = setTimeout(loadData, 800);\r\n    return () => clearTimeout(timer);\r\n  }, [zip]);\r\n\r\n  return (\r\n    <div className=\"w-full h-36 rounded-xl overflow-hidden relative border dark:border-gray-600 shadow-inner bg-gray-100 dark:bg-[#1f2128]\">\r\n      <MapContainer center={mapState.center} zoom={11} scrollWheelZoom={false} zoomControl={false} className=\"h-full w-full\" style={{ background: 'transparent' }}>\r\n        <TileLayer url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\" attribution='&copy; CARTO' />\r\n        <RecenterAutomatically lat={mapState.center[0]} lng={mapState.center[1]} />\r\n        {mapState.isValid && (\r\n          <Circle center={mapState.center} radius={4000} pathOptions={{ color: '#0066ff', fillColor: '#0066ff', fillOpacity: 0.15, stroke: false }} />\r\n        )}\r\n      </MapContainer>\r\n      {mapState.isValid && (\r\n        <div className=\"absolute bottom-3 right-3 bg-white/95 dark:bg-black/85 backdrop-blur-md p-2 rounded-lg shadow-lg z-[400] text-xs font-bold border dark:border-gray-700 dark:text-white\">\r\n          {mapState.locationName}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Clerk-based AuthWizard Component\r\n *\r\n * Uses custom forms with Clerk hooks for authentication,\r\n * avoiding automatic redirects.\r\n */\r\nexport default function AuthWizard({ darkMode, toggleTheme, user, onSuccess, isNewUser }) {\r\n  const { isLoaded: clerkLoaded, userId, isSignedIn } = useAuth();\r\n  const { user: clerkUser } = useUser();\r\n  const { signIn } = useSignIn();\r\n  const { signUp } = useSignUp();\r\n  const clerk = useClerk();\r\n\r\n  // Debug logging for Clerk initialization\r\n  console.log('=== AUTH WIZARD RENDER ===');\r\n  console.log('clerkLoaded:', clerkLoaded);\r\n  console.log('isSignedIn:', isSignedIn);\r\n  console.log('userId:', userId);\r\n  console.log('clerkUser:', clerkUser);\r\n  console.log('signIn available:', !!signIn);\r\n  console.log('signUp available:', !!signUp);\r\n\r\n  const [mode, setMode] = useState('login'); // 'login', 'signup', 'onboarding'\r\n  const [step, setStep] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [backgroundImagesLoaded, setBackgroundImagesLoaded] = useState(false);\r\n  const [locating, setLocating] = useState(false);\r\n  const [showLegalOverlay, setShowLegalOverlay] = useState(false);\r\n  const contentRef = useRef(null);\r\n  const [cardHeight, setCardHeight] = useState('auto');\r\n\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: '',\r\n    signupPassword: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    zip: '',\r\n    roles: [],\r\n    talentSubRole: ''\r\n  });\r\n\r\n  // Initialization Logic\r\n  useEffect(() => {\r\n    if (isNewUser && clerkUser && clerkUser.id) {\r\n      setMode('onboarding');\r\n      setStep(1);\r\n      setForm(prev => ({\r\n        ...prev,\r\n        email: clerkUser?.primaryEmailAddress?.emailAddress || '',\r\n        firstName: clerkUser?.firstName || '',\r\n        lastName: clerkUser?.lastName || ''\r\n      }));\r\n    } else if (!clerkUser || !clerkUser.id) {\r\n      setMode('login');\r\n      setStep(1);\r\n    }\r\n  }, [clerkUser, isNewUser]);\r\n\r\n  useEffect(() => {\r\n    if (!contentRef.current) return;\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      if (contentRef.current) {\r\n        const h = contentRef.current.scrollHeight + 80;\r\n        if (h > 200) setCardHeight(`${h}px`);\r\n      }\r\n    });\r\n    resizeObserver.observe(contentRef.current);\r\n    return () => resizeObserver.disconnect();\r\n  }, [step, mode, error, form.zip, form.roles]);\r\n\r\n  useEffect(() => { setError(''); }, [step]);\r\n\r\n  // === HANDLERS ===\r\n\r\n  // Custom Login Handler - NO REDIRECT\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    console.log('=== LOGIN CLICKED ===');\r\n    console.log('signIn available?', !!signIn);\r\n    console.log('Email:', form.email);\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      if (!signIn) {\r\n        console.error('❌ signIn is not available!');\r\n        setError('Authentication not ready. Please refresh the page.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('Calling signIn.create()...');\r\n      const result = await signIn.create({\r\n        identifier: form.email,\r\n        password: form.password,\r\n      });\r\n\r\n      console.log('Login result status:', result.status);\r\n      console.log('Login result:', result);\r\n\r\n      if (result.status === 'complete') {\r\n        // Success - notify parent component\r\n        // NO REDIRECT - parent handles navigation\r\n        if (onSuccess) onSuccess();\r\n      } else if (result.status === 'needs_first_factor') {\r\n        setError('Please check your email for verification.');\r\n      } else {\r\n        setError('Authentication failed. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err);\r\n      if (err.errors?.[0]?.message) {\r\n        setError(err.errors[0].message);\r\n      } else {\r\n        setError('Invalid email or password.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n      console.log('=== LOGIN END ===');\r\n    }\r\n  };\r\n\r\n  // Custom Signup Handler - NO REDIRECT\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n    console.log('=== SIGNUP CLICKED ===');\r\n    console.log('signUp available?', !!signUp);\r\n    console.log('Form data:', { email: form.email, hasPassword: !!form.signupPassword, firstName: form.firstName, lastName: form.lastName });\r\n\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      if (!signUp) {\r\n        console.error('❌ signUp is not available!');\r\n        setError('Sign up not available. Please refresh the page.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Validate password\r\n      if (form.signupPassword.length < 8) {\r\n        setError('Password must be at least 8 characters.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('Creating Clerk signup with email:', form.email);\r\n\r\n      // Create signup with email/password only\r\n      // Name will be collected and saved during onboarding\r\n      const result = await signUp.create({\r\n        emailAddress: form.email,\r\n        password: form.signupPassword,\r\n      });\r\n\r\n      console.log('Signup result status:', result.status);\r\n      console.log('Signup result:', result);\r\n      console.log('Created user ID:', result.createdUserId);\r\n      console.log('Created session ID:', result.createdSessionId);\r\n\r\n      // Handle different signup statuses\r\n      if (result.status === 'complete') {\r\n        // User is fully created\r\n        console.log('✅ Signup complete');\r\n\r\n        // IMPORTANT: Set the active session if one was created\r\n        if (result.createdSessionId) {\r\n          console.log('Setting active session:', result.createdSessionId);\r\n          await clerk.setActive({\r\n            session: result.createdSessionId,\r\n          });\r\n          console.log('✅ Session activated');\r\n        }\r\n\r\n        // Wait a moment for Clerk to update auth state\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n        // Check if user is now signed in\r\n        if (clerk.loaded && clerk.user) {\r\n          console.log('✅ User is now signed in:', clerk.user.id);\r\n          setMode('onboarding');\r\n          setStep(1);\r\n          setIsLoading(false);\r\n          return;\r\n        } else {\r\n          console.log('⚠️ Session created but user not signed in yet, waiting...');\r\n          // Give it more time\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n          if (clerk.loaded && clerk.user) {\r\n            console.log('✅ User is now signed in after delay:', clerk.user.id);\r\n            setMode('onboarding');\r\n            setStep(1);\r\n            setIsLoading(false);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (result.status === 'missing_requirements') {\r\n        console.log('⚠️ Signup has missing requirements');\r\n        console.log('Unverified fields:', result.unverifiedFields);\r\n        console.log('Missing fields:', result.missingFields);\r\n\r\n        // Even with email verification OFF, we might need to handle this\r\n        // Try to prepare verification to complete the signup\r\n        if (result.unverifiedFields?.includes('email_address')) {\r\n          console.log('Preparing email verification...');\r\n          try {\r\n            await signUp.prepareVerification({\r\n              strategy: 'email_code',\r\n              emailAddress: form.email,\r\n            });\r\n            console.log('✅ Verification prepared');\r\n\r\n            // Now try to complete with a placeholder verification\r\n            // This allows the signup to complete without actual email verification\r\n            const updatedResult = await signUp.attemptVerification({\r\n              strategy: 'email_code',\r\n              code: '000000', // Placeholder - Clerk should bypass this when verification is disabled\r\n            });\r\n\r\n            console.log('Verification attempt result:', updatedResult.status);\r\n\r\n            if (updatedResult.status === 'complete') {\r\n              console.log('✅ User created after verification attempt');\r\n\r\n              // Set the active session if one was created\r\n              if (updatedResult.createdSessionId) {\r\n                await clerk.setActive({\r\n                  session: updatedResult.createdSessionId,\r\n                });\r\n              }\r\n\r\n              setMode('onboarding');\r\n              setStep(1);\r\n              setIsLoading(false);\r\n              return;\r\n            }\r\n          } catch (verificationError) {\r\n            console.log('Verification attempt failed (expected):', verificationError.message);\r\n            // Even if verification fails, the user might be created\r\n            // Check if we have a createdUserId now\r\n          }\r\n        }\r\n\r\n        // If we got here, check if user was created anyway\r\n        if (result.createdUserId || signUp.createdUserId) {\r\n          console.log('✅ User was created, moving to onboarding');\r\n          setMode('onboarding');\r\n          setStep(1);\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n\r\n        // If still not complete, show a helpful message\r\n        console.log('⚠️ Signup not complete, showing error to user');\r\n        setError('Signup could not be completed. Please try again or contact support.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Fallback - shouldn't reach here but handle it\r\n      console.log('⚠️ Unexpected signup status:', result.status);\r\n      setError('Please try signing in.');\r\n      setMode('login');\r\n      setIsLoading(false);\r\n\r\n    } catch (err) {\r\n      console.error('Signup error:', err);\r\n      console.error('Full error details:', JSON.stringify(err, null, 2));\r\n\r\n      // Better error messages from Clerk\r\n      if (err.errors && err.errors.length > 0) {\r\n        const firstError = err.errors[0];\r\n        console.error('Clerk error code:', firstError.code);\r\n        console.error('Clerk error message:', firstError.message);\r\n        console.error('Clerk error long message:', firstError.longMessage);\r\n\r\n        if (firstError.code === 'form_identifier_exists') {\r\n          setError('An account with this email already exists. Please sign in.');\r\n        } else if (firstError.code === 'form_password_length_too_short') {\r\n          setError('Password must be at least 8 characters.');\r\n        } else if (firstError.code === 'form_password_pwned') {\r\n          setError('This password has been compromised. Please choose a different one.');\r\n        } else {\r\n          setError(firstError.message || firstError.longMessage || 'Signup failed. Please try again.');\r\n        }\r\n      } else {\r\n        setError('Signup failed. Please try again.');\r\n      }\r\n      setIsLoading(false);\r\n    } finally {\r\n      console.log('=== SIGNUP END ===');\r\n    }\r\n  };\r\n\r\n  const handleCompleteSignup = async () => {\r\n    if (form.roles.length === 0) return setError(\"Please select a role.\");\r\n\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      if (!userId) {\r\n        setError('Authentication required. Please sign in first.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Update profile with Neon\r\n      const finalRoles = form.roles.length > 0 ? form.roles : ['Fan'];\r\n      const displayName = `${form.firstName} ${form.lastName}`;\r\n\r\n      await updateProfile(userId, {\r\n        email: form.email,\r\n        first_name: form.firstName,\r\n        last_name: form.lastName,\r\n        zip_code: form.zip,\r\n        account_types: finalRoles,\r\n        active_role: finalRoles[0],\r\n        preferred_role: finalRoles[0],\r\n        effective_display_name: displayName,\r\n        search_terms: [form.firstName, form.lastName, displayName].map(s => s?.toLowerCase()).filter(Boolean),\r\n      });\r\n\r\n      // Success - NO REDIRECT\r\n      if (onSuccess) onSuccess();\r\n\r\n    } catch (err) {\r\n      console.error('Profile update error:', err);\r\n      setError('Failed to complete profile setup. Please try again.');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Location Helper\r\n  const handleUseLocation = () => {\r\n    if (!navigator.geolocation) return setError(\"Geolocation not supported.\");\r\n    setLocating(true);\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (pos) => {\r\n        try {\r\n          const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${pos.coords.latitude}&lon=${pos.coords.longitude}`);\r\n          const data = await res.json();\r\n          if (data.address?.postcode) {\r\n            setForm(prev => ({ ...prev, zip: data.address.postcode.split('-')[0] }));\r\n          } else {\r\n            setError(\"Zip code not found.\");\r\n          }\r\n        } catch (e) { setError(\"Location lookup failed.\"); }\r\n        setLocating(false);\r\n      },\r\n      () => { setError(\"Location permission denied.\"); setLocating(false); }\r\n    );\r\n  };\r\n\r\n  // === LOGIN / SIGNUP MODE ===\r\n  if (mode === 'login' || mode === 'signup') {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden\">\r\n        <div style={{ position: 'fixed', inset: 0, zIndex: 0 }}>\r\n          <AuthWizardBackground onImagesLoaded={setBackgroundImagesLoaded} />\r\n        </div>\r\n        <div\r\n          className=\"absolute inset-0 bg-gray-100 dark:bg-black transition-opacity duration-1000\"\r\n          style={{ opacity: backgroundImagesLoaded ? 0 : 1, pointerEvents: 'none' }}\r\n        />\r\n\r\n        <div className=\"absolute top-6 right-6 z-20\">\r\n          <button onClick={toggleTheme} className=\"p-3 rounded-full bg-white/80 dark:bg-black/50 backdrop-blur-md border dark:border-gray-700\">\r\n            {darkMode ? <Sun size={20} /> : <Moon size={20} />}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"bg-white/95 dark:bg-[#1a1d21]/95 dark:border dark:border-gray-700 rounded-3xl shadow-2xl w-full max-w-md relative overflow-hidden z-10 backdrop-blur-md p-8\">\r\n          {/* Logo */}\r\n          <div className=\"relative w-full h-48 mb-6 flex justify-center shrink-0\">\r\n            <img src={darkMode ? LogoWhite : LogoLight} alt=\"SeshNx\" className=\"w-96 h-40 object-contain drop-shadow-md\" />\r\n          </div>\r\n\r\n          <p className=\"text-sm font-bold text-gray-500 uppercase tracking-wider text-center mb-6\">\r\n            {mode === 'login' ? 'Welcome Back' : 'Join SeshNx'}\r\n          </p>\r\n\r\n          {error && (\r\n            <div className=\"bg-red-50 text-red-600 p-3 rounded-xl text-sm flex items-center gap-2 mb-4\">\r\n              <AlertCircle size={16} /> {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Custom Login Form */}\r\n          {mode === 'login' && (\r\n            <form onSubmit={handleLogin} className=\"space-y-4\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                placeholder=\"Email\"\r\n                value={form.email}\r\n                onChange={(e) => setForm(prev => ({ ...prev, email: e.target.value }))}\r\n                required\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                className=\"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                placeholder=\"Password\"\r\n                value={form.password}\r\n                onChange={(e) => setForm(prev => ({ ...prev, password: e.target.value }))}\r\n                required\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full bg-brand-blue hover:bg-blue-600 text-white py-3.5 rounded-xl font-bold disabled:opacity-50 transition\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? <Loader2 className=\"animate-spin mx-auto\" size={20} /> : \"Sign In\"}\r\n              </button>\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setMode('signup');\r\n                    setError('');\r\n                  }}\r\n                  className=\"text-sm text-brand-blue hover:underline\"\r\n                >\r\n                  Don't have an account? Sign up\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {/* Custom Signup Form */}\r\n          {mode === 'signup' && (\r\n            <form onSubmit={handleSignup} className=\"space-y-4\">\r\n              <div className=\"flex gap-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-1/2 p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                  placeholder=\"First Name\"\r\n                  value={form.firstName}\r\n                  onChange={(e) => setForm(prev => ({ ...prev, firstName: e.target.value }))}\r\n                  required\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-1/2 p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                  placeholder=\"Last Name\"\r\n                  value={form.lastName}\r\n                  onChange={(e) => setForm(prev => ({ ...prev, lastName: e.target.value }))}\r\n                  required\r\n                />\r\n              </div>\r\n              <input\r\n                type=\"email\"\r\n                className=\"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                placeholder=\"Email\"\r\n                value={form.email}\r\n                onChange={(e) => setForm(prev => ({ ...prev, email: e.target.value }))}\r\n                required\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                className=\"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                placeholder=\"Password (min 8 characters)\"\r\n                value={form.signupPassword}\r\n                onChange={(e) => setForm(prev => ({ ...prev, signupPassword: e.target.value }))}\r\n                required\r\n                minLength={8}\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full bg-brand-blue hover:bg-blue-600 text-white py-3.5 rounded-xl font-bold disabled:opacity-50 transition\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? <Loader2 className=\"animate-spin mx-auto\" size={20} /> : \"Create Account\"}\r\n              </button>\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setMode('login');\r\n                    setError('');\r\n                  }}\r\n                  className=\"text-sm text-brand-blue hover:underline\"\r\n                >\r\n                  Already have an account? Sign in\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          <div className=\"mt-6 pt-4 border-t dark:border-gray-700 text-center\">\r\n            <button onClick={() => setShowLegalOverlay(true)} className=\"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\r\n              Terms of Service • Privacy Policy\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {showLegalOverlay && (\r\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n            <div className=\"bg-white dark:bg-[#1a1d21] rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n              <div className=\"p-4 border-b dark:border-gray-700 flex justify-between items-center\">\r\n                <h2 className=\"text-xl font-bold dark:text-white\">Legal Documents</h2>\r\n                <button onClick={() => setShowLegalOverlay(false)} className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\">\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n              <div className=\"flex-1 overflow-y-auto\">\r\n                <Suspense fallback={<div className=\"flex items-center justify-center p-8\"><Loader2 className=\"animate-spin\" size={24} /></div>}>\r\n                  <LegalDocs isEmbedded={true} />\r\n                </Suspense>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // === ONBOARDING MODE ===\r\n  if (mode === 'onboarding') {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden\">\r\n        <div style={{ position: 'fixed', inset: 0, zIndex: 0 }}>\r\n          <AuthWizardBackground onImagesLoaded={setBackgroundImagesLoaded} />\r\n        </div>\r\n        <div\r\n          className=\"absolute inset-0 bg-gray-100 dark:bg-black transition-opacity duration-1000\"\r\n          style={{ opacity: backgroundImagesLoaded ? 0 : 1, pointerEvents: 'none' }}\r\n        />\r\n\r\n        <div className=\"absolute top-6 right-6 z-20\">\r\n          <button onClick={toggleTheme} className=\"p-3 rounded-full bg-white/80 dark:bg-black/50 backdrop-blur-md border dark:border-gray-700\">\r\n            {darkMode ? <Sun size={20} /> : <Moon size={20} />}\r\n          </button>\r\n        </div>\r\n\r\n        <div\r\n          className=\"bg-white/95 dark:bg-[#1a1d21]/95 dark:border dark:border-gray-700 rounded-3xl shadow-2xl w-full max-w-md relative overflow-hidden transition-[height] duration-500 z-10 backdrop-blur-md\"\r\n          style={{ height: cardHeight, minHeight: '500px' }}\r\n        >\r\n          <div ref={contentRef} className=\"pt-12 px-8 pb-8\">\r\n            <div className=\"relative w-full h-48 mb-6 flex justify-center shrink-0\">\r\n              <img src={darkMode ? LogoWhite : LogoLight} alt=\"SeshNx\" className=\"w-96 h-40 object-contain drop-shadow-md\" />\r\n              <div className=\"absolute bottom-2 w-full text-center\">\r\n                <p className=\"text-sm font-bold text-gray-500 uppercase tracking-wider\">\r\n                  Complete Your Profile\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"bg-red-50 text-red-600 p-3 rounded-xl text-sm flex items-center gap-2 mb-4\">\r\n                <AlertCircle size={16} /> {error}\r\n              </div>\r\n            )}\r\n\r\n            {/* ONBOARDING STEPS */}\r\n            {step === 1 && (\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"text-xl font-bold dark:text-white text-center mb-4\">\r\n                  Welcome! Let&apos;s finish setting up your account.\r\n                </h3>\r\n                <div className=\"flex gap-3\">\r\n                  <input\r\n                    className=\"w-1/2 p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                    placeholder=\"First Name\"\r\n                    value={form.firstName}\r\n                    onChange={(e) => setForm(prev => ({ ...prev, firstName: e.target.value }))}\r\n                  />\r\n                  <input\r\n                    className=\"w-1/2 p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                    placeholder=\"Last Name\"\r\n                    value={form.lastName}\r\n                    onChange={(e) => setForm(prev => ({ ...prev, lastName: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div className=\"relative flex gap-2\">\r\n                  <div className=\"relative flex-1\">\r\n                    <input\r\n                      className=\"w-full p-3.5 pl-10 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                      placeholder=\"Zip Code\"\r\n                      maxLength={5}\r\n                      value={form.zip}\r\n                      onChange={(e) => setForm(prev => ({ ...prev, zip: e.target.value.replace(/\\D/g, '') }))}\r\n                    />\r\n                    <MapPin className=\"absolute left-3 top-3.5 text-gray-400\" size={18} />\r\n                  </div>\r\n                  <button onClick={handleUseLocation} className=\"p-3.5 border dark:border-gray-600 rounded-xl text-brand-blue\" disabled={locating}>\r\n                    {locating ? <Loader2 className=\"animate-spin\" size={18} /> : <Crosshair size={18} />}\r\n                  </button>\r\n                </div>\r\n                <ZipUserMap zip={form.zip} />\r\n                <button\r\n                  className=\"w-full bg-black dark:bg-white dark:text-black text-white px-6 py-2.5 rounded-xl font-bold disabled:opacity-50\"\r\n                  onClick={() => { if (form.firstName && form.zip) setStep(2); }}\r\n                  disabled={!form.firstName || !form.zip}\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {step === 2 && (\r\n              <div className=\"space-y-5\">\r\n                <h3 className=\"text-lg font-bold dark:text-white text-center mb-4\">\r\n                  Select your role(s)\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 gap-2.5\">\r\n                  {publicRoles.map(role => (\r\n                    <div\r\n                      key={role}\r\n                      onClick={() => {\r\n                        const newRoles = form.roles.includes(role) ? form.roles.filter(r => r !== role) : [...form.roles, role];\r\n                        setForm(prev => ({ ...prev, roles: newRoles }));\r\n                      }}\r\n                      className={`p-3 border-2 rounded-xl cursor-pointer text-center font-bold text-sm transition ${\r\n                        form.roles.includes(role)\r\n                          ? 'border-brand-blue bg-blue-50 text-brand-blue dark:bg-blue-900/20 dark:border-blue-500'\r\n                          : 'border-gray-100 dark:border-gray-700 hover:border-gray-300'\r\n                      }`}\r\n                    >\r\n                      {role}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                {form.roles.includes('Talent') && (\r\n                  <select\r\n                    className=\"w-full p-3.5 bg-gray-50 dark:bg-[#1f2128] border dark:border-gray-600 rounded-xl dark:text-white\"\r\n                    value={form.talentSubRole}\r\n                    onChange={(e) => setForm(prev => ({ ...prev, talentSubRole: e.target.value }))}\r\n                  >\r\n                    <option value=\"\">Select Talent Type (Optional)</option>\r\n                    {TALENT_SUBROLES.map(subRole => (<option key={subRole} value={subRole}>{subRole}</option>))}\r\n                  </select>\r\n                )}\r\n                <button\r\n                  className=\"w-full bg-green-600 text-white py-3.5 rounded-xl font-bold disabled:opacity-50\"\r\n                  onClick={handleCompleteSignup}\r\n                  disabled={isLoading || form.roles.length === 0}\r\n                >\r\n                  {isLoading ? <Loader2 className=\"animate-spin mx-auto\" size={20} /> : \"Complete Setup\"}\r\n                </button>\r\n                <button className=\"w-full text-gray-400 text-xs\" onClick={() => setStep(1)}>Back</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-6 pt-4 border-t dark:border-gray-700 text-center\">\r\n            <button onClick={() => setShowLegalOverlay(true)} className=\"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\r\n              Terms of Service • Privacy Policy\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {showLegalOverlay && (\r\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n            <div className=\"bg-white dark:bg-[#1a1d21] rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n              <div className=\"p-4 border-b dark:border-gray-700 flex justify-between items-center\">\r\n                <h2 className=\"text-xl font-bold dark:text-white\">Legal Documents</h2>\r\n                <button onClick={() => setShowLegalOverlay(false)} className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\">\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n              <div className=\"flex-1 overflow-y-auto\">\r\n                <Suspense fallback={<div className=\"flex items-center justify-center p-8\"><Loader2 className=\"animate-spin\" size={24} /></div>}>\r\n                  <LegalDocs isEmbedded={true} />\r\n                </Suspense>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n"],"file":"assets/AuthWizard-Yt1DFLjE.js"}