import{r as x,j as e,S as J,X as D,L as M,c3 as ee,b as q,c4 as se,aq as te,h as H,Y as ae,ap as W,O as le,t as re,ar as E,as as F,a1 as ne,c5 as oe,a as ie,al as G,c6 as k,c7 as ce,c8 as de,c9 as I,ca as me,cb as K}from"./vendor-Dl7DtIXW.js";import{u as be}from"./useVercelUpload-OMd9iZ6b.js";import xe from"./SettingsTab-CKvu1dVB.js";import{PROFILE_SCHEMAS as Q}from"./config-DGZTEYpI.js";import{M as ge,N as fe}from"./Inputs-BLEJ7bwJ.js";import{E as pe}from"./EquipmentAutocomplete-BcGdmRJg.js";import{s as Y}from"./chat-BYF7Vx2D.js";import{u as T,a as ye}from"./index-DMeDGzcs.js";import"./vendor-framer-CUELlS5e.js";import"./edu-BMUxkX2v.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"local"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="cfea33b5-c0df-4c77-86ab-ac9603bf61bb",t._sentryDebugIdIdentifier="sentry-dbid-cfea33b5-c0df-4c77-86ab-ac9603bf61bb")})()}catch{}const he=()=>{const[t,s]=x.useState({}),[g,m]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!Y){m(!1);return}m(!0);try{const{data:c,error:u}=await Y.from("software_database").select("*").eq("verified",!0).order("category").order("subcategory").order("brand").order("name");if(u)throw u;const o={};(c||[]).forEach(d=>{const b=d.category||"Other",f=d.subcategory||"General";o[b]||(o[b]={}),o[b][f]||(o[b][f]=[]),o[b][f].push({id:d.id,name:d.name||d.model,brand:d.brand||"Unknown",model:d.model,category:b,subCategory:f,description:d.description,specifications:d.specifications,website_url:d.website_url,searchTokens:d.search_tokens||[],original:d})}),s(o)}catch(c){console.error("Failed to load software database:",c),s({})}m(!1)})()},[]),{loading:g,data:t}},ue=()=>{const{data:t,loading:s}=he(),[g,m]=x.useState([]),N=x.useMemo(()=>{if(s||!t)return[];let u=[];try{Object.keys(t).forEach(o=>{const d=t[o];!d||typeof d!="object"||Object.entries(d).forEach(([b,f])=>{Array.isArray(f)&&f.forEach(i=>{if(!i||typeof i!="object")return;const w=i.brand||"Unknown",y=i.name||i.model||"Unknown Software",S=i.subCategory||b,v=i.searchTokens||[],z=[y,w,i.model,...v].filter(Boolean).join(" ").toLowerCase();u.push({id:i.id,name:y,brand:w,model:i.model||y,category:i.category||o,subCategory:S,website_url:i.website_url,searchString:z,original:i.original||i})})})})}catch(o){console.warn("Error processing software data:",o)}return u},[t,s]);return{searchSoftware:u=>{if(!u||u.trim().length<1){m([]);return}const o=u.toLowerCase().trim().split(/\s+/).filter(b=>b.length>0);if(o.length===0){m([]);return}const d=N.filter(b=>o.every(f=>b.searchString.includes(f))).slice(0,50);m(d)},results:g,loading:s}};function Z({onSelect:t,placeholder:s="Search for software (e.g. Pro Tools, Kontakt)...",className:g="",value:m,onChange:N,multi:c=!1}){const{searchSoftware:u,results:o,loading:d}=ue(),[b,f]=x.useState(""),[i,w]=x.useState(!1),y=x.useRef(null),S=m!==void 0?m:b;x.useEffect(()=>{function r(p){y.current&&!y.current.contains(p.target)&&w(!1)}return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[y]);const v=r=>{const p=r.target.value;N?N(p):f(p);const O=c?p.split(",").pop().trim():p;O.length>=2?(u(O),w(!0)):w(!1)},z=r=>{const p=r.brand!=="Various"&&r.brand!=="Unknown"?`${r.brand} ${r.name}`:r.name;if(c){const O=S.split(",");O.pop();const U=[...O.map(R=>R.trim()).filter(Boolean),p].join(", ")+", ";N?N(U):f(U)}else t&&t({...r,fullName:p}),N?N(p):f(p);w(!1)};return e.jsxs("div",{ref:y,className:`relative ${g}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 text-gray-400",size:16}),e.jsx("input",{className:"w-full pl-9 pr-8 p-3 text-sm border rounded-xl bg-white dark:bg-[#1f2128] dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-brand-blue outline-none transition-all",placeholder:s,value:S,onChange:v,onFocus:r=>v(r)}),S&&e.jsx("button",{type:"button",onClick:()=>{N?N(""):f(""),w(!1)},className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(D,{size:16})})]}),i&&o.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-[#2c2e36] border dark:border-gray-600 rounded-xl shadow-xl max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:e.jsx("div",{className:"py-1",children:o.map(r=>{var p;return e.jsxs("button",{type:"button",onClick:()=>z(r),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors border-b dark:border-gray-700/50 last:border-0 group",children:[e.jsx("div",{className:"font-bold text-sm dark:text-white group-hover:text-brand-blue transition-colors",children:r.name}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:r.brand}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-600"}),e.jsx("span",{className:"opacity-75",children:(p=r.subCategory)==null?void 0:p.replace(/_/g," ")})]})]},r.id)})})}),i&&d&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-[#2c2e36] border dark:border-gray-600 rounded-xl shadow-xl p-4 text-center text-gray-500 flex items-center justify-center gap-2",children:[e.jsx(M,{className:"animate-spin",size:16})," Searching database..."]})]})}const Ne=de({firstName:I().min(2,"First name too short"),lastName:I().min(2,"Last name too short"),displayName:I().optional(),bio:I().max(500,"Bio exceeds 500 characters").optional(),zip:I().regex(/^\d{5}$/,"Invalid ZIP code").optional().or(K("")),hourlyRate:me().min(0,"Rate cannot be negative").optional(),website:I().url("Invalid URL").optional().or(K(""))}),je=(t,s,g)=>g?g.substring(0,2).toUpperCase():(((t==null?void 0:t[0])||"")+((s==null?void 0:s[0])||"")).toUpperCase()||"U";function Pe({user:t,userData:s,subProfiles:g={},handleLogout:m,openPublicProfile:N}){const[c,u]=x.useState("details"),[o,d]=x.useState("Main"),[b,f]=x.useState(!1),{uploadImage:i,uploading:w}=be(),[y,S]=x.useState(!1),[v,z]=x.useState((s==null?void 0:s.useLegalNameOnly)||!1),[r,p]=x.useState((s==null?void 0:s.useUserNameOnly)||!1);x.useEffect(()=>{z((s==null?void 0:s.useLegalNameOnly)||!1),p((s==null?void 0:s.useUserNameOnly)||!1)},[s]);const O=()=>{const l=!v;z(l),l&&p(!1)},A=()=>{const l=!r;p(l),l&&z(!1)},{register:U,handleSubmit:R,formState:{errors:a,isDirty:_}}=ee({resolver:ce(Ne),defaultValues:{firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",displayName:(s==null?void 0:s.displayName)||"",bio:(s==null?void 0:s.bio)||"",zip:(s==null?void 0:s.zip)||"",hourlyRate:(s==null?void 0:s.hourlyRate)||0,website:(s==null?void 0:s.website)||""}}),n=async l=>{f(!0);const L=k.loading("Saving main profile...");try{let h=`${l.firstName} ${l.lastName}`;v?h=`${l.firstName} ${l.lastName}`:r&&l.displayName?h=l.displayName:l.displayName&&(h=`${l.firstName} "${l.displayName}" ${l.lastName}`);const C=[l.firstName.toLowerCase(),l.lastName.toLowerCase(),(l.displayName||"").toLowerCase(),h.toLowerCase()].filter(Boolean),j=(t==null?void 0:t.id)||(t==null?void 0:t.uid);await T(j,{first_name:l.firstName,last_name:l.lastName,display_name:l.displayName||null,bio:l.bio||null,zip:l.zip||null,hourly_rate:l.hourlyRate||null,website:l.website||null,use_legal_name_only:v,use_user_name_only:r,effective_display_name:h,search_terms:C}),k.success("Profile Updated & Synced!",{id:L})}catch(h){console.error("Update failed",h);const C=(h==null?void 0:h.message)||"Failed to update profile.";k.error(C,{id:L})}finally{f(!1)}},$=async l=>{const L=l.target.files[0];if(!L)return;const h=(t==null?void 0:t.id)||(t==null?void 0:t.uid),C=k.loading("Uploading photo...");try{const j=await i(L,"profile-photos");await T(h,{avatar_url:j,photo_url:j}),k.success("Photo updated!",{id:C})}catch(j){console.error(j);const V=(j==null?void 0:j.message)||"Photo upload failed";k.error(V,{id:C})}},B=async l=>{const L=l.target.files[0];if(!L)return;const h=(t==null?void 0:t.id)||(t==null?void 0:t.uid);S(!0);const C=k.loading("Uploading cover banner...");try{const j=await i(L,"profile-banners");await T(h,{banner_url:j}),k.success("Cover banner updated!",{id:C})}catch(j){console.error(j);const V=(j==null?void 0:j.message)||"Banner upload failed";k.error(V,{id:C})}finally{S(!1)}},X=async l=>{const L=(t==null?void 0:t.id)||(t==null?void 0:t.uid);try{await T(L,{settings:l}),k.success("Settings saved.")}catch(h){console.error("Settings save failed",h);const C=(h==null?void 0:h.message)||"Failed to save settings.";k.error(C)}},P=l=>re("w-full p-3 border rounded-xl dark:bg-[#1f2128] dark:text-white transition-all focus:ring-2 focus:ring-brand-blue outline-none",l?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-gray-200 dark:border-gray-700");return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("h1",{className:"text-3xl font-bold dark:text-white flex items-center gap-2",children:[e.jsx(q,{className:"text-brand-blue"})," ",c==="details"?"Edit Profile":"Account Settings"]}),e.jsxs("div",{className:"flex gap-3 self-end",children:[e.jsxs("button",{onClick:()=>N((t==null?void 0:t.id)||(t==null?void 0:t.uid)),className:"bg-gray-900 dark:bg-white text-white dark:text-black px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:opacity-90 transition shadow-lg",children:[e.jsx(se,{size:16})," View Public Profile"]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-lg flex gap-1",children:[e.jsx("button",{onClick:()=>u("details"),className:`px-4 py-2 text-xs font-bold rounded-md transition-all ${c==="details"?"bg-white dark:bg-[#2c2e36] text-brand-blue shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Edit Details"}),e.jsxs("button",{onClick:()=>u("settings"),className:`px-4 py-2 text-xs font-bold rounded-md transition-all flex items-center gap-1 ${c==="settings"?"bg-white dark:bg-[#2c2e36] text-brand-blue shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:[e.jsx(te,{size:14})," Settings"]})]})]})]}),c==="details"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-2",children:[e.jsx("div",{className:"font-bold text-xs text-gray-500 uppercase tracking-wider mb-2 px-1",children:"Profiles"}),e.jsxs("button",{onClick:()=>d("Main"),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all ${o==="Main"?"bg-brand-blue text-white shadow-md":"bg-white dark:bg-dark-card hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{size:16})," ",e.jsx("span",{className:"font-bold text-sm",children:"Main Profile"})]}),o==="Main"&&e.jsx(H,{size:16})]}),((s==null?void 0:s.accountTypes)||[]).map(l=>Q[l]?e.jsxs("button",{onClick:()=>d(l),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all ${o===l?"bg-brand-blue text-white shadow-md":"bg-white dark:bg-dark-card hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{size:16})," ",e.jsx("span",{className:"font-bold text-sm",children:l})]}),o===l&&e.jsx(H,{size:16})]},l):null)]}),e.jsx("div",{className:"lg:col-span-3",children:o==="Main"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-1 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:"Profile Photo"}),e.jsxs("div",{className:"relative group w-full aspect-square rounded-full overflow-hidden bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-700 shadow-md",children:[s!=null&&s.photoURL?e.jsx("img",{src:s.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full bg-gradient-to-tr from-brand-blue to-purple-500 text-white font-bold text-4xl",children:je(s==null?void 0:s.firstName,s==null?void 0:s.lastName,s==null?void 0:s.displayName)}),e.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:[e.jsxs("span",{className:"text-white font-bold text-sm flex items-center gap-1",children:[e.jsx(W,{size:16})," Change"]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:$,disabled:w})]}),w&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx(M,{className:"animate-spin text-white"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:"Cover Banner"}),e.jsxs("div",{className:"relative group w-full aspect-[3/1] rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-700 shadow-sm",children:[s!=null&&s.bannerURL?e.jsx("img",{src:s.bannerURL,alt:"Banner",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(le,{size:24})}),e.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:[e.jsxs("span",{className:"text-white font-bold text-xs flex items-center gap-1",children:[e.jsx(W,{size:14})," Upload Cover"]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:B,disabled:y})]}),y&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx(M,{className:"animate-spin text-white"})})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl text-xs text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-bold mb-1",children:"Pro Tip:"}),"High-quality profile photos & banners increase booking rates by 40%."]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("form",{onSubmit:R(n),className:"space-y-6 bg-white dark:bg-[#2c2e36] p-6 rounded-2xl border dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"First Name (Legal)"}),e.jsx("input",{...U("firstName"),className:P(a.firstName)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"Last Name (Legal)"}),e.jsx("input",{...U("lastName"),className:P(a.lastName)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"User Name (Display Name)"}),e.jsx("input",{...U("displayName"),className:P(a.displayName),placeholder:"e.g. SeshMaster"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-[#23262f] p-4 rounded-xl border dark:border-gray-600 space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Display Name Preferences"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm dark:text-gray-200",children:"Use Legal Name Only"}),e.jsx("button",{type:"button",onClick:O,className:"text-brand-blue",children:v?e.jsx(E,{size:28}):e.jsx(F,{size:28,className:"text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm dark:text-gray-200",children:"Use User Name Only"}),e.jsx("button",{type:"button",onClick:A,className:"text-brand-blue",children:r?e.jsx(E,{size:28}):e.jsx(F,{size:28,className:"text-gray-400"})})]}),e.jsxs("div",{className:"text-xs text-gray-500 italic mt-2 border-t dark:border-gray-700 pt-2",children:["Preview: ",e.jsx("strong",{className:"text-brand-blue",children:v?`${(s==null?void 0:s.firstName)||""} ${(s==null?void 0:s.lastName)||""}`.trim()||"Not Set":r?(s==null?void 0:s.displayName)||"Not Set":`${(s==null?void 0:s.firstName)||""} "${(s==null?void 0:s.displayName)||"User"}" ${(s==null?void 0:s.lastName)||""}`.trim()||"Not Set"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"Bio / About"}),e.jsx("textarea",{...U("bio"),rows:"4",className:P(a.bio),placeholder:"Tell us about your musical journey..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block flex items-center gap-1",children:[e.jsx(ne,{size:12})," ZIP Code"]}),e.jsx("input",{...U("zip"),className:P(a.zip)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block flex items-center gap-1",children:[e.jsx(oe,{size:12})," Hourly Rate ($)"]}),e.jsx("input",{type:"number",...U("hourlyRate",{valueAsNumber:!0}),className:P(a.hourlyRate)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"Website"}),e.jsx("input",{...U("website"),className:P(a.website),placeholder:"https://..."})]}),e.jsx("div",{className:"pt-4 border-t dark:border-gray-700 flex justify-end",children:e.jsx("button",{type:"button",onClick:R(n),disabled:b,className:ie("px-8 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg",b?"bg-gray-300 dark:bg-gray-700 text-gray-500 cursor-not-allowed":"bg-brand-blue text-white hover:bg-blue-600 hover:scale-105"),children:b?e.jsx(M,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[e.jsx(G,{size:20})," Save Changes"]})})})]})})]}):e.jsx(we,{user:t,userData:s,role:o,initialData:g[o]||{},schema:Q[o]||[]})})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-right-2",children:e.jsx(xe,{user:t,userData:s,handleLogout:m,onUpdate:X})})]})}function we({user:t,userData:s,role:g,initialData:m,schema:N}){const[c,u]=x.useState(m),[o,d]=x.useState(!1),[b,f]=x.useState(m.followMainProfile??!0),[i,w]=x.useState(m.useLegalNameOnly??!1),[y,S]=x.useState(m.useUserNameOnly??!1),[v,z]=x.useState(m.syncStudioOps??!1);x.useEffect(()=>{u(m||{}),f(m.followMainProfile??!0),w(m.useLegalNameOnly??!1),S(m.useUserNameOnly??!1),z(m.syncStudioOps??!1)},[m]);const r=(a,_)=>u(n=>({...n,[a]:_})),p=()=>{w(!i),i||S(!1)},O=()=>{S(!y),y||w(!1)},A=async a=>{a.preventDefault(),d(!0);const _=k.loading(`Saving ${g} profile...`);try{let n="";b?n=(s==null?void 0:s.effectiveDisplayName)||(s?`${s.firstName||""} ${s.lastName||""}`.trim():""):i?n=s?`${s.firstName||""} ${s.lastName||""}`.trim():"":y?n=(s==null?void 0:s.displayName)||(s?`${s.firstName||""} ${s.lastName||""}`.trim():""):n=c.profileName||`${s.firstName} ${s.lastName}`;const $=(t==null?void 0:t.id)||(t==null?void 0:t.uid),B={...c,followMainProfile:b,useLegalNameOnly:i,useUserNameOnly:y,syncStudioOps:v,displayName:n};await ye($,g,B),s.activeProfileRole===g&&await T($,{display_name:n,effective_display_name:n,search_terms:[n.toLowerCase()]}),g==="Studio"&&v&&await T($,{studio_name:n}),k.success(`${g} Profile Saved!`,{id:_})}catch(n){console.error(n);const $=(n==null?void 0:n.message)||"Failed to save.";k.error($,{id:_})}finally{d(!1)}};if(N.length===0)return e.jsx("div",{className:"p-10 text-center text-gray-500",children:"No configuration available for this role."});const U=c.talentSubRole||"",R=N.filter(a=>a.key==="profileName"||a.key==="useRealName"?!1:a.showFor&&Array.isArray(a.showFor)?a.showFor.includes(U):!0);return e.jsxs("form",{onSubmit:A,className:"bg-white dark:bg-[#2c2e36] p-6 rounded-2xl border dark:border-gray-700 shadow-sm space-y-6",children:[e.jsxs("h2",{className:"text-xl font-bold dark:text-white border-b dark:border-gray-700 pb-2",children:[g," Identity & Details"]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-[#23262f] p-4 rounded-xl border dark:border-gray-600 space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Identity Settings"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold dark:text-white",children:"Follow Main Profile Name"}),e.jsxs("div",{className:"text-xs text-gray-500",children:['Use "',s.effectiveDisplayName||`${s.firstName} ${s.lastName}`,'"']})]}),e.jsx("button",{type:"button",onClick:()=>f(!b),className:"text-brand-blue",children:b?e.jsx(E,{size:28}):e.jsx(F,{size:28,className:"text-gray-400"})})]}),!b&&e.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-1 pt-3 border-t dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm dark:text-gray-200",children:"Use Legal Name Only"}),e.jsx("button",{type:"button",onClick:p,className:"text-brand-blue",children:i?e.jsx(E,{size:28}):e.jsx(F,{size:28,className:"text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm dark:text-gray-200",children:"Use Main User Name Only"}),e.jsx("button",{type:"button",onClick:O,className:"text-brand-blue",children:y?e.jsx(E,{size:28}):e.jsx(F,{size:28,className:"text-gray-400"})})]}),!i&&!y&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{className:"text-xs font-bold text-brand-blue uppercase mb-1 block",children:[g," Name"]}),e.jsx("input",{type:"text",className:"w-full p-3 border rounded-lg dark:bg-[#1f2128] dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-brand-blue outline-none font-bold",placeholder:`e.g. ${g==="Studio"?"Sound City":"The Weeknd"}`,value:c.profileName||"",onChange:a=>r("profileName",a.target.value)}),g==="Studio"&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:a=>z(a.target.checked),className:"rounded text-brand-blue focus:ring-brand-blue"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:'Force "Studio Ops" to use this name'})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 italic mt-2 border-t dark:border-gray-700 pt-2",children:["Preview: ",e.jsx("strong",{className:"text-brand-blue",children:i?`${s.firstName} ${s.lastName}`:y?s.displayName||"Not Set":c.profileName||"Not Set"})]})]})]}),R.map(a=>{var _;return a.isToggle?null:e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:a.label}),a.type==="textarea"?e.jsx("textarea",{className:"w-full p-3 border rounded-xl dark:bg-[#1f2128] dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-brand-blue outline-none",rows:4,value:c[a.key]||"",onChange:n=>r(a.key,n.target.value)}):a.type==="select"?e.jsx("select",{className:"w-full p-3 border rounded-xl dark:bg-[#1f2128] dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-brand-blue outline-none",value:c[a.key]||"",onChange:n=>r(a.key,n.target.value),children:(_=a.options)==null?void 0:_.map(n=>e.jsx("option",{value:n,children:n},n))}):a.type==="multi_select"?e.jsx(ge,{label:"",fieldKey:a.key,options:a.data||a.options||[],initialValues:c[a.key]||[],onChange:r}):a.type==="nested_select"?e.jsx(fe,{label:"",fieldKey:a.key,data:a.data,initialValues:c[a.key]||[],onChange:r}):a.key==="equipment"?e.jsx(pe,{multi:!0,value:c[a.key]||"",onChange:n=>r(a.key,n),placeholder:"Add gear..."}):a.key==="daw"?e.jsx(Z,{multi:a.type==="multi_select",value:c[a.key]||"",onChange:n=>r(a.key,n),placeholder:"Search for DAW or software..."}):a.key==="software"||a.key==="softwareList"?e.jsx(Z,{multi:!0,value:c[a.key]||"",onChange:n=>r(a.key,n),placeholder:"Add software..."}):e.jsx("input",{type:a.type==="number"?"number":"text",className:"w-full p-3 border rounded-xl dark:bg-[#1f2128] dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-brand-blue outline-none",value:c[a.key]||"",onChange:n=>r(a.key,n.target.value)})]},a.key)}),e.jsx("div",{className:"pt-4 border-t dark:border-gray-700 flex justify-end",children:e.jsx("button",{type:"submit",disabled:o,className:"px-8 py-3 rounded-xl font-bold bg-brand-blue text-white hover:bg-blue-600 flex items-center gap-2 transition shadow-lg disabled:opacity-50",children:o?e.jsx(M,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[e.jsx(G,{size:20})," Save ",g," Profile"]})})})]})}export{Pe as default};
