import{r,j as e,C as at,t as Ve,c as Ce,U as ge,a as He,b as rt,d as it,u as $,e as oe,f as Pe,T as we,P as Se,A as $e,X as _,L as le,g as We,S as Ne,h as Te,i as ot,k as lt,V as je,l as _e,m as ve,n as ct,o as Ke,p as Qe,q as Ye,s as Ze,M as Ee,F as me,v as dt,I as ut,w as gt,x as mt,y as ht,R as ft,E as pt,z as Be,D as Fe,B as xt,G as Re,H as bt,J as yt,K as wt,N as Le,O as De,Q as vt,W as Ge,Y as Ie,Z as Nt,_ as jt,$ as kt}from"./vendor-M-mhr7Zm.js";import{m as L,A as se}from"./vendor-framer-1_AFqeeG.js";const Je=null,ue={en:{general:"General",security:"Security & Privacy",notifications:"Notifications",messaging:"Messaging",social:"Social & Feed",bookings:"Bookings",marketplace:"Marketplace",content:"Content & Media",accessibility:"Accessibility",performance:"Performance",rolesWorkflow:"Roles & Workflow",activeAccountTypes:"Active Account Types",preferredProfile:"Preferred Profile",activeWorkflowContext:"Active Workflow Context",seeAllUnfiltered:"See All (Unfiltered View)",seeAllDescription:"Show all content types regardless of active workflow",saveWorkflowSettings:"Save Workflow Settings",appearance:"Appearance",light:"Light",dark:"Dark",system:"System",languageLocalization:"Language & Localization",language:"Language",dateFormat:"Date Format",timeFormat:"Time Format",timezone:"Timezone",currency:"Currency",numberFormat:"Number Format",autoDetect:"Auto-detect",easternTime:"Eastern Time",centralTime:"Central Time",mountainTime:"Mountain Time",pacificTime:"Pacific Time",accountSecurity:"Account Security",emailAddress:"Email Address",password:"Password",changeEmail:"Change Email",changePassword:"Change Password",twoFactorAuth:"Two-Factor Authentication (2FA)",twoFactorDescription:"Add an extra layer of security to your account",lastChanged:"Last changed",unknown:"Unknown",privacyVisibility:"Privacy & Visibility",publicProfileVisibility:"Public Profile Visibility",showLocationOnMap:"Show Location on Map",hideProfileCompletely:"Hide Profile Completely",showEmailAddress:"Show Email Address",showPhoneNumber:"Show Phone Number",showOnlineStatus:"Show Online Status",showLastSeen:"Show Last Seen",allowSearchEngines:"Allow Search Engine Indexing",allowTagging:"Allow Tagging",reviewTagsBeforeAppear:"Review Tags Before They Appear",showFollowingList:"Show Following List",showFollowersList:"Show Followers List",contentSafety:"Content & Safety",blockedUsers:"Blocked Users",mutedThreads:"Muted Threads",noActive:"No active",yourData:"Your Data",downloadDataDescription:"Download a copy of your personal data (GDPR/CCPA).",downloadData:"Download Data",dangerZone:"Danger Zone",deleteAccountWarning:"Deleting your account is permanent. This action will remove your profile, posts, and messages.",deleteAccount:"Delete Account",confirmDeletion:"Confirm Deletion",typeDeleteToConfirm:"Type DELETE below to confirm. This cannot be undone.",confirmDelete:"Confirm Delete",cancel:"Cancel",generalNotifications:"General Notifications",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",marketingUpdates:"Marketing & Updates",soundNotifications:"Sound Notifications",badgeCount:"Badge Count",badgeCountDescription:"Show unread count on app icon",bookingNotifications:"Booking Notifications",newBookingRequests:"New Booking Requests",bookingConfirmations:"Booking Confirmations",bookingReminders:"Booking Reminders",bookingCancellations:"Booking Cancellations",socialNotifications:"Social Notifications",likes:"Likes",comments:"Comments",follows:"Follows",mentions:"Mentions",reposts:"Reposts",marketplaceNotifications:"Marketplace Notifications",newOffers:"New Offers",sales:"Sales",messages:"Messages",systemNotifications:"System Notifications",maintenanceAlerts:"Maintenance Alerts",updates:"Updates",securityAlerts:"Security Alerts",quietHours:"Quiet Hours",enableQuietHours:"Enable Quiet Hours",quietHoursDescription:"Disable notifications during specific times",startTime:"Start Time",endTime:"End Time",readReceipts:"Read Receipts",readReceiptsDescription:"Show when messages are read",typingIndicators:"Typing Indicators",typingIndicatorsDescription:"Show when someone is typing",messageRequests:"Message Requests",messageRequestsDescription:"Require approval for messages from non-contacts",whoCanMessageYou:"Who Can Message You",everyone:"Everyone",followersOnly:"Followers Only",noOne:"No One",autoArchiveOld:"Auto-archive Old Conversations",autoArchiveDescription:"Automatically archive conversations older than 30 days",soundNotificationsMessages:"Sound Notifications for Messages",messagePreview:"Message Preview in Notifications",messagePreviewDescription:"Show message content in notifications",blockedContacts:"Blocked Contacts",feedAlgorithm:"Feed Algorithm",chronological:"Chronological",recommended:"Recommended",followingOnly:"Following Only",autoPlayVideos:"Auto-play Videos in Feed",showSensitiveContentWarning:"Show Sensitive Content Warning",showActivityStatus:"Show Activity Status",showActivityStatusDescription:"Let others see when you're active",showSuggestedAccounts:"Show Suggested Accounts",contentFiltering:"Content Filtering",sensitivityFilter:"Sensitivity Filter",off:"Off",low:"Low",medium:"Medium",high:"High",autoHideReported:"Auto-hide Reported Content",showAgeRestricted:"Show Age-Restricted Content",mutedUsers:"Muted Users",autoAcceptBookings:"Auto-accept Bookings",autoAcceptDescription:"Automatically accept bookings that meet your criteria",defaultBufferTime:"Default Buffer Time",bufferTimeDescription:"Time between sessions",minutes:"minutes",showAvailabilityPublicly:"Show Availability Calendar Publicly",requireDeposit:"Require Deposit for Bookings",autoDeclineExpired:"Auto-decline Expired Booking Requests",defaultSessionDuration:"Default Session Duration",autoListItem:"Auto-list Items",autoListDescription:"Automatically list items for sale",requireApproval:"Require Approval",requireApprovalDescription:"Review items before they go live",defaultShippingMethod:"Default Shipping Method",defaultPaymentTerms:"Default Payment Terms",immediate:"Immediate",net15:"Net 15",net30:"Net 30",autoAcceptOffersAbove:"Auto-accept Offers Above Threshold",autoAcceptThreshold:"Auto-accept Threshold",showSoldItems:"Show Sold Items in Listings",imageQuality:"Image Quality",videoQuality:"Video Quality",high:"High",medium:"Medium",low:"Low (Faster Loading)",autoSaveUploaded:"Auto-save Uploaded Media",autoSaveDescription:"Automatically save uploaded images and videos",compressImages:"Compress Images Before Upload",compressDescription:"Reduce file size for faster uploads",maxUploadSize:"Maximum Upload Size",mb:"MB",fontSize:"Font Size",small:"Small",large:"Large",extraLarge:"Extra Large",reducedMotion:"Reduced Motion",reducedMotionDescription:"Disable animations for better accessibility",highContrast:"High Contrast Mode",highContrastDescription:"Increase contrast for better visibility",screenReaderAnnouncements:"Screen Reader Announcements",screenReaderDescription:"Enable announcements for screen readers",keyboardHints:"Keyboard Navigation Hints",keyboardHintsDescription:"Show hints for keyboard navigation",dataUsage:"Data Usage",wifiOnly:"WiFi Only (for media)",auto:"Auto",never:"Never (save data)",offlineMode:"Offline Mode",offlineModeDescription:"Enable offline functionality",backgroundSync:"Background Sync",backgroundSyncDescription:"Sync data in the background",autoClearOldNotifications:"Auto-clear Old Notifications",clearAfter:"Clear After",days:"days",cacheManagement:"Cache Management",clearCache:"Clear Cache",clearCacheDescription:"Clear cached data to free up storage space",saveAll:"Save All",saving:"Saving...",saved:"Settings saved successfully!",saveFailed:"Failed to save settings.",settingsUpdated:"Settings updated!",dashboard:"Dashboard",socialNx:"SocialNx",messages:"Messages",bookings:"Bookings",marketplace:"Marketplace",techServices:"Tech Services",businessCenter:"Business Center",profile:"Profile",billing:"Billing",settings:"Settings",logout:"Logout",search:"Search",searchPlaceholder:"Search...",notifications:"Notifications",noNotifications:"No notifications",markAllRead:"Mark all as read",clearAll:"Clear all",switchRole:"Switch Role",viewProfile:"View Profile",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",goodNight:"Good night",welcomeBack:"Welcome back",quickActions:"Quick Actions",recentActivity:"Recent Activity",upcomingBookings:"Upcoming Bookings",noUpcomingBookings:"No upcoming bookings",viewAll:"View All",seeMore:"See More",newBooking:"New Booking",viewCalendar:"View Calendar",recentMessages:"Recent Messages",noRecentMessages:"No recent messages",startConversation:"Start Conversation",trendingNow:"Trending Now",viewMarketplace:"View Marketplace",stats:"Stats",followers:"Followers",following:"Following",posts:"Posts",forYou:"For You",following:"Following",discover:"Discover",createPost:"Create Post",whatOnMind:"What's on your mind?",post:"Post",like:"Like",comment:"Comment",share:"Share",save:"Save",repost:"Repost",follow:"Follow",unfollow:"Unfollow",noPosts:"No posts yet",beFirst:"Be the first to share something!",noPostsFollowing:"No recent posts from people you follow",browseForYou:"Browse For You feed →",suggestedForYou:"Suggested for you",startFollowing:"Start following creators",followDescription:"Follow artists, engineers, and studios to see their posts in your Following feed.",selectConversation:"Select a conversation to start chatting",typeMessage:"Type a message...",send:"Send",online:"Online",offline:"Offline",typing:"typing...",newMessage:"New Message",noConversations:"No conversations yet",myBookings:"My Bookings",calendar:"Calendar",findTalent:"Find Talent",broadcasts:"Broadcasts",createBroadcast:"Create Broadcast",newSession:"New Session",manageSessions:"Manage your sessions and bookings",upcoming:"Upcoming",past:"Past",pending:"Pending",confirmed:"Confirmed",cancelled:"Cancelled",noBookings:"No bookings found",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",save:"Save",close:"Close",back:"Back",next:"Next",previous:"Previous",done:"Done",apply:"Apply",reset:"Reset",filter:"Filter",sort:"Sort",refresh:"Refresh",activityFeed:"Activity Feed",allCaughtUp:"All caught up!",noNewNotifications:"No new notifications",viewAllActivity:"View All Activity",studioStatus:"Studio Status",manage:"Manage",noRoomsConfigured:"No rooms configured yet",addFirstRoom:"+ Add Your First Room",new:"New",gearExchange:"Gear Exchange",seshFxStore:"SeshFX Store",searchConversations:"Search conversations...",newGroup:"New Group",groupChat:"Group Chat",directMessage:"Direct Message",addMembers:"Add Members",groupName:"Group Name",createGroup:"Create Group",noMessages:"No messages yet",messageDeleted:"Message deleted",replyingTo:"Replying to",editingMessage:"Editing message",forwardingMessage:"Forwarding message",unknownUser:"Unknown User",dropFiles:"Drop files here",updateMessage:"Update message",noMembersSelected:"No members selected",noUsersFound:"No users found",you:"You",enterGroupName:"Enter group name",active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",cancelled:"Cancelled",declined:"Declined",confirmed:"Confirmed"},es:{general:"General",security:"Seguridad y Privacidad",notifications:"Notificaciones",messaging:"Mensajería",social:"Social y Feed",bookings:"Reservas",marketplace:"Mercado",content:"Contenido y Medios",accessibility:"Accesibilidad",performance:"Rendimiento",rolesWorkflow:"Roles y Flujo de Trabajo",activeAccountTypes:"Tipos de Cuenta Activos",preferredProfile:"Perfil Preferido",activeWorkflowContext:"Contexto de Flujo de Trabajo Activo",seeAllUnfiltered:"Ver Todo (Vista Sin Filtros)",seeAllDescription:"Mostrar todos los tipos de contenido independientemente del flujo de trabajo activo",saveWorkflowSettings:"Guardar Configuración de Flujo de Trabajo",appearance:"Apariencia",light:"Claro",dark:"Oscuro",system:"Sistema",languageLocalization:"Idioma y Localización",language:"Idioma",dateFormat:"Formato de Fecha",timeFormat:"Formato de Hora",timezone:"Zona Horaria",currency:"Moneda",numberFormat:"Formato de Número",autoDetect:"Detección Automática",easternTime:"Hora del Este",centralTime:"Hora Central",mountainTime:"Hora de la Montaña",pacificTime:"Hora del Pacífico",accountSecurity:"Seguridad de la Cuenta",emailAddress:"Dirección de Correo",password:"Contraseña",changeEmail:"Cambiar Correo",changePassword:"Cambiar Contraseña",twoFactorAuth:"Autenticación de Dos Factores (2FA)",twoFactorDescription:"Agrega una capa adicional de seguridad a tu cuenta",lastChanged:"Último cambio",unknown:"Desconocido",privacyVisibility:"Privacidad y Visibilidad",publicProfileVisibility:"Visibilidad del Perfil Público",showLocationOnMap:"Mostrar Ubicación en el Mapa",hideProfileCompletely:"Ocultar Perfil Completamente",showEmailAddress:"Mostrar Dirección de Correo",showPhoneNumber:"Mostrar Número de Teléfono",showOnlineStatus:"Mostrar Estado en Línea",showLastSeen:"Mostrar Última Vez",allowSearchEngines:"Permitir Indexación por Motores de Búsqueda",allowTagging:"Permitir Etiquetado",reviewTagsBeforeAppear:"Revisar Etiquetas Antes de Aparecer",showFollowingList:"Mostrar Lista de Seguidos",showFollowersList:"Mostrar Lista de Seguidores",contentSafety:"Contenido y Seguridad",blockedUsers:"Usuarios Bloqueados",mutedThreads:"Hilos Silenciados",noActive:"Sin activos",yourData:"Tus Datos",downloadDataDescription:"Descarga una copia de tus datos personales (GDPR/CCPA).",downloadData:"Descargar Datos",dangerZone:"Zona de Peligro",deleteAccountWarning:"Eliminar tu cuenta es permanente. Esta acción eliminará tu perfil, publicaciones y mensajes.",deleteAccount:"Eliminar Cuenta",confirmDeletion:"Confirmar Eliminación",typeDeleteToConfirm:"Escribe ELIMINAR a continuación para confirmar. Esto no se puede deshacer.",confirmDelete:"Confirmar Eliminación",cancel:"Cancelar",generalNotifications:"Notificaciones Generales",emailNotifications:"Notificaciones por Correo",pushNotifications:"Notificaciones Push",marketingUpdates:"Marketing y Actualizaciones",soundNotifications:"Notificaciones de Sonido",badgeCount:"Contador de Insignias",badgeCountDescription:"Mostrar conteo de no leídos en el icono de la app",bookingNotifications:"Notificaciones de Reservas",newBookingRequests:"Nuevas Solicitudes de Reserva",bookingConfirmations:"Confirmaciones de Reserva",bookingReminders:"Recordatorios de Reserva",bookingCancellations:"Cancelaciones de Reserva",socialNotifications:"Notificaciones Sociales",likes:"Me Gusta",comments:"Comentarios",follows:"Seguimientos",mentions:"Menciones",reposts:"Republicaciones",marketplaceNotifications:"Notificaciones del Mercado",newOffers:"Nuevas Ofertas",sales:"Ventas",messages:"Mensajes",systemNotifications:"Notificaciones del Sistema",maintenanceAlerts:"Alertas de Mantenimiento",updates:"Actualizaciones",securityAlerts:"Alertas de Seguridad",quietHours:"Horas Silenciosas",enableQuietHours:"Habilitar Horas Silenciosas",quietHoursDescription:"Desactivar notificaciones durante horas específicas",startTime:"Hora de Inicio",endTime:"Hora de Fin",readReceipts:"Confirmaciones de Lectura",readReceiptsDescription:"Mostrar cuando los mensajes son leídos",typingIndicators:"Indicadores de Escritura",typingIndicatorsDescription:"Mostrar cuando alguien está escribiendo",messageRequests:"Solicitudes de Mensaje",messageRequestsDescription:"Requerir aprobación para mensajes de no contactos",whoCanMessageYou:"Quién Puede Enviarte Mensajes",everyone:"Todos",followersOnly:"Solo Seguidores",noOne:"Nadie",autoArchiveOld:"Archivar Automáticamente Conversaciones Antiguas",autoArchiveDescription:"Archivar automáticamente conversaciones mayores de 30 días",soundNotificationsMessages:"Notificaciones de Sonido para Mensajes",messagePreview:"Vista Previa de Mensaje en Notificaciones",messagePreviewDescription:"Mostrar contenido del mensaje en notificaciones",blockedContacts:"Contactos Bloqueados",searchConversations:"Buscar conversaciones...",newGroup:"Nuevo Grupo",groupChat:"Chat Grupal",directMessage:"Mensaje Directo",addMembers:"Agregar Miembros",groupName:"Nombre del Grupo",createGroup:"Crear Grupo",noMessages:"Aún no hay mensajes",messageDeleted:"Mensaje eliminado",replyingTo:"Respondiendo a",editingMessage:"Editando mensaje",forwardingMessage:"Reenviando mensaje",unknownUser:"Usuario Desconocido",dropFiles:"Suelta archivos aquí",updateMessage:"Actualizar mensaje",noMembersSelected:"No hay miembros seleccionados",noUsersFound:"No se encontraron usuarios",you:"Tú",enterGroupName:"Ingresa el nombre del grupo",feedAlgorithm:"Algoritmo del Feed",chronological:"Cronológico",recommended:"Recomendado",followingOnly:"Solo Seguidos",autoPlayVideos:"Reproducción Automática de Videos en el Feed",showSensitiveContentWarning:"Mostrar Advertencia de Contenido Sensible",showActivityStatus:"Mostrar Estado de Actividad",showActivityStatusDescription:"Permitir que otros vean cuando estás activo",showSuggestedAccounts:"Mostrar Cuentas Sugeridas",contentFiltering:"Filtrado de Contenido",sensitivityFilter:"Filtro de Sensibilidad",off:"Desactivado",low:"Bajo",medium:"Medio",high:"Alto",autoHideReported:"Ocultar Automáticamente Contenido Reportado",showAgeRestricted:"Mostrar Contenido con Restricción de Edad",mutedUsers:"Usuarios Silenciados",autoAcceptBookings:"Aceptar Automáticamente Reservas",autoAcceptDescription:"Aceptar automáticamente reservas que cumplan tus criterios",defaultBufferTime:"Tiempo de Búfer Predeterminado",bufferTimeDescription:"Tiempo entre sesiones",minutes:"minutos",showAvailabilityPublicly:"Mostrar Calendario de Disponibilidad Públicamente",requireDeposit:"Requerir Depósito para Reservas",autoDeclineExpired:"Rechazar Automáticamente Solicitudes de Reserva Expiradas",defaultSessionDuration:"Duración de Sesión Predeterminada",autoListItem:"Listar Automáticamente Artículos",autoListDescription:"Listar automáticamente artículos para la venta",requireApproval:"Requerir Aprobación",requireApprovalDescription:"Revisar artículos antes de que se publiquen",defaultShippingMethod:"Método de Envío Predeterminado",defaultPaymentTerms:"Términos de Pago Predeterminados",immediate:"Inmediato",net15:"Neto 15",net30:"Neto 30",autoAcceptOffersAbove:"Aceptar Automáticamente Ofertas por Encima del Umbral",autoAcceptThreshold:"Umbral de Aceptación Automática",showSoldItems:"Mostrar Artículos Vendidos en Listados",imageQuality:"Calidad de Imagen",videoQuality:"Calidad de Video",high:"Alta",medium:"Media",low:"Baja (Carga Más Rápida)",autoSaveUploaded:"Guardar Automáticamente Medios Subidos",autoSaveDescription:"Guardar automáticamente imágenes y videos subidos",compressImages:"Comprimir Imágenes Antes de Subir",compressDescription:"Reducir el tamaño del archivo para subidas más rápidas",maxUploadSize:"Tamaño Máximo de Subida",mb:"MB",fontSize:"Tamaño de Fuente",small:"Pequeño",large:"Grande",extraLarge:"Extra Grande",reducedMotion:"Movimiento Reducido",reducedMotionDescription:"Desactivar animaciones para mejor accesibilidad",highContrast:"Modo de Alto Contraste",highContrastDescription:"Aumentar el contraste para mejor visibilidad",screenReaderAnnouncements:"Anuncios de Lector de Pantalla",screenReaderDescription:"Habilitar anuncios para lectores de pantalla",keyboardHints:"Pistas de Navegación por Teclado",keyboardHintsDescription:"Mostrar pistas para navegación por teclado",dataUsage:"Uso de Datos",wifiOnly:"Solo WiFi (para medios)",auto:"Automático",never:"Nunca (ahorrar datos)",offlineMode:"Modo Sin Conexión",offlineModeDescription:"Habilitar funcionalidad sin conexión",backgroundSync:"Sincronización en Segundo Plano",backgroundSyncDescription:"Sincronizar datos en segundo plano",autoClearOldNotifications:"Limpiar Automáticamente Notificaciones Antiguas",clearAfter:"Limpiar Después de",days:"días",cacheManagement:"Gestión de Caché",clearCache:"Limpiar Caché",clearCacheDescription:"Limpiar datos en caché para liberar espacio de almacenamiento",saveAll:"Guardar Todo",saving:"Guardando...",saved:"¡Configuración guardada exitosamente!",saveFailed:"Error al guardar la configuración.",settingsUpdated:"¡Configuración actualizada!",dashboard:"Panel",socialNx:"SocialNx",messages:"Mensajes",bookings:"Reservas",marketplace:"Mercado",techServices:"Servicios Técnicos",businessCenter:"Centro de Negocios",profile:"Perfil",billing:"Facturación",settings:"Configuración",logout:"Cerrar Sesión",search:"Buscar",searchPlaceholder:"Buscar...",notifications:"Notificaciones",noNotifications:"No hay notificaciones",markAllRead:"Marcar todas como leídas",clearAll:"Limpiar todo",switchRole:"Cambiar Rol",viewProfile:"Ver Perfil",goodMorning:"Buenos días",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",goodNight:"Buenas noches",welcomeBack:"Bienvenido de nuevo",quickActions:"Acciones Rápidas",recentActivity:"Actividad Reciente",upcomingBookings:"Reservas Próximas",noUpcomingBookings:"No hay reservas próximas",viewAll:"Ver Todo",seeMore:"Ver Más",newBooking:"Nueva Reserva",viewCalendar:"Ver Calendario",recentMessages:"Mensajes Recientes",noRecentMessages:"No hay mensajes recientes",startConversation:"Iniciar Conversación",trendingNow:"Tendencias",viewMarketplace:"Ver Mercado",stats:"Estadísticas",followers:"Seguidores",following:"Siguiendo",posts:"Publicaciones",forYou:"Para Ti",following:"Siguiendo",discover:"Descubrir",createPost:"Crear Publicación",whatOnMind:"¿En qué estás pensando?",post:"Publicar",like:"Me Gusta",comment:"Comentar",share:"Compartir",save:"Guardar",repost:"Republicar",follow:"Seguir",unfollow:"Dejar de Seguir",noPosts:"Aún no hay publicaciones",beFirst:"¡Sé el primero en compartir algo!",noPostsFollowing:"No hay publicaciones recientes de personas que sigues",browseForYou:"Explorar feed Para Ti →",suggestedForYou:"Sugerido para ti",startFollowing:"Comienza a seguir creadores",followDescription:"Sigue artistas, ingenieros y estudios para ver sus publicaciones en tu feed de Siguiendo.",selectConversation:"Selecciona una conversación para comenzar a chatear",typeMessage:"Escribe un mensaje...",send:"Enviar",online:"En Línea",offline:"Desconectado",typing:"escribiendo...",newMessage:"Nuevo Mensaje",noConversations:"Aún no hay conversaciones",myBookings:"Mis Reservas",calendar:"Calendario",findTalent:"Buscar Talento",broadcasts:"Transmisiones",createBroadcast:"Crear Transmisión",newSession:"Nueva Sesión",manageSessions:"Gestiona tus sesiones y reservas",upcoming:"Próximas",past:"Pasadas",pending:"Pendientes",confirmed:"Confirmadas",cancelled:"Canceladas",noBookings:"No se encontraron reservas",loading:"Cargando...",error:"Error",success:"Éxito",cancel:"Cancelar",confirm:"Confirmar",delete:"Eliminar",edit:"Editar",save:"Guardar",close:"Cerrar",back:"Atrás",next:"Siguiente",previous:"Anterior",done:"Hecho",apply:"Aplicar",reset:"Restablecer",filter:"Filtrar",sort:"Ordenar",refresh:"Actualizar"},fr:{general:"Général",security:"Sécurité et Confidentialité",notifications:"Notifications",messaging:"Messagerie",social:"Social et Fil d'Actualité",bookings:"Réservations",marketplace:"Marché",content:"Contenu et Médias",accessibility:"Accessibilité",performance:"Performances",rolesWorkflow:"Rôles et Flux de Travail",activeAccountTypes:"Types de Compte Actifs",preferredProfile:"Profil Préféré",activeWorkflowContext:"Contexte de Flux de Travail Actif",seeAllUnfiltered:"Voir Tout (Vue Non Filtrée)",seeAllDescription:"Afficher tous les types de contenu indépendamment du flux de travail actif",saveWorkflowSettings:"Enregistrer les Paramètres de Flux de Travail",appearance:"Apparence",light:"Clair",dark:"Sombre",system:"Système",languageLocalization:"Langue et Localisation",language:"Langue",dateFormat:"Format de Date",timeFormat:"Format d'Heure",timezone:"Fuseau Horaire",currency:"Devise",numberFormat:"Format de Nombre",autoDetect:"Détection Automatique",easternTime:"Heure de l'Est",centralTime:"Heure du Centre",mountainTime:"Heure des Rocheuses",pacificTime:"Heure du Pacifique",accountSecurity:"Sécurité du Compte",emailAddress:"Adresse E-mail",password:"Mot de Passe",changeEmail:"Changer l'E-mail",changePassword:"Changer le Mot de Passe",twoFactorAuth:"Authentification à Deux Facteurs (2FA)",twoFactorDescription:"Ajoutez une couche supplémentaire de sécurité à votre compte",lastChanged:"Dernière modification",unknown:"Inconnu",privacyVisibility:"Confidentialité et Visibilité",publicProfileVisibility:"Visibilité du Profil Public",showLocationOnMap:"Afficher l'Emplacement sur la Carte",hideProfileCompletely:"Masquer Complètement le Profil",showEmailAddress:"Afficher l'Adresse E-mail",showPhoneNumber:"Afficher le Numéro de Téléphone",showOnlineStatus:"Afficher le Statut en Ligne",showLastSeen:"Afficher la Dernière Connexion",allowSearchEngines:"Autoriser l'Indexation par les Moteurs de Recherche",allowTagging:"Autoriser le Marquage",reviewTagsBeforeAppear:"Réviser les Tags Avant qu'Ils Apparaissent",showFollowingList:"Afficher la Liste des Abonnements",showFollowersList:"Afficher la Liste des Abonnés",contentSafety:"Contenu et Sécurité",blockedUsers:"Utilisateurs Bloqués",mutedThreads:"Fils de Discussion Silencieux",noActive:"Aucun actif",yourData:"Vos Données",downloadDataDescription:"Téléchargez une copie de vos données personnelles (RGPD/CCPA).",downloadData:"Télécharger les Données",dangerZone:"Zone de Danger",deleteAccountWarning:"Supprimer votre compte est permanent. Cette action supprimera votre profil, vos publications et vos messages.",deleteAccount:"Supprimer le Compte",confirmDeletion:"Confirmer la Suppression",typeDeleteToConfirm:"Tapez SUPPRIMER ci-dessous pour confirmer. Cela ne peut pas être annulé.",confirmDelete:"Confirmer la Suppression",cancel:"Annuler",generalNotifications:"Notifications Générales",emailNotifications:"Notifications par E-mail",pushNotifications:"Notifications Push",marketingUpdates:"Marketing et Mises à Jour",soundNotifications:"Notifications Sonores",badgeCount:"Compteur de Badges",badgeCountDescription:"Afficher le nombre de non lus sur l'icône de l'application",bookingNotifications:"Notifications de Réservations",newBookingRequests:"Nouvelles Demandes de Réservation",bookingConfirmations:"Confirmations de Réservation",bookingReminders:"Rappels de Réservation",bookingCancellations:"Annulations de Réservation",socialNotifications:"Notifications Sociales",likes:"J'aime",comments:"Commentaires",follows:"Abonnements",mentions:"Mentions",reposts:"Repartages",marketplaceNotifications:"Notifications du Marché",newOffers:"Nouvelles Offres",sales:"Ventes",messages:"Messages",systemNotifications:"Notifications Système",maintenanceAlerts:"Alertes de Maintenance",updates:"Mises à Jour",securityAlerts:"Alertes de Sécurité",quietHours:"Heures Silencieuses",enableQuietHours:"Activer les Heures Silencieuses",quietHoursDescription:"Désactiver les notifications pendant des heures spécifiques",startTime:"Heure de Début",endTime:"Heure de Fin",readReceipts:"Accusés de Réception",readReceiptsDescription:"Afficher quand les messages sont lus",typingIndicators:"Indicateurs de Frappe",typingIndicatorsDescription:"Afficher quand quelqu'un est en train d'écrire",messageRequests:"Demandes de Message",messageRequestsDescription:"Exiger une approbation pour les messages de non contacts",whoCanMessageYou:"Qui Peut Vous Envoyer des Messages",everyone:"Tout le Monde",followersOnly:"Abonnés Uniquement",noOne:"Personne",autoArchiveOld:"Archiver Automatiquement les Anciennes Conversations",autoArchiveDescription:"Archiver automatiquement les conversations de plus de 30 jours",soundNotificationsMessages:"Notifications Sonores pour les Messages",messagePreview:"Aperçu du Message dans les Notifications",messagePreviewDescription:"Afficher le contenu du message dans les notifications",blockedContacts:"Contacts Bloqués",searchConversations:"Rechercher des conversations...",newGroup:"Nouveau Groupe",groupChat:"Chat de Groupe",directMessage:"Message Direct",addMembers:"Ajouter des Membres",groupName:"Nom du Groupe",createGroup:"Créer un Groupe",noMessages:"Aucun message pour le moment",messageDeleted:"Message supprimé",replyingTo:"Répondre à",editingMessage:"Modification du message",forwardingMessage:"Transfert du message",unknownUser:"Utilisateur Inconnu",dropFiles:"Déposer les fichiers ici",updateMessage:"Mettre à jour le message",noMembersSelected:"Aucun membre sélectionné",noUsersFound:"Aucun utilisateur trouvé",you:"Vous",enterGroupName:"Entrer le nom du groupe",feedAlgorithm:"Algorithme du Fil d'Actualité",chronological:"Chronologique",recommended:"Recommandé",followingOnly:"Abonnements Uniquement",autoPlayVideos:"Lecture Automatique des Vidéos dans le Fil",showSensitiveContentWarning:"Afficher l'Avertissement de Contenu Sensible",showActivityStatus:"Afficher le Statut d'Activité",showActivityStatusDescription:"Permettre aux autres de voir quand vous êtes actif",showSuggestedAccounts:"Afficher les Comptes Suggérés",contentFiltering:"Filtrage de Contenu",sensitivityFilter:"Filtre de Sensibilité",off:"Désactivé",low:"Faible",medium:"Moyen",high:"Élevé",autoHideReported:"Masquer Automatiquement le Contenu Signalé",showAgeRestricted:"Afficher le Contenu avec Restriction d'Âge",mutedUsers:"Utilisateurs Silencieux",autoAcceptBookings:"Accepter Automatiquement les Réservations",autoAcceptDescription:"Accepter automatiquement les réservations qui répondent à vos critères",defaultBufferTime:"Temps de Tampon par Défaut",bufferTimeDescription:"Temps entre les sessions",minutes:"minutes",showAvailabilityPublicly:"Afficher le Calendrier de Disponibilité Publiquement",requireDeposit:"Exiger un Dépôt pour les Réservations",autoDeclineExpired:"Refuser Automatiquement les Demandes de Réservation Expirées",defaultSessionDuration:"Durée de Session par Défaut",autoListItem:"Lister Automatiquement les Articles",autoListDescription:"Lister automatiquement les articles à vendre",requireApproval:"Exiger une Approbation",requireApprovalDescription:"Réviser les articles avant qu'ils ne soient publiés",defaultShippingMethod:"Méthode d'Expédition par Défaut",defaultPaymentTerms:"Conditions de Paiement par Défaut",immediate:"Immédiat",net15:"Net 15",net30:"Net 30",autoAcceptOffersAbove:"Accepter Automatiquement les Offres au-Dessus du Seuil",autoAcceptThreshold:"Seuil d'Acceptation Automatique",showSoldItems:"Afficher les Articles Vendus dans les Listings",imageQuality:"Qualité d'Image",videoQuality:"Qualité Vidéo",high:"Élevée",medium:"Moyenne",low:"Faible (Chargement Plus Rapide)",autoSaveUploaded:"Enregistrer Automatiquement les Médias Téléchargés",autoSaveDescription:"Enregistrer automatiquement les images et vidéos téléchargées",compressImages:"Compresser les Images Avant le Téléchargement",compressDescription:"Réduire la taille du fichier pour des téléchargements plus rapides",maxUploadSize:"Taille Maximale de Téléchargement",mb:"Mo",fontSize:"Taille de Police",small:"Petite",large:"Grande",extraLarge:"Très Grande",reducedMotion:"Mouvement Réduit",reducedMotionDescription:"Désactiver les animations pour une meilleure accessibilité",highContrast:"Mode Contraste Élevé",highContrastDescription:"Augmenter le contraste pour une meilleure visibilité",screenReaderAnnouncements:"Annonces de Lecteur d'Écran",screenReaderDescription:"Activer les annonces pour les lecteurs d'écran",keyboardHints:"Indices de Navigation au Clavier",keyboardHintsDescription:"Afficher les indices pour la navigation au clavier",dataUsage:"Utilisation des Données",wifiOnly:"WiFi Uniquement (pour les médias)",auto:"Automatique",never:"Jamais (économiser les données)",offlineMode:"Mode Hors Ligne",offlineModeDescription:"Activer la fonctionnalité hors ligne",backgroundSync:"Synchronisation en Arrière-Plan",backgroundSyncDescription:"Synchroniser les données en arrière-plan",autoClearOldNotifications:"Effacer Automatiquement les Anciennes Notifications",clearAfter:"Effacer Après",days:"jours",cacheManagement:"Gestion du Cache",clearCache:"Effacer le Cache",clearCacheDescription:"Effacer les données en cache pour libérer de l'espace de stockage",saveAll:"Tout Enregistrer",saving:"Enregistrement...",saved:"Paramètres enregistrés avec succès !",saveFailed:"Échec de l'enregistrement des paramètres.",settingsUpdated:"Paramètres mis à jour !",dashboard:"Tableau de Bord",socialNx:"SocialNx",messages:"Messages",bookings:"Réservations",marketplace:"Marché",techServices:"Services Techniques",businessCenter:"Centre d'Affaires",profile:"Profil",billing:"Facturation",settings:"Paramètres",logout:"Déconnexion",search:"Rechercher",searchPlaceholder:"Rechercher...",notifications:"Notifications",noNotifications:"Aucune notification",markAllRead:"Tout marquer comme lu",clearAll:"Tout effacer",switchRole:"Changer de Rôle",viewProfile:"Voir le Profil",goodMorning:"Bonjour",goodAfternoon:"Bon après-midi",goodEvening:"Bonsoir",goodNight:"Bonne nuit",welcomeBack:"Bon retour",quickActions:"Actions Rapides",recentActivity:"Activité Récente",upcomingBookings:"Réservations à Venir",noUpcomingBookings:"Aucune réservation à venir",viewAll:"Voir Tout",seeMore:"Voir Plus",newBooking:"Nouvelle Réservation",viewCalendar:"Voir le Calendrier",recentMessages:"Messages Récents",noRecentMessages:"Aucun message récent",startConversation:"Démarrer une Conversation",trendingNow:"Tendances",viewMarketplace:"Voir le Marché",stats:"Statistiques",followers:"Abonnés",following:"Abonnements",posts:"Publications",forYou:"Pour Vous",following:"Abonnements",discover:"Découvrir",createPost:"Créer une Publication",whatOnMind:"À quoi pensez-vous ?",post:"Publier",like:"J'aime",comment:"Commenter",share:"Partager",save:"Enregistrer",repost:"Repartager",follow:"Suivre",unfollow:"Ne Plus Suivre",noPosts:"Aucune publication pour le moment",beFirst:"Soyez le premier à partager quelque chose !",noPostsFollowing:"Aucune publication récente des personnes que vous suivez",browseForYou:"Parcourir le fil Pour Vous →",suggestedForYou:"Suggéré pour vous",startFollowing:"Commencer à suivre des créateurs",followDescription:"Suivez des artistes, des ingénieurs et des studios pour voir leurs publications dans votre fil d'Abonnements.",selectConversation:"Sélectionnez une conversation pour commencer à discuter",typeMessage:"Tapez un message...",send:"Envoyer",online:"En Ligne",offline:"Hors Ligne",typing:"en train d'écrire...",newMessage:"Nouveau Message",noConversations:"Aucune conversation pour le moment",myBookings:"Mes Réservations",calendar:"Calendrier",findTalent:"Trouver un Talent",broadcasts:"Diffusions",createBroadcast:"Créer une Diffusion",newSession:"Nouvelle Session",manageSessions:"Gérez vos sessions et réservations",upcoming:"À Venir",past:"Passées",pending:"En Attente",confirmed:"Confirmées",cancelled:"Annulées",noBookings:"Aucune réservation trouvée",loading:"Chargement...",error:"Erreur",success:"Succès",cancel:"Annuler",confirm:"Confirmer",delete:"Supprimer",edit:"Modifier",save:"Enregistrer",close:"Fermer",back:"Retour",next:"Suivant",previous:"Précédent",done:"Terminé",apply:"Appliquer",reset:"Réinitialiser",filter:"Filtrer",sort:"Trier",refresh:"Actualiser",activityFeed:"Flux d'Activité",allCaughtUp:"Tout est à jour !",noNewNotifications:"Aucune nouvelle notification",viewAllActivity:"Voir Toute l'Activité",studioStatus:"Statut du Studio",manage:"Gérer",noRoomsConfigured:"Aucune salle configurée pour le moment",addFirstRoom:"+ Ajouter Votre Première Salle",new:"Nouveau",gearExchange:"Échange d'Équipement",seshFxStore:"Boutique SeshFX",searchConversations:"Rechercher des conversations...",newGroup:"Nouveau Groupe",groupChat:"Chat de Groupe",directMessage:"Message Direct",addMembers:"Ajouter des Membres",groupName:"Nom du Groupe",createGroup:"Créer un Groupe",noMessages:"Aucun message pour le moment",messageDeleted:"Message supprimé",replyingTo:"Répondre à",editingMessage:"Modification du message",forwardingMessage:"Transfert du message",unknownUser:"Utilisateur Inconnu",dropFiles:"Déposer les fichiers ici",updateMessage:"Mettre à jour le message",noMembersSelected:"Aucun membre sélectionné",noUsersFound:"Aucun utilisateur trouvé",you:"Vous",enterGroupName:"Entrer le nom du groupe",active:"Actif",inactive:"Inactif",pending:"En Attente",completed:"Terminé",cancelled:"Annulé",declined:"Refusé",confirmed:"Confirmé"},de:{general:"Allgemein",security:"Sicherheit & Datenschutz",notifications:"Benachrichtigungen",messaging:"Nachrichten",social:"Social & Feed",bookings:"Buchungen",marketplace:"Marktplatz",content:"Inhalt & Medien",accessibility:"Barrierefreiheit",performance:"Leistung",rolesWorkflow:"Rollen & Arbeitsablauf",activeAccountTypes:"Aktive Kontotypen",preferredProfile:"Bevorzugtes Profil",activeWorkflowContext:"Aktiver Arbeitsablauf-Kontext",seeAllUnfiltered:"Alles Anzeigen (Ungefilterte Ansicht)",seeAllDescription:"Alle Inhaltstypen unabhängig vom aktiven Arbeitsablauf anzeigen",saveWorkflowSettings:"Arbeitsablauf-Einstellungen Speichern",appearance:"Erscheinungsbild",light:"Hell",dark:"Dunkel",system:"System",languageLocalization:"Sprache & Lokalisierung",language:"Sprache",dateFormat:"Datumsformat",timeFormat:"Zeitformat",timezone:"Zeitzone",currency:"Währung",numberFormat:"Zahlenformat",autoDetect:"Automatisch Erkennen",easternTime:"Östliche Zeit",centralTime:"Zentrale Zeit",mountainTime:"Bergzeit",pacificTime:"Pazifische Zeit",accountSecurity:"Kontosicherheit",emailAddress:"E-Mail-Adresse",password:"Passwort",changeEmail:"E-Mail Ändern",changePassword:"Passwort Ändern",twoFactorAuth:"Zwei-Faktor-Authentifizierung (2FA)",twoFactorDescription:"Fügen Sie eine zusätzliche Sicherheitsebene zu Ihrem Konto hinzu",lastChanged:"Zuletzt geändert",unknown:"Unbekannt",privacyVisibility:"Datenschutz & Sichtbarkeit",publicProfileVisibility:"Öffentliche Profilsichtbarkeit",showLocationOnMap:"Standort auf Karte Anzeigen",hideProfileCompletely:"Profil Vollständig Ausblenden",showEmailAddress:"E-Mail-Adresse Anzeigen",showPhoneNumber:"Telefonnummer Anzeigen",showOnlineStatus:"Online-Status Anzeigen",showLastSeen:"Zuletzt Gesehen Anzeigen",allowSearchEngines:"Suchmaschinen-Indexierung Erlauben",allowTagging:"Tagging Erlauben",reviewTagsBeforeAppear:"Tags Vor dem Erscheinen Überprüfen",showFollowingList:"Folge-Liste Anzeigen",showFollowersList:"Follower-Liste Anzeigen",contentSafety:"Inhalt & Sicherheit",blockedUsers:"Blockierte Benutzer",mutedThreads:"Stummgeschaltete Threads",noActive:"Keine aktiven",yourData:"Ihre Daten",downloadDataDescription:"Laden Sie eine Kopie Ihrer persönlichen Daten herunter (DSGVO/CCPA).",downloadData:"Daten Herunterladen",dangerZone:"Gefahrenzone",deleteAccountWarning:"Das Löschen Ihres Kontos ist dauerhaft. Diese Aktion löscht Ihr Profil, Ihre Beiträge und Nachrichten.",deleteAccount:"Konto Löschen",confirmDeletion:"Löschung Bestätigen",typeDeleteToConfirm:"Geben Sie LÖSCHEN unten ein, um zu bestätigen. Dies kann nicht rückgängig gemacht werden.",confirmDelete:"Löschung Bestätigen",cancel:"Abbrechen",generalNotifications:"Allgemeine Benachrichtigungen",emailNotifications:"E-Mail-Benachrichtigungen",pushNotifications:"Push-Benachrichtigungen",marketingUpdates:"Marketing & Updates",soundNotifications:"Tonbenachrichtigungen",badgeCount:"Badge-Zähler",badgeCountDescription:"Ungelesene Anzahl auf App-Symbol anzeigen",bookingNotifications:"Buchungsbenachrichtigungen",newBookingRequests:"Neue Buchungsanfragen",bookingConfirmations:"Buchungsbestätigungen",bookingReminders:"Buchungserinnerungen",bookingCancellations:"Buchungsstornierungen",socialNotifications:"Soziale Benachrichtigungen",likes:"Gefällt mir",comments:"Kommentare",follows:"Folgen",mentions:"Erwähnungen",reposts:"Weiterleitungen",marketplaceNotifications:"Marktplatz-Benachrichtigungen",newOffers:"Neue Angebote",sales:"Verkäufe",messages:"Nachrichten",systemNotifications:"Systembenachrichtigungen",maintenanceAlerts:"Wartungsbenachrichtigungen",updates:"Updates",securityAlerts:"Sicherheitswarnungen",quietHours:"Ruhezeiten",enableQuietHours:"Ruhezeiten Aktivieren",quietHoursDescription:"Benachrichtigungen während bestimmter Zeiten deaktivieren",startTime:"Startzeit",endTime:"Endzeit",readReceipts:"Lesebestätigungen",readReceiptsDescription:"Anzeigen, wenn Nachrichten gelesen wurden",typingIndicators:"Tippindikatoren",typingIndicatorsDescription:"Anzeigen, wenn jemand tippt",messageRequests:"Nachrichtenanfragen",messageRequestsDescription:"Genehmigung für Nachrichten von Nicht-Kontakten erforderlich",whoCanMessageYou:"Wer Kann Ihnen Nachrichten Senden",everyone:"Jeder",followersOnly:"Nur Follower",noOne:"Niemand",autoArchiveOld:"Alte Unterhaltungen Automatisch Archivieren",autoArchiveDescription:"Unterhaltungen älter als 30 Tage automatisch archivieren",soundNotificationsMessages:"Tonbenachrichtigungen für Nachrichten",messagePreview:"Nachrichtenvorschau in Benachrichtigungen",messagePreviewDescription:"Nachrichteninhalt in Benachrichtigungen anzeigen",blockedContacts:"Blockierte Kontakte",searchConversations:"Unterhaltungen suchen...",newGroup:"Neue Gruppe",groupChat:"Gruppenchat",directMessage:"Direktnachricht",addMembers:"Mitglieder Hinzufügen",groupName:"Gruppenname",createGroup:"Gruppe Erstellen",noMessages:"Noch keine Nachrichten",messageDeleted:"Nachricht gelöscht",replyingTo:"Antworten an",editingMessage:"Nachricht bearbeiten",forwardingMessage:"Nachricht weiterleiten",unknownUser:"Unbekannter Benutzer",dropFiles:"Dateien hier ablegen",updateMessage:"Nachricht aktualisieren",noMembersSelected:"Keine Mitglieder ausgewählt",noUsersFound:"Keine Benutzer gefunden",you:"Du",enterGroupName:"Gruppenname eingeben",feedAlgorithm:"Feed-Algorithmus",chronological:"Chronologisch",recommended:"Empfohlen",followingOnly:"Nur Gefolgte",autoPlayVideos:"Videos im Feed Automatisch Abspielen",showSensitiveContentWarning:"Warnung für Sensiblen Inhalt Anzeigen",showActivityStatus:"Aktivitätsstatus Anzeigen",showActivityStatusDescription:"Anderen erlauben zu sehen, wann Sie aktiv sind",showSuggestedAccounts:"Vorgeschlagene Konten Anzeigen",contentFiltering:"Inhaltsfilterung",sensitivityFilter:"Empfindlichkeitsfilter",off:"Aus",low:"Niedrig",medium:"Mittel",high:"Hoch",autoHideReported:"Gemeldeten Inhalt Automatisch Ausblenden",showAgeRestricted:"Altersbeschränkten Inhalt Anzeigen",mutedUsers:"Stummgeschaltete Benutzer",autoAcceptBookings:"Buchungen Automatisch Akzeptieren",autoAcceptDescription:"Buchungen automatisch akzeptieren, die Ihren Kriterien entsprechen",defaultBufferTime:"Standard-Pufferzeit",bufferTimeDescription:"Zeit zwischen Sitzungen",minutes:"Minuten",showAvailabilityPublicly:"Verfügbarkeitskalender Öffentlich Anzeigen",requireDeposit:"Anzahlung für Buchungen Erfordern",autoDeclineExpired:"Abgelaufene Buchungsanfragen Automatisch Ablehnen",defaultSessionDuration:"Standard-Sitzungsdauer",autoListItem:"Artikel Automatisch Auflisten",autoListDescription:"Artikel automatisch zum Verkauf auflisten",requireApproval:"Genehmigung Erfordern",requireApprovalDescription:"Artikel überprüfen, bevor sie veröffentlicht werden",defaultShippingMethod:"Standard-Versandmethode",defaultPaymentTerms:"Standard-Zahlungsbedingungen",immediate:"Sofort",net15:"Netto 15",net30:"Netto 30",autoAcceptOffersAbove:"Angebote Über dem Schwellenwert Automatisch Akzeptieren",autoAcceptThreshold:"Automatischer Akzeptanz-Schwellenwert",showSoldItems:"Verkaufte Artikel in Auflistungen Anzeigen",imageQuality:"Bildqualität",videoQuality:"Videoqualität",high:"Hoch",medium:"Mittel",low:"Niedrig (Schnelleres Laden)",autoSaveUploaded:"Hochgeladene Medien Automatisch Speichern",autoSaveDescription:"Hochgeladene Bilder und Videos automatisch speichern",compressImages:"Bilder Vor dem Hochladen Komprimieren",compressDescription:"Dateigröße für schnellere Uploads reduzieren",maxUploadSize:"Maximale Upload-Größe",mb:"MB",fontSize:"Schriftgröße",small:"Klein",large:"Groß",extraLarge:"Extra Groß",reducedMotion:"Reduzierte Bewegung",reducedMotionDescription:"Animationen für bessere Barrierefreiheit deaktivieren",highContrast:"Hoher Kontrast Modus",highContrastDescription:"Kontrast für bessere Sichtbarkeit erhöhen",screenReaderAnnouncements:"Bildschirmleser-Ankündigungen",screenReaderDescription:"Ankündigungen für Bildschirmleser aktivieren",keyboardHints:"Tastaturnavigations-Hinweise",keyboardHintsDescription:"Hinweise für Tastaturnavigation anzeigen",dataUsage:"Datenverbrauch",wifiOnly:"Nur WiFi (für Medien)",auto:"Automatisch",never:"Niemals (Daten sparen)",offlineMode:"Offline-Modus",offlineModeDescription:"Offline-Funktionalität aktivieren",backgroundSync:"Hintergrund-Synchronisation",backgroundSyncDescription:"Daten im Hintergrund synchronisieren",autoClearOldNotifications:"Alte Benachrichtigungen Automatisch Löschen",clearAfter:"Löschen Nach",days:"Tagen",cacheManagement:"Cache-Verwaltung",clearCache:"Cache Löschen",clearCacheDescription:"Gecachte Daten löschen, um Speicherplatz freizugeben",saveAll:"Alles Speichern",saving:"Speichern...",saved:"Einstellungen erfolgreich gespeichert!",saveFailed:"Fehler beim Speichern der Einstellungen.",settingsUpdated:"Einstellungen aktualisiert!",dashboard:"Dashboard",socialNx:"SocialNx",messages:"Nachrichten",bookings:"Buchungen",marketplace:"Marktplatz",techServices:"Technische Dienste",businessCenter:"Business Center",profile:"Profil",billing:"Abrechnung",settings:"Einstellungen",logout:"Abmelden",search:"Suchen",searchPlaceholder:"Suchen...",notifications:"Benachrichtigungen",noNotifications:"Keine Benachrichtigungen",markAllRead:"Alle als gelesen markieren",clearAll:"Alle löschen",switchRole:"Rolle Wechseln",viewProfile:"Profil Anzeigen",goodMorning:"Guten Morgen",goodAfternoon:"Guten Tag",goodEvening:"Guten Abend",goodNight:"Gute Nacht",welcomeBack:"Willkommen zurück",quickActions:"Schnellaktionen",recentActivity:"Letzte Aktivität",upcomingBookings:"Anstehende Buchungen",noUpcomingBookings:"Keine anstehenden Buchungen",viewAll:"Alle Anzeigen",seeMore:"Mehr Anzeigen",newBooking:"Neue Buchung",viewCalendar:"Kalender Anzeigen",recentMessages:"Letzte Nachrichten",noRecentMessages:"Keine letzten Nachrichten",startConversation:"Unterhaltung Starten",trendingNow:"Trending",viewMarketplace:"Marktplatz Anzeigen",stats:"Statistiken",followers:"Follower",following:"Folgen",posts:"Beiträge",forYou:"Für Dich",following:"Folgen",discover:"Entdecken",createPost:"Beitrag Erstellen",whatOnMind:"Woran denkst du?",post:"Beitrag",like:"Gefällt mir",comment:"Kommentieren",share:"Teilen",save:"Speichern",repost:"Weiterleiten",follow:"Folgen",unfollow:"Nicht Mehr Folgen",noPosts:"Noch keine Beiträge",beFirst:"Sei der Erste, der etwas teilt!",noPostsFollowing:"Keine letzten Beiträge von Personen, denen du folgst",browseForYou:"Für Dich Feed durchsuchen →",suggestedForYou:"Vorgeschlagen für dich",startFollowing:"Beginne, Kreativen zu folgen",followDescription:"Folge Künstlern, Ingenieuren und Studios, um ihre Beiträge in deinem Folgen-Feed zu sehen.",selectConversation:"Wähle eine Unterhaltung aus, um zu chatten",typeMessage:"Nachricht eingeben...",send:"Senden",online:"Online",offline:"Offline",typing:"tippt...",newMessage:"Neue Nachricht",noConversations:"Noch keine Unterhaltungen",searchConversations:"Unterhaltungen suchen...",newGroup:"Neue Gruppe",groupChat:"Gruppenchat",directMessage:"Direktnachricht",addMembers:"Mitglieder Hinzufügen",groupName:"Gruppenname",createGroup:"Gruppe Erstellen",noMessages:"Noch keine Nachrichten",messageDeleted:"Nachricht gelöscht",replyingTo:"Antworten an",editingMessage:"Nachricht bearbeiten",forwardingMessage:"Nachricht weiterleiten",unknownUser:"Unbekannter Benutzer",dropFiles:"Dateien hier ablegen",updateMessage:"Nachricht aktualisieren",noMembersSelected:"Keine Mitglieder ausgewählt",noUsersFound:"Keine Benutzer gefunden",you:"Du",enterGroupName:"Gruppenname eingeben",myBookings:"Meine Buchungen",calendar:"Kalender",findTalent:"Talent Finden",broadcasts:"Übertragungen",createBroadcast:"Übertragung Erstellen",newSession:"Neue Sitzung",manageSessions:"Verwalte deine Sitzungen und Buchungen",upcoming:"Anstehend",past:"Vergangen",pending:"Ausstehend",confirmed:"Bestätigt",cancelled:"Abgesagt",noBookings:"Keine Buchungen gefunden",loading:"Laden...",error:"Fehler",success:"Erfolg",cancel:"Abbrechen",confirm:"Bestätigen",delete:"Löschen",edit:"Bearbeiten",save:"Speichern",close:"Schließen",back:"Zurück",next:"Weiter",previous:"Zurück",done:"Fertig",apply:"Anwenden",reset:"Zurücksetzen",filter:"Filtern",sort:"Sortieren",refresh:"Aktualisieren"}};function At(t,s="en"){return(ue[s]||ue.en)[t]||ue.en[t]||t}function Xe(t="en"){return ue[t]||ue.en}const et=r.createContext();function ss({children:t,userData:s}){var b;const[n,a]=r.useState(()=>{var h;if(typeof window<"u"){const w=localStorage.getItem("language");return w||((h=s==null?void 0:s.settings)==null?void 0:h.language)||"en"}return"en"});r.useEffect(()=>{var h;(h=s==null?void 0:s.settings)!=null&&h.language&&(a(s.settings.language),localStorage.setItem("language",s.settings.language),document.documentElement.lang=s.settings.language)},[(b=s==null?void 0:s.settings)==null?void 0:b.language]),r.useEffect(()=>{document.documentElement.lang=n,localStorage.setItem("language",n)},[n]);const i=h=>At(h,n),o=Xe(n);return e.jsx(et.Provider,{value:{language:n,setLanguage:a,t:i,translations:o},children:t})}function ze(){const t=r.useContext(et);return t||{language:"en",setLanguage:()=>{},t:s=>s,translations:Xe("en")}}const St=void 0,Mt="https://placeholder.convex.cloud",ns=new at(Mt),W=()=>!!St,Ct=t=>{var n,a;if(!t)return"";const s=t.trim().split(" ").filter(Boolean);return s.length>=2?(s[0][0]+s[1][0]).toUpperCase():s.length===1&&s[0].length>=2?s[0].substring(0,2).toUpperCase():((a=(n=s[0])==null?void 0:n[0])==null?void 0:a.toUpperCase())||""},Rt=t=>{if(!t)return"from-brand-blue to-purple-600";const s=["from-brand-blue to-purple-600","from-emerald-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-indigo-500 to-blue-600","from-amber-500 to-orange-600","from-cyan-500 to-blue-600","from-violet-500 to-purple-600"],n=t.split("").reduce((a,i)=>a+i.charCodeAt(0),0);return s[n%s.length]};function ce({src:t,name:s,size:n="md",className:a,onClick:i,status:o,isGroup:b=!1,square:h=!1}){const[w,f]=r.useState(!1),S=Ve(Ce("relative overflow-hidden flex items-center justify-center shrink-0 bg-gray-200 dark:bg-gray-700 border border-transparent transition-all select-none",h?"rounded-xl":"rounded-full",{xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-14 w-14 text-lg","2xl":"h-24 w-24 text-2xl","3xl":"h-32 w-32 text-4xl"}[n],i&&"cursor-pointer hover:opacity-90",a)),u=!t||w,c=Ct(s),m=Rt(s);return e.jsxs("div",{className:S,onClick:i,role:i?"button":void 0,tabIndex:i?0:void 0,"aria-label":s?`${s}'s avatar`:"User avatar",children:[u?e.jsx("div",{className:`h-full w-full flex items-center justify-center bg-gradient-to-br ${m} text-white font-bold`,children:b?e.jsx(ge,{className:"w-1/2 h-1/2","aria-hidden":"true"}):c?e.jsx("span",{"aria-hidden":"true",children:c}):e.jsx(He,{className:"w-1/2 h-1/2","aria-hidden":"true"})}):e.jsx("img",{src:t,alt:s||"Avatar",className:"h-full w-full object-cover",onError:()=>f(!0),loading:"lazy"}),o&&e.jsx("span",{className:Ce("absolute bottom-0 right-0 rounded-full border-2 border-white dark:border-gray-900",o==="online"?"bg-green-500":"bg-gray-400",n==="xs"||n==="sm"?"h-2 w-2":"h-3.5 w-3.5"),"aria-label":o==="online"?"Online":"Offline"})]})}const G=rt;it();const Dt="http://localhost:3000",Tt=()=>{const[t,s]=r.useState(!1),[n,a]=r.useState(null);return{uploadMedia:async(o,b="general")=>{if(!o)return null;s(!0),a(null);try{const h=new FormData;h.append("mediaFile",o),h.append("uploadType",b);const w=await fetch(`${Dt}/api/v1/upload-asset`,{method:"POST",body:h});if(!w.ok){const k=await w.json();throw new Error(k.message||`Upload failed with status ${w.status}`)}const f=await w.json();return s(!1),{url:f.url,previewUrl:f.previewUrl,storageRef:f.storageRef,type:o.type.startsWith("video/")?"video":o.type.startsWith("audio/")?"audio":"image",name:o.name}}catch(h){return console.error("Upload failed:",h),a(h.message||"An unknown error occurred during upload."),s(!1),null}},uploading:t,error:n}};function as(t){const s=r.useRef(!1),n=$(G.presence.updatePresence);r.useEffect(()=>{if(!t||!W())return;n({userId:t,online:!0,lastSeen:Date.now()}).then(()=>{s.current=!0}).catch(i=>{console.error("Presence online error:",i)});const a=setInterval(()=>{s.current&&n({userId:t,online:!0,lastSeen:Date.now()}).catch(console.error)},3e4);return()=>{clearInterval(a),s.current&&(n({userId:t,online:!1,lastSeen:Date.now()}).catch(console.error),s.current=!1)}},[t])}function tt(t){const s=W(),n=r.useMemo(()=>t&&s?{userId:t}:"skip",[t,s]),a=oe(G.presence.getPresence,n);return a?{online:a.online===!0,lastSeen:a.lastSeen,loading:!1}:{online:!1,lastSeen:null,loading:!W()}}function Ft(t){if(!t)return"Never";const s=t,a=Date.now()-s,i=Math.floor(a/6e4),o=Math.floor(i/60),b=Math.floor(o/24);return i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:b<7?`${b}d ago`:new Date(s).toLocaleDateString()}function st({online:t,lastSeen:s,showText:n=!1,size:a="sm"}){const i={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5"},o={xs:"text-[10px]",sm:"text-xs",md:"text-sm"};return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:`${i[a]} ${t?"fill-green-500 text-green-500":"fill-gray-400 text-gray-400"}`}),t&&e.jsx("div",{className:"absolute inset-0 animate-ping",children:e.jsx(Pe,{className:`${i[a]} fill-green-500 opacity-75`})})]}),n&&e.jsx("span",{className:`${o[a]} ${t?"text-green-500":"text-gray-400"} font-medium`,children:t?"Online":Ft(s)})]})}function zt({conversation:t,activeChat:s,currentUserId:n,onSelect:a,onDelete:i}){const o=t.type==="direct"?t.uid||(t.id.includes("_")?t.id.split("_").find(w=>w!==n):null):null,{online:b,lastSeen:h}=tt(o||"");return e.jsxs("div",{onClick:()=>a(t),className:`group relative flex gap-3 p-4 cursor-pointer transition border-b dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5 ${(s==null?void 0:s.id)===t.id?"bg-blue-50 dark:bg-blue-900/10 border-l-4 border-l-brand-blue":""}`,children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx(ce,{src:t.photo,name:t.n,size:"lg",isGroup:t.type==="group"}),t.type==="direct"&&o&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:e.jsx(st,{online:b,lastSeen:h,size:"xs"})}),t.uc>0&&e.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-brand-blue text-white text-[10px] font-bold flex items-center justify-center rounded-full border-2 border-white dark:border-[#2c2e36]",children:t.uc>99?"99+":t.uc})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[e.jsx("h4",{className:`text-sm truncate ${t.uc>0?"font-extrabold text-gray-900 dark:text-white":"font-bold text-gray-700 dark:text-gray-300"}`,children:t.n}),e.jsx("span",{className:"text-[10px] text-gray-400 shrink-0 ml-2",children:t.lmt?new Date(t.lmt).toLocaleDateString():""})]}),e.jsxs("p",{className:`text-xs truncate ${t.uc>0?"text-gray-800 dark:text-gray-200 font-medium":"text-gray-500"}`,children:[t.ls===n?"You: ":"",t.lm]})]}),e.jsx("button",{onClick:w=>{w.stopPropagation(),i==null||i(t.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white dark:bg-gray-800 shadow-md rounded-full text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all z-10",children:e.jsx(we,{size:16})})]})}function rs({user:t,conversations:s=[],activeChat:n,onSelectChat:a}){const{t:i}=ze(),[o,b]=r.useState(!1),[h,w]=r.useState(!1),[f,k]=r.useState("direct"),[S,u]=r.useState(!1),[c,m]=r.useState(""),[l,N]=r.useState([]),[p,g]=r.useState(""),[y,T]=r.useState([]),F=$(G.conversations.createGroupChat),E=$(G.conversations.deleteConversation),q=async j=>{g(j),j.trim().length>1&&Je||T([])},I=j=>{const C=(t==null?void 0:t.id)||(t==null?void 0:t.uid);if(f==="direct"){const z=[C,j.id].sort().join("_");a({id:z,uid:j.id,name:`${j.firstName} ${j.lastName}`,type:"direct"}),D()}else f==="add_member"&&(l.find(z=>z.id===j.id)||N(z=>[...z,j]),D())},D=()=>{b(!1),g(""),T([])},U=()=>{m(""),N([]),w(!0)},K=()=>{k("add_member"),b(!0)},Q=async()=>{if(!c||l.length===0)return alert("Name and members required.");if(!W()){alert("Chat functionality is not available. Convex is not configured.");return}u(!0);try{const j=(t==null?void 0:t.id)||(t==null?void 0:t.uid),C=l.map(Z=>Z.id),{chatId:z}=await F({creatorId:j,chatName:c,memberIds:C});w(!1),a({id:z,name:c,type:"group"})}catch(j){console.error("Group creation failed",j),alert("Group creation failed: "+j.message)}finally{u(!1)}},te=async(j,C)=>{if(window.confirm("Delete this conversation?")){if(!W()){alert("Chat functionality is not available. Convex is not configured.");return}try{const z=(t==null?void 0:t.id)||(t==null?void 0:t.uid);await E({userId:z,chatId:C}),(n==null?void 0:n.id)===C&&a(null)}catch(z){console.error(z)}}};return e.jsxs("div",{className:"flex flex-col h-full relative overflow-hidden bg-white dark:bg-[#1f2128]",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-[#23262f] shrink-0",children:[e.jsx("h2",{className:"font-extrabold text-lg dark:text-white tracking-tight",children:i("messages")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:U,className:"p-2 bg-white dark:bg-gray-700 rounded-full shadow-sm hover:text-brand-blue transition",title:i("newGroup"),children:e.jsx(ge,{size:18})}),e.jsx("button",{onClick:()=>{k("direct"),b(!0)},className:"p-2 bg-white dark:bg-gray-700 rounded-full shadow-sm hover:text-brand-blue transition",title:i("newMessage"),children:e.jsx(Se,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:s.map(j=>e.jsx(zt,{conversation:j,activeChat:n,currentUserId:(t==null?void 0:t.id)||(t==null?void 0:t.uid),onSelect:a,onDelete:C=>{window.confirm("Delete this conversation?")&&te({},C)}},j.id))}),h&&e.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-[#1f2128] z-20 flex flex-col animate-in slide-in-from-right-10 duration-200",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center gap-3 bg-gray-50 dark:bg-[#23262f]",children:[e.jsx("button",{onClick:()=>w(!1),className:"hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded-full",children:e.jsx($e,{size:20})}),e.jsx("h3",{className:"font-bold dark:text-white",children:i("newGroup")})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase mb-2 block",children:["1. ",i("groupName")]}),e.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-black/20 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-brand-blue outline-none",placeholder:i("groupName")+"...",value:c,onChange:j=>m(j.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase",children:["2. ",i("addMembers")," (",l.length,")"]}),e.jsxs("button",{onClick:K,className:"text-xs font-bold text-brand-blue flex items-center gap-1 hover:underline",children:[e.jsx(Se,{size:14})," ",i("addMembers")]})]}),e.jsx("div",{className:"space-y-2",children:l.length===0?e.jsx("div",{className:"text-center py-8 border-2 border-dashed dark:border-gray-700 rounded-xl text-gray-400 text-sm",children:i("noMembersSelected")}):l.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg border dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{src:j.photoURL,name:j.firstName,size:"sm"}),e.jsxs("span",{className:"text-sm font-bold dark:text-white",children:[j.firstName," ",j.lastName]})]}),e.jsx("button",{onClick:()=>N(C=>C.filter(z=>z.id!==j.id)),className:"text-gray-400 hover:text-red-500",children:e.jsx(_,{size:16})})]},j.id))})]})]}),e.jsx("div",{className:"p-4 border-t dark:border-gray-700",children:e.jsx("button",{onClick:Q,disabled:!c||l.length===0||S,className:"w-full bg-brand-blue text-white py-3.5 rounded-xl font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-lg flex justify-center items-center gap-2",children:S?e.jsx(le,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[i("createGroup")," ",e.jsx(We,{size:18})]})})})]}),o&&e.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-[#1f2128] z-30 flex flex-col animate-in fade-in duration-200",children:[e.jsxs("div",{className:"p-3 border-b dark:border-gray-700 flex items-center gap-2 bg-white dark:bg-[#1f2128]",children:[e.jsx(Ne,{size:18,className:"text-gray-400 ml-2"}),e.jsx("input",{autoFocus:!0,className:"flex-1 p-2 bg-transparent outline-none dark:text-white placeholder-gray-400",placeholder:i("search")+"...",value:p,onChange:j=>q(j.target.value)}),e.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:e.jsx(_,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[y.length===0&&p.length>1&&e.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:[i("noUsersFound"),"."]}),y.map(j=>{const C=f==="add_member"&&l.find(z=>z.id===j.id);return e.jsxs("div",{onClick:()=>I(j),className:`flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl cursor-pointer transition mb-1 ${C?"opacity-50 pointer-events-none":""}`,children:[e.jsx(ce,{src:j.photoURL,name:j.firstName,size:"md"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm font-bold dark:text-white",children:[j.firstName," ",j.lastName]}),e.jsx("div",{className:"text-xs text-gray-500",children:j.role||"User"})]}),f==="add_member"&&e.jsx(Se,{size:18,className:"text-brand-blue"})]},j.id)})]})]})]})}const be={Recent:["👍","❤️","😂","😮","😢","🔥","🎉","👏"],Smileys:["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😌","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮"],Gestures:["👋","🤚","🖐️","✋","🖖","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏"],Hearts:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","💕","💞","💓","💗","💖","💘","💝","💟"],Objects:["💎","🔔","🔕","🎵","🎶","🎤","🎧","📻","🎷","🎺","🎸","🎹","🎮","🕹️","🎯","🎲","🎳","🎴","🃏","🀄","🎰","📱","📞","☎️","📟","📠","💻","🖥️","🖨️","⌨️","🖱️","🖲️","🕹️","🗜️","💾","💿","📀"],Flags:["🏳️","🏴","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🇺🇸","🇬🇧","🇨🇦","🇦🇺","🇫🇷","🇩🇪","🇮🇹","🇪🇸","🇯🇵","🇰🇷","🇨🇳","🇮🇳","🇧🇷","🇲🇽"],Music:["🎵","🎶","🎤","🎧","📻","🎷","🎺","🎸","🎹","🥁","🪘","🎻","🎪","🎭","🎨","🎬","🎤","🎧","🎼","🎹"],Reactions:["👍","👎","❤️","🔥","😂","😮","😢","👏","🙌","🤝","🤗","🤔","🤦","🤷","🙏","👀","💪","🤘","✌️","🤞"]},Pt=Object.values(be).flat();function Et({onSelect:t,onClose:s,position:n="bottom"}){const[a,i]=r.useState("Recent"),[o,b]=r.useState(""),[h,w]=r.useState(()=>{const u=localStorage.getItem("recentEmojis");return u?JSON.parse(u):be.Recent}),f=r.useMemo(()=>o.trim()?Pt.filter(u=>u.includes(o)||o.includes(u)):a==="Recent"?h:be[a]||[],[o,a,h]),k=u=>{const c=[u,...h.filter(m=>m!==u)].slice(0,8);w(c),localStorage.setItem("recentEmojis",JSON.stringify(c)),t(u),s&&s()},S=Object.keys(be);return e.jsxs(L.div,{initial:{opacity:0,scale:.95,y:n==="bottom"?-10:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},className:`
                absolute ${n==="bottom"?"bottom-full mb-2":"top-full mt-2"} 
                left-0
                w-[340px] bg-white dark:bg-gray-800 
                rounded-2xl shadow-2xl border dark:border-gray-700
                z-50 overflow-hidden
            `,children:[e.jsxs("div",{className:"p-3 border-b dark:border-gray-700",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ne,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search emojis...",value:o,onChange:u=>b(u.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-blue dark:text-white"}),o&&e.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(_,{size:16})})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:S.map(u=>e.jsxs("button",{onClick:()=>i(u),className:`
                                px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition
                                ${a===u?"bg-brand-blue text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                            `,children:[u==="Recent"?e.jsx(Te,{size:12,className:"inline mr-1"}):null,u]},u))})]}),e.jsx("div",{className:"h-[280px] overflow-y-auto custom-scrollbar p-3",children:f.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:e.jsx("p",{className:"text-sm",children:"No emojis found"})}):e.jsx("div",{className:"grid grid-cols-8 gap-1",children:f.map((u,c)=>e.jsx(L.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>k(u),className:"w-10 h-10 flex items-center justify-center text-xl rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:u},`${u}-${c}`))})})]})}const Ue="demo_key",qe="https://api.giphy.com/v1/gifs";function Bt({onSelect:t,onClose:s,position:n="bottom"}){const[a,i]=r.useState(""),[o,b]=r.useState([]),[h,w]=r.useState([]),[f,k]=r.useState(!1),[S,u]=r.useState("trending"),c=r.useRef(null);r.useEffect(()=>{m()},[]),r.useEffect(()=>(a.trim()?(u("search"),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l(a)},500)):(u("trending"),b([])),()=>{c.current&&clearTimeout(c.current)}),[a]);const m=async()=>{k(!0);try{const y=await(await fetch(`${qe}/trending?api_key=${Ue}&limit=24&rating=g`)).json();y.data&&w(y.data)}catch(g){console.error("Giphy trending error:",g)}k(!1)},l=async g=>{if(g.trim()){k(!0);try{const T=await(await fetch(`${qe}/search?api_key=${Ue}&q=${encodeURIComponent(g)}&limit=24&rating=g`)).json();T.data&&b(T.data)}catch(y){console.error("Giphy search error:",y)}k(!1)}},N=g=>{t==null||t({url:g.images.fixed_height.url||g.images.original.url,previewUrl:g.images.preview_gif.url||g.images.fixed_height_small.url,width:g.images.fixed_height.width,height:g.images.fixed_height.height,title:g.title||"GIF"}),s&&s()},p=S==="trending"?h:o;return e.jsxs(L.div,{initial:{opacity:0,scale:.95,y:n==="bottom"?-10:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},className:`
                absolute ${n==="bottom"?"bottom-full mb-2":"top-full mt-2"} 
                left-0
                w-[380px] bg-white dark:bg-gray-800 
                rounded-2xl shadow-2xl border dark:border-gray-700
                z-50 overflow-hidden
            `,children:[e.jsx("div",{className:"p-3 border-b dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search GIFs...",value:a,onChange:g=>i(g.target.value),className:"w-full pl-9 pr-10 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-blue dark:text-white"}),a&&e.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(_,{size:16})})]})}),e.jsx("div",{className:"h-[320px] overflow-y-auto custom-scrollbar p-3",children:f?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(le,{className:"animate-spin text-brand-blue mb-2",size:24}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading GIFs..."})]}):p.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(ot,{size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:S==="search"?"No GIFs found. Try a different search.":"Loading trending GIFs..."})]}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(g=>e.jsxs(L.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(g),className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer bg-gray-100 dark:bg-gray-700 group",children:[e.jsx("img",{src:g.images.fixed_height_small.url||g.images.preview_gif.url,alt:g.title,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition"})]},g.id))})}),e.jsx("div",{className:"p-2 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center",children:e.jsxs("p",{className:"text-[10px] text-gray-400",children:["Powered by ",e.jsx("span",{className:"font-bold",children:"GIPHY"})]})})]})}function Lt({onRecorded:t,onClose:s,maxDuration:n=60}){const[a,i]=r.useState(!1),[o,b]=r.useState(null),[h,w]=r.useState(0),[f,k]=r.useState(null),[S,u]=r.useState(null),c=r.useRef(null),m=r.useRef(null),l=r.useRef(null),N=r.useRef([]),p=r.useRef(null);r.useEffect(()=>(g(),()=>{y()}),[]);const g=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0});m.current=D,c.current&&(c.current.srcObject=D),k(!0),u(null)}catch(D){console.error("Permission error:",D),k(!1),u("Camera/microphone access denied")}},y=()=>{m.current&&(m.current.getTracks().forEach(D=>D.stop()),m.current=null),p.current&&clearInterval(p.current)},T=async()=>{if(!m.current){await g();return}try{N.current=[];const D={mimeType:"video/webm;codecs=vp9,opus",videoBitsPerSecond:25e5};l.current=new MediaRecorder(m.current,D),l.current.ondataavailable=U=>{U.data.size>0&&N.current.push(U.data)},l.current.onstop=()=>{const U=new Blob(N.current,{type:"video/webm"});b(U),i(!1),w(0),p.current&&clearInterval(p.current)},l.current.start(),i(!0),w(0),p.current=setInterval(()=>{w(U=>{const K=U+1;return K>=n&&F(),K})},1e3)}catch(D){console.error("Recording error:",D),u("Failed to start recording")}},F=()=>{l.current&&a&&l.current.stop()},E=()=>{b(null),w(0),i(!1)},q=()=>{if(o){const D=new File([o],`video_${Date.now()}.webm`,{type:"video/webm"});t==null||t(D),y(),s==null||s()}},I=D=>{const U=Math.floor(D/60),K=D%60;return`${U}:${K.toString().padStart(2,"0")}`};return!f&&f!==null?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[80] p-4",children:e.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-[#2c2e36] rounded-2xl p-6 max-w-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx(lt,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold dark:text-white mb-2",children:"Camera Access Required"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Please allow camera and microphone access to record video messages."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-200 transition",children:"Cancel"}),e.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-brand-blue text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition",children:"Allow Access"})]})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-[80]",children:e.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative w-full max-w-2xl aspect-video bg-black rounded-2xl overflow-hidden",children:[e.jsx("video",{ref:c,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),a&&e.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-bold",children:I(h)})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("div",{className:"flex items-center justify-center gap-4",children:o?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:E,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition",children:e.jsx(_,{size:24})}),e.jsx("button",{onClick:q,className:"p-4 bg-green-500 hover:bg-green-600 rounded-full text-white transition shadow-lg",children:e.jsx(ve,{size:28})}),e.jsx("div",{className:"w-12"})," "]}):e.jsx(e.Fragment,{children:a?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:E,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition",children:e.jsx(_,{size:24})}),e.jsx("button",{onClick:F,className:"p-4 bg-red-500 hover:bg-red-600 rounded-full text-white transition shadow-lg animate-pulse",children:e.jsx(_e,{size:28})}),e.jsx("div",{className:"w-12"})," "]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition",children:e.jsx(_,{size:24})}),e.jsx("button",{onClick:T,className:"p-4 bg-red-500 hover:bg-red-600 rounded-full text-white transition shadow-lg",children:e.jsx(je,{size:28})}),e.jsx("div",{className:"w-12"})," "]})})})}),S&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-4 py-2 rounded-lg text-sm",children:S})]})})}function Gt(t,s,n){const a=r.useRef(null),i=r.useRef(!1),o=W(),b=r.useMemo(()=>t&&o?{chatId:t}:"skip",[t,o]),h=oe(G.presence.getTypingIndicators,b),w=$(G.presence.updateTypingIndicator),f=$(G.presence.clearTypingIndicator),k=r.useMemo(()=>h?h.filter(c=>c.userId!==s&&c.isTyping).map(c=>({id:c.userId,name:c.userName})):[],[h,s]),S=r.useCallback(()=>{!t||!s||!o||(i.current||(i.current=!0,w({chatId:t,userId:s,userName:n,isTyping:!0}).catch(console.error)),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{i.current&&(i.current=!1,f({chatId:t,userId:s}).catch(console.error))},3e3))},[t,s,n,o,w,f]),u=r.useCallback(()=>{!t||!s||!o||(a.current&&clearTimeout(a.current),i.current&&(i.current=!1,f({chatId:t,userId:s}).catch(console.error)))},[t,s,o,f]);return r.useEffect(()=>()=>{a.current&&clearTimeout(a.current),t&&s&&i.current&&o&&f({chatId:t,userId:s}).catch(console.error)},[t,s,o,f]),{typingUsers:k,setTyping:S,clearTyping:u}}function It(t){return!t||t.length===0?"":t.length===1?`${t[0].name} is typing...`:t.length===2?`${t[0].name} and ${t[1].name} are typing...`:`${t[0].name} and ${t.length-1} others are typing...`}function Ut({activeChatId:t,uid:s,onSend:n,replyingTo:a,editingMessage:i,onCancelReply:o,onCancelEdit:b,typingUsers:h=[],onTyping:w,onStopTyping:f}){const{t:k}=ze(),[S,u]=r.useState(""),[c,m]=r.useState(null),[l,N]=r.useState(!1),[p,g]=r.useState(0),[y,T]=r.useState(!1),[F,E]=r.useState(!1),[q,I]=r.useState(!1),[D,U]=r.useState(!1),[K,Q]=r.useState(!1),te=r.useRef(null),j=r.useRef(null),C=r.useRef(null),z=r.useRef([]),Z=r.useRef(null),ee=r.useRef(null),H=r.useRef(null),J=r.useRef(null),{uploadMedia:O,uploading:Y}=Tt();r.useEffect(()=>{var d;i&&(u(i.b||""),(d=j.current)==null||d.focus())},[i]),r.useEffect(()=>{var d;a&&((d=j.current)==null||d.focus())},[a]),r.useEffect(()=>{const d=v=>{Z.current&&!Z.current.contains(v.target)&&E(!1),ee.current&&!ee.current.contains(v.target)&&I(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const P=async d=>{try{const A=await(await fetch(d.url)).blob(),M=new File([A],`gif_${Date.now()}.gif`,{type:"image/gif"}),B=await O(M,`chat_media/${t}`);if(B){const X={url:B.url,type:"image",name:d.title||"GIF",gif:!0};n("",X)}}catch(v){console.error("GIF upload error:",v),alert("Failed to send GIF")}I(!1)},V=async d=>{try{const v=await O(d,`chat_media/${t}`);if(v){const A={url:v.url,type:"video",name:d.name};n("",A)}}catch(v){console.error("Video upload error:",v),alert("Failed to send video")}U(!1)},ne=d=>{u(d.target.value),w&&d.target.value.trim()&&w()},ae=d=>{const v=j.current;if(v){const A=v.selectionStart,M=v.selectionEnd,B=S.substring(0,A)+d+S.substring(M);u(B),setTimeout(()=>{v.selectionStart=v.selectionEnd=A+d.length,v.focus()},0)}else u(A=>A+d)},re=async()=>{try{const d=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=new MediaRecorder(d),z.current=[],g(0),C.current.ondataavailable=v=>z.current.push(v.data),C.current.onstop=()=>{const v=new Blob(z.current,{type:"audio/webm"}),A=new File([v],`voice_note_${Date.now()}.webm`,{type:"audio/webm"});m({file:A,type:"audio",previewUrl:URL.createObjectURL(v),duration:p}),d.getTracks().forEach(M=>M.stop()),H.current&&clearInterval(H.current)},C.current.start(),N(!0),H.current=setInterval(()=>{g(v=>v+1)},1e3)}catch{alert("Microphone access denied. Please allow microphone permissions.")}},ie=()=>{C.current&&l&&(C.current.stop(),N(!1),H.current&&clearInterval(H.current))},he=()=>{var d;C.current&&l&&(C.current.stop(),z.current=[],N(!1),g(0),H.current&&clearInterval(H.current),(d=C.current.stream)==null||d.getTracks().forEach(v=>v.stop()))},fe=d=>{const v=Math.floor(d/60),A=d%60;return`${v}:${A.toString().padStart(2,"0")}`},ke=()=>{!J.current||!(c!=null&&c.previewUrl)||(K?(J.current.pause(),Q(!1)):(J.current.play(),Q(!0)))};r.useEffect(()=>()=>{H.current&&clearInterval(H.current),C.current&&l&&C.current.stop()},[]);const de=d=>{d.preventDefault(),d.stopPropagation(),d.type==="dragenter"||d.type==="dragover"?T(!0):T(!1)},Ae=d=>{d.preventDefault(),d.stopPropagation(),T(!1),d.dataTransfer.files&&d.dataTransfer.files[0]&&pe(d.dataTransfer.files[0])},pe=d=>{const v=d.type.startsWith("image/")?"image":d.type.startsWith("video/")?"video":d.type.startsWith("audio/")?"audio":"file";m({file:d,type:v,previewUrl:URL.createObjectURL(d)})},xe=async d=>{if(d.preventDefault(),!S.trim()&&!c||Y)return;let v=null;if(c){const A=await O(c.file,`chat_media/${t}`);A&&(v={url:A.url,type:A.type,name:A.name,duration:c.duration})}n(S,v),u(""),m(null),Q(!1),f&&f()},x=()=>{i?(u(""),b==null||b()):o==null||o()},R=()=>{var d,v;return i?((d=i.b)==null?void 0:d.substring(0,50))||"Message":a?((v=a.b)==null?void 0:v.substring(0,50))||"Media":""};return e.jsxs("div",{className:`p-3 bg-white dark:bg-[#2c2e36] border-t dark:border-gray-700 shrink-0 transition-colors ${y?"bg-blue-50 dark:bg-blue-900/20 border-blue-400":""}`,onDragEnter:de,onDragLeave:de,onDragOver:de,onDrop:Ae,children:[e.jsx(se,{children:h.length>0&&e.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mb-2 px-2 flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce"}),e.jsx("span",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("span",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:It(h)})]})}),e.jsx(se,{children:l&&e.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-red-700 dark:text-red-400",children:"Recording..."}),e.jsx("span",{className:"font-mono text-red-600 dark:text-red-300 text-sm",children:fe(p)})]}),e.jsx("div",{className:"flex items-center gap-0.5 mx-4",children:[...Array(20)].map((d,v)=>e.jsx(L.div,{className:"w-1 bg-red-400 rounded-full",animate:{height:[8,Math.random()*20+8,8]},transition:{duration:.5,repeat:1/0,delay:v*.05}},v))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:he,className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-full transition",title:"Cancel recording",children:e.jsx(we,{size:18})}),e.jsx("button",{type:"button",onClick:ie,className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition",title:"Stop recording",children:e.jsx(ct,{size:16,fill:"white"})})]})]})})}),e.jsx(se,{children:(a||i)&&e.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-2.5 px-4 rounded-xl border-l-4 border-brand-blue mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i?e.jsx(Ke,{size:16,className:"text-brand-blue shrink-0"}):e.jsx(Qe,{size:16,className:"text-brand-blue shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-xs font-bold text-brand-blue block",children:i?"Editing Message":`Replying to ${(a==null?void 0:a.n)||"User"}`}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate block",children:R()})]})]}),e.jsx("button",{onClick:x,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:e.jsx(_,{size:16,className:"text-gray-400 hover:text-red-500"})})]})}),e.jsx(se,{children:c&&e.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-800 rounded-xl mb-2 border dark:border-gray-700",children:[c.type==="image"?e.jsx("img",{src:c.previewUrl,className:"h-14 w-14 object-cover rounded-lg"}):c.type==="video"?e.jsx("video",{src:c.previewUrl,className:"h-14 w-14 object-cover rounded-lg"}):c.type==="audio"?e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("button",{type:"button",onClick:ke,className:"h-12 w-12 bg-purple-500 text-white flex items-center justify-center rounded-full hover:bg-purple-600 transition shrink-0",children:K?e.jsx(Ye,{size:20}):e.jsx(Ze,{size:20,className:"ml-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{size:14,className:"text-purple-500"}),e.jsx("span",{className:"text-sm font-bold dark:text-white",children:"Voice Message"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex items-center gap-0.5 flex-1",children:[...Array(30)].map((d,v)=>e.jsx("div",{className:"w-1 bg-purple-300 dark:bg-purple-700 rounded-full",style:{height:`${Math.random()*12+4}px`}},v))}),e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:c.duration?fe(c.duration):"0:00"})]})]}),e.jsx("audio",{ref:J,src:c.previewUrl,onEnded:()=>Q(!1),className:"hidden"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-14 w-14 bg-gray-200 dark:bg-gray-700 text-gray-500 flex items-center justify-center rounded-lg",children:e.jsx(me,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold dark:text-white truncate",children:c.file.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(c.file.size/1024).toFixed(1)," KB"]})]})]}),e.jsx("button",{onClick:()=>{m(null),Q(!1)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition shrink-0",children:e.jsx(_,{size:18,className:"text-gray-400 hover:text-red-500"})})]})}),e.jsxs("form",{onSubmit:xe,className:"flex items-end gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",ref:te,className:"hidden",accept:"image/*,audio/*,video/*,.pdf,.doc,.docx,.txt,.zip",onChange:d=>pe(d.target.files[0])}),e.jsx("button",{type:"button",onClick:()=>{var d;return(d=te.current)==null?void 0:d.click()},className:"p-2.5 text-gray-500 hover:text-brand-blue hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition shrink-0",title:"Attach file",children:e.jsx(dt,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-1 border-r dark:border-gray-700 pr-2",children:[e.jsx("button",{type:"button",onClick:()=>{U(!0),E(!1),I(!1)},className:"p-2 text-gray-500 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",title:"Record video",children:e.jsx(je,{size:18})}),e.jsxs("button",{type:"button",onClick:()=>{I(!q),E(!1)},className:"p-2 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition relative",title:"GIF",ref:ee,children:[e.jsx(ut,{size:18}),q&&e.jsx(Bt,{onSelect:P,onClose:()=>I(!1),position:"bottom"})]})]}),e.jsxs("div",{className:"flex-1 bg-gray-100 dark:bg-[#1f2128] rounded-2xl border dark:border-gray-700 focus-within:ring-2 focus-within:ring-brand-blue transition-all flex items-end relative",children:[e.jsx("textarea",{ref:j,className:"w-full bg-transparent p-3 max-h-32 min-h-[44px] text-sm resize-none outline-none dark:text-white custom-scrollbar pr-20",placeholder:i?k("editingMessage")+"...":y?k("dropFiles")+"...":k("typeMessage"),value:S,onChange:ne,onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),xe(d))},rows:1}),e.jsxs("div",{className:"absolute right-2 bottom-1.5 flex items-center gap-1",children:[e.jsxs("div",{className:"relative",ref:Z,children:[e.jsx("button",{type:"button",onClick:()=>{E(!F),I(!1)},className:`p-1.5 rounded-full transition ${F?"bg-brand-blue/20 text-brand-blue":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,title:"Emoji",children:e.jsx(gt,{size:18})}),e.jsx(se,{children:F&&e.jsx(Et,{onSelect:ae,onClose:()=>E(!1),position:"bottom"})})]}),e.jsx("button",{type:"button",onClick:l?ie:re,className:`p-1.5 rounded-full transition ${l?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:l?e.jsx(_e,{size:18}):e.jsx(Ee,{size:18})})]})]}),e.jsx("button",{type:"submit",disabled:!S.trim()&&!c||Y,className:`p-2.5 text-white rounded-full shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shrink-0 ${i?"bg-green-600 hover:bg-green-700":"bg-brand-blue hover:bg-blue-600"}`,children:Y?e.jsx(le,{size:20,className:"animate-spin"}):i?e.jsx(mt,{size:20}):e.jsx(ht,{size:20})})]}),D&&e.jsx(Lt,{onRecorded:V,onClose:()=>U(!1),maxDuration:60})]})}function qt(...t){return Ve(Ce(t))}const ye=ft.forwardRef(({className:t,variant:s="default",size:n="default",...a},i)=>{const o={default:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-sm",outline:"border border-gray-200 bg-transparent hover:bg-gray-100 text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900 text-gray-600",link:"text-blue-600 underline-offset-4 hover:underline"},b={default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"};return e.jsx("button",{ref:i,className:qt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50",o[s],b[n],t),...a})});ye.displayName="Button";function Ot({url:t,isOpen:s,onClose:n,previewData:a}){if(!s||!t)return null;const i=new URL(t).pathname;let o="Content";i.startsWith("/profile/")?o="User Profile":i.startsWith("/session/")?o="Session Details":i.startsWith("/studio/")&&(o="Studio Listing");const b=(a==null?void 0:a.title)||`${o} Preview`;return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black bg-opacity-70 backdrop-blur-sm",onClick:n,children:e.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-2xl h-3/4 max-h-[800px] flex flex-col transform transition-all duration-300 scale-100 opacity-100",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-800 rounded-t-xl sticky top-0",children:[e.jsx("h3",{className:"text-xl font-bold text-white truncate max-w-[80%]",children:b}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:e.jsx(ye,{variant:"ghost",size:"icon",className:"text-blue-400 hover:text-blue-300",children:e.jsx(pt,{className:"w-5 h-5"})})}),e.jsx(ye,{onClick:n,variant:"ghost",size:"icon",className:"text-white hover:bg-gray-700",children:e.jsx(_,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar text-gray-400 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"mb-4 text-lg font-medium text-white",children:"Embedded Content Simulation"}),e.jsx("p",{className:"mb-2",children:"This is where the actual SeshNx content (e.g., profile card, session details) would be rendered, based on the URL:"}),e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline break-all p-2 bg-gray-700 rounded-lg text-sm",children:t}),e.jsx("p",{className:"mt-4 text-sm",children:'In a real implementation, you would use a dedicated component (e.g., `ProfileCard id="..."`) here instead of an iframe to display the content securely and natively.'})]}),e.jsx("div",{className:"p-3 border-t border-gray-700 bg-gray-800 rounded-b-xl flex justify-end",children:e.jsx(ye,{onClick:n,variant:"secondary",children:"Done"})})]})})}function Vt({status:t="sent",size:s=12,className:n=""}){const a={sending:{icon:Te,color:"text-gray-400",animate:!0},sent:{icon:ve,color:"text-gray-400",animate:!1},delivered:{icon:Be,color:"text-gray-400",animate:!1},read:{icon:Be,color:"text-brand-blue",animate:!1}},i=a[t]||a.sent,o=i.icon;return e.jsx(L.div,{animate:i.animate?{rotate:[0,360]}:{},transition:i.animate?{duration:2,repeat:1/0,ease:"linear"}:{},className:`inline-flex items-center ${i.color} ${n}`,children:e.jsx(o,{size:s,className:t==="read"?"fill-current":""})})}function Ht({audioUrl:t,color:s="brand-blue",height:n=40}){const a=r.useRef(null),i=r.useRef(null),o=r.useRef(null),b=r.useRef(null),h=r.useRef(null),[w,f]=r.useState(!1);r.useEffect(()=>{if(!t||!a.current)return;const u=a.current,c=u.getContext("2d"),m=new Audio(t);i.current=m,u.width=u.offsetWidth,u.height=n;const l=new(window.AudioContext||window.webkitAudioContext),N=l.createAnalyser(),p=l.createMediaElementSource(m);N.fftSize=256,p.connect(N),N.connect(l.destination),b.current=l,h.current=N;const g=N.frequencyBinCount,y=new Uint8Array(g),T=()=>{if(m.paused){k(c,u.width,u.height);return}o.current=requestAnimationFrame(T),N.getByteFrequencyData(y),c.clearRect(0,0,u.width,u.height);const F=u.width/g*2;let E=0;for(let q=0;q<g;q++){const I=y[q]/255*u.height,D=c.createLinearGradient(0,0,0,u.height);D.addColorStop(0,"#3b82f6"),D.addColorStop(1,"#8b5cf6"),c.fillStyle=D,c.fillRect(E,u.height-I,F-1,I),E+=F}};return m.addEventListener("play",()=>{f(!0),T()}),m.addEventListener("pause",()=>{f(!1),o.current&&cancelAnimationFrame(o.current),k(c,u.width,u.height)}),m.addEventListener("ended",()=>{f(!1),o.current&&cancelAnimationFrame(o.current),k(c,u.width,u.height)}),k(c,u.width,u.height),()=>{var F;o.current&&cancelAnimationFrame(o.current),m.pause(),(F=b.current)==null||F.close()}},[t,n,w]);const k=(u,c,m)=>{u.clearRect(0,0,c,m),u.fillStyle="#3b82f6";const l=50,N=c/l,p=2;for(let g=0;g<l;g++){const y=Math.random()*m*.3+m*.1,T=g*N;u.fillRect(T,m-y,N-p,y)}},S=()=>{i.current&&(w?i.current.pause():i.current.play())};return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:S,className:"w-10 h-10 flex items-center justify-center bg-brand-blue text-white rounded-full hover:bg-blue-600 transition shrink-0",children:w?e.jsx(Ye,{size:16}):e.jsx(Ze,{size:16,className:"ml-0.5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("canvas",{ref:a,className:"w-full rounded",style:{height:`${n}px`}}),e.jsx("audio",{ref:i,src:t})]})]})}const $t=["👍","❤️","😂","😮","😢","🔥"];function Wt({message:t,isCurrentUser:s,previousMessage:n,currentUserId:a,chatId:i,linkPreviewData:o,messageStatus:b="sent",onReaction:h,onReply:w,onEdit:f,onDelete:k,onForward:S,onSeshNxLinkClick:u,onUserClick:c}){var Y;const[m,l]=r.useState(!1),[N,p]=r.useState(!1),[g,y]=r.useState(!1),T=r.useRef(null),F=r.useRef(null),E=!n||n.s!==t.s,q=n&&new Date(t.t).toDateString()===new Date(n.t).toDateString(),I=t.t||Date.now(),D=(n==null?void 0:n.t)||0,U=n&&I-D>3e5,K=!q||!n,Q=E||U,te=!s&&E,j=new Date(t.t||Date.now());r.useEffect(()=>{const P=V=>{T.current&&!T.current.contains(V.target)&&(l(!1),p(!1))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const C=()=>{navigator.clipboard.writeText(t.b||""),y(!0),setTimeout(()=>y(!1),2e3),l(!1)},z=P=>{h==null||h(t.id,P),p(!1),l(!1)},Z=t.reactions?Object.entries(t.reactions).reduce((P,[V,ne])=>{const ae=typeof ne=="object"?Object.keys(ne).length:0;return ae>0&&(P[V]=ae),P},{}):{},ee=Object.keys(Z).length>0,H=t.reactions?(Y=Object.entries(t.reactions).find(([P,V])=>typeof V=="object"&&V[a]))==null?void 0:Y[0]:null,J=s?"bg-brand-blue text-white rounded-br-sm":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-sm";if(t.deleted||t.deletedForAll)return e.jsx("div",{className:`flex ${s?"justify-end":"justify-start"} ${E?"mt-3":"mt-0.5"}`,children:e.jsx("div",{className:"px-4 py-2 rounded-2xl bg-gray-100 dark:bg-gray-800 text-gray-400 italic text-sm",children:"🚫 This message was deleted"})});if(t.deletedFor&&t.deletedFor[a])return null;const O=()=>{var V;if(!o)return null;const P=(V=o.url)==null?void 0:V.includes("app.seshnx.com");return e.jsx("div",{className:"mt-2 block border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-white dark:bg-gray-800 max-w-[280px]",children:P?e.jsxs("button",{onClick:()=>u==null?void 0:u(o),className:"w-full text-left",children:[o.image&&e.jsx("div",{className:"h-28 w-full bg-cover bg-center",style:{backgroundImage:`url(${o.image})`}}),e.jsxs("div",{className:"p-2",children:[e.jsxs("p",{className:"font-semibold text-xs text-brand-blue truncate flex items-center",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),o.title||"SeshNx Link"]}),o.description&&e.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5 line-clamp-2",children:o.description})]})]}):e.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:[o.image&&e.jsx("div",{className:"h-28 w-full bg-cover bg-center",style:{backgroundImage:`url(${o.image})`}}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"font-semibold text-xs text-brand-blue truncate",children:o.title||o.url}),o.description&&e.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5 line-clamp-2",children:o.description}),e.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 flex items-center",children:[e.jsx(yt,{className:"w-2.5 h-2.5 mr-1"}),new URL(o.url).hostname]})]})]})})};return e.jsxs(e.Fragment,{children:[K&&e.jsx("div",{className:"text-center my-4",children:e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:j.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})}),e.jsxs("div",{className:`group flex items-end gap-2 ${s?"flex-row-reverse":"flex-row"} ${E?"mt-3":"mt-0.5"}`,ref:F,children:[!s&&e.jsx("div",{className:"w-8 shrink-0",children:te&&e.jsx(ce,{src:t.photo,name:t.n,size:"xs",className:"cursor-pointer",onClick:()=>c==null?void 0:c(t.s)})}),e.jsxs("div",{className:`relative max-w-[75%] ${s?"items-end":"items-start"}`,children:[!s&&E&&t.n&&e.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 mb-1 ml-1",children:t.n}),t.replyTo&&e.jsxs("div",{className:`mb-1 px-3 py-1.5 rounded-lg text-xs border-l-2 border-brand-blue ${s?"bg-blue-400/30 text-blue-100":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:[e.jsx("p",{className:"font-bold text-[10px] mb-0.5",children:t.replyTo.sender}),e.jsx("p",{className:"truncate opacity-80",children:t.replyTo.text})]}),e.jsxs("div",{className:`relative px-3 py-2 rounded-2xl shadow-sm ${J} cursor-pointer transition-all hover:shadow-md`,onClick:()=>l(!m),children:[t.media&&e.jsxs("div",{className:"mb-2",children:[t.media.type==="image"&&e.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[t.media.gif&&e.jsx("span",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full font-bold",children:"GIF"}),e.jsx("img",{src:t.media.url,alt:"Shared",className:"max-w-full h-auto rounded-lg max-h-60 object-cover"})]}),t.media.type==="video"&&e.jsx("video",{controls:!0,src:t.media.url,className:"max-w-full h-auto rounded-lg max-h-60"}),t.media.type==="audio"&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 max-w-[280px]",children:e.jsx(Ht,{audioUrl:t.media.url,height:50})}),t.media.type==="file"&&e.jsxs("a",{href:t.media.url,target:"_blank",rel:"noopener noreferrer",download:t.media.name,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition group",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(me,{size:20,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold dark:text-white truncate",children:t.media.name||"File"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to download"})]}),e.jsx(Fe,{size:18,className:"text-gray-400 group-hover:text-brand-blue transition shrink-0"})]})]}),t.b&&e.jsx("p",{className:"text-sm break-words whitespace-pre-wrap leading-relaxed",children:t.b}),t.b&&O(),t.edited&&e.jsx("span",{className:`text-[9px] ${s?"text-blue-200":"text-gray-400"} ml-1`,children:"(edited)"})]}),ee&&e.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${s?"justify-end":"justify-start"}`,children:Object.entries(Z).map(([P,V])=>e.jsxs(L.button,{initial:{scale:0},animate:{scale:1},onClick:()=>z(P),className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-xs border transition-all ${H===P?"bg-brand-blue/20 border-brand-blue text-brand-blue":"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-gray-300"}`,children:[e.jsx("span",{children:P}),e.jsx("span",{className:"text-[10px] font-bold",children:V})]},P))}),Q&&e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${s?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:j.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),s&&e.jsx(Vt,{status:b,size:10,className:"ml-0.5"})]}),e.jsx(se,{children:m&&e.jsxs(L.div,{ref:T,initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:`absolute z-50 ${s?"right-0":"left-0"} bottom-full mb-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border dark:border-gray-700 overflow-hidden min-w-[180px]`,children:[e.jsx("div",{className:"flex justify-center gap-1 p-2 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:$t.map(P=>e.jsx(L.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>z(P),className:`text-lg p-1 rounded-full transition ${H===P?"bg-brand-blue/20":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:P},P))}),e.jsxs("div",{className:"p-1",children:[e.jsxs("button",{onClick:()=>{w==null||w(t),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Qe,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Reply"})]}),e.jsxs("button",{onClick:C,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(xt,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:g?"Copied!":"Copy"})]}),e.jsxs("button",{onClick:()=>{S==null||S(t),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Re,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Forward"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{f==null||f(t),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Ke,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Edit"})]}),e.jsxs("button",{onClick:()=>{k==null||k(t,"everyone"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition text-red-500",children:[e.jsx(we,{size:16}),e.jsx("span",{children:"Delete for Everyone"})]})]}),e.jsxs("button",{onClick:()=>{k==null||k(t,"me"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition text-gray-500",children:[e.jsx(we,{size:16}),e.jsx("span",{children:"Delete for Me"})]})]})]})})]}),s&&e.jsx("div",{className:"w-8 shrink-0"})]})]})}function _t({message:t,conversations:s,currentUserId:n,onForward:a,onClose:i}){const[o,b]=r.useState(""),[h,w]=r.useState([]),[f,k]=r.useState(!1),S=o.trim()?s.filter(l=>{var N;return(N=l.n)==null?void 0:N.toLowerCase().includes(o.toLowerCase())}):s,u=l=>{w(N=>N.includes(l)?N.filter(p=>p!==l):[...N,l])},c=async()=>{if(h.length!==0){k(!0);try{await a(t,h),i()}catch(l){console.error("Forward error:",l),alert("Failed to forward message")}k(!1)}},m=()=>{var l;return t.media?t.media.type==="image"?"📷 Image":t.media.type==="video"?"🎥 Video":t.media.type==="audio"?"🎵 Audio":"📎 File":((l=t.b)==null?void 0:l.substring(0,100))||"Message"};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[80] p-4",children:e.jsxs(L.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white dark:bg-[#2c2e36] rounded-2xl shadow-2xl w-full max-w-md max-h-[80vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"text-brand-blue",size:20}),e.jsx("h3",{className:"font-bold text-lg dark:text-white",children:"Forward Message"})]}),e.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition",children:e.jsx(_,{size:20})})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700 shrink-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Forwarding:"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg border dark:border-gray-600",children:e.jsx("p",{className:"text-sm dark:text-gray-200 line-clamp-2",children:m()})})]}),e.jsx("div",{className:"px-4 py-3 border-b dark:border-gray-700 shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:o,onChange:l=>b(l.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-blue dark:text-white transition"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:S.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No conversations found"})}):S.map(l=>{const N=h.includes(l.id);return e.jsxs(L.div,{whileTap:{scale:.98},onClick:()=>u(l.id),className:`
                                        flex items-center gap-3 p-4 cursor-pointer transition
                                        border-b dark:border-gray-700/50
                                        ${N?"bg-brand-blue/10 dark:bg-brand-blue/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}
                                    `,children:[e.jsxs("div",{className:"relative",children:[e.jsx(ce,{src:l.photo,name:l.n,size:"md",isGroup:l.type==="group"}),N&&e.jsx(L.div,{initial:{scale:0},animate:{scale:1},className:"absolute -bottom-1 -right-1 w-5 h-5 bg-brand-blue rounded-full flex items-center justify-center",children:e.jsx(ve,{size:12,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm dark:text-white truncate",children:l.n}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:l.type==="group"?"Group":"Direct message"})]}),e.jsx("div",{className:`
                                        w-5 h-5 rounded-full border-2 transition
                                        ${N?"border-brand-blue bg-brand-blue":"border-gray-300 dark:border-gray-600"}
                                    `,children:N&&e.jsx(ve,{size:12,className:"text-white m-auto"})})]},l.id)})}),e.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-[#23262f] shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[h.length," conversation",h.length!==1?"s":""," selected"]}),h.length>0&&e.jsx("button",{onClick:()=>w([]),className:"text-xs text-brand-blue hover:underline",children:"Clear all"})]}),e.jsx("button",{onClick:c,disabled:h.length===0||f,className:"w-full bg-brand-blue text-white py-3 rounded-xl font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"animate-spin",size:18}),"Forwarding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{size:18}),"Forward"]})})]})]})})}function Kt(t,s){var c;const n=W(),a=r.useMemo(()=>t&&s&&n?{chatId:t}:"skip",[t,s,n]),i=oe(G.readReceipts.getReadReceipts,a),o=$(G.readReceipts.markAsRead),b=$(G.readReceipts.markMultipleAsRead),h=r.useMemo(()=>{if(!i)return{};const m={};return i.forEach(l=>{m[l.userId]?l.readAt>m[l.userId].readAt&&(m[l.userId]={lastReadMessageId:l.messageId,readAt:l.readAt}):m[l.userId]={lastReadMessageId:l.messageId,readAt:l.readAt}}),m},[i]),w=((c=h[s])==null?void 0:c.lastReadMessageId)||null,f=r.useCallback(async m=>{if(!(!t||!s||!m||!W()||!o||!b))try{const l=Array.isArray(m)?m:[m];l.length===1?await o({chatId:t,messageId:l[0],userId:s}):await b({chatId:t,messageIds:l,userId:s})}catch(l){console.error("Mark as read error:",l)}},[t,s,o,b]),k=r.useCallback((m,l,N=null)=>{if(!m||!l)return!1;const p=h[l];if(!p||!p.lastReadMessageId)return!1;const g=p.lastReadMessageId;if(g===m)return!0;if(N&&Array.isArray(N)){const y=N.find(F=>F.id===m),T=N.find(F=>F.id===g);if(y&&T&&y.t&&T.t)return y.t<=T.t}return g>=m},[h]),S=r.useCallback(m=>{var l;return((l=h[m])==null?void 0:l.lastReadMessageId)||null},[h]),u=r.useCallback(m=>w===m||w&&w>=m,[w]);return{readReceipts:h,myLastRead:w,markAsRead:f,isMessageRead:k,getLastReadMessage:S,hasCurrentUserRead:u}}const Oe=new Map,Qt=5*60*1e3;async function Yt(t){const s=t.match(/(https?:\/\/[^\s]+)/);if(!s)return null;const n=s[0],a=Oe.get(n);if(a&&Date.now()-a.timestamp<Qt)return a.data;const i=await Zt(n);return Oe.set(n,{data:i,timestamp:Date.now()}),i}async function Zt(t){try{const n=await fetch(t,{method:"HEAD",mode:"no-cors"})}catch{}const s={url:t,title:null,description:null,image:null,siteName:null};try{const n=new URL(t),a=n.hostname.toLowerCase();if(a.includes("youtube.com")||a.includes("youtu.be")){let i=null;a.includes("youtu.be")?i=n.pathname.slice(1):i=n.searchParams.get("v"),s.siteName="YouTube",s.title="YouTube Video",s.description="Watch this video on YouTube",i&&(s.image=`https://img.youtube.com/vi/${i}/mqdefault.jpg`)}else if(a.includes("spotify.com"))s.siteName="Spotify",s.title="Spotify Content",s.description="Listen on Spotify",s.image="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_Green.png";else if(a.includes("soundcloud.com"))s.siteName="SoundCloud",s.title="SoundCloud Track",s.description="Listen on SoundCloud",s.image="https://soundcloud.com/press/assets/press-kit/soundcloud-logo.png";else if(a.includes("github.com")){const i=n.pathname.split("/").filter(o=>o);s.siteName="GitHub",s.title=i.length>=2?`${i[0]}/${i[1]}`:"GitHub Repository",s.description="View on GitHub",i.length>=2&&(s.image=`https://opengraph.githubassets.com/1/${i[0]}/${i[1]}`)}else if(a.includes("twitter.com")||a.includes("x.com"))s.siteName="X (Twitter)",s.title="Tweet",s.description="View on X";else if(a.includes("instagram.com"))s.siteName="Instagram",s.title="Instagram Post",s.description="View on Instagram";else if(a.includes("app.seshnx.com")||a.includes("seshnx.com"))s.siteName="SeshNx",s.title="SeshNx Link",s.description="View on SeshNx platform",s.image="https://app.seshnx.com/pwa-512x512.png";else if(a.includes("linkedin.com"))s.siteName="LinkedIn",s.title="LinkedIn Post",s.description="View on LinkedIn";else if(a.includes("music.apple.com"))s.siteName="Apple Music",s.title="Apple Music",s.description="Listen on Apple Music";else if(a.includes("tiktok.com"))s.siteName="TikTok",s.title="TikTok Video",s.description="Watch on TikTok";else if(a.includes("vimeo.com"))s.siteName="Vimeo",s.title="Vimeo Video",s.description="Watch on Vimeo";else if(a.includes("bandcamp.com")){const i=a.split(".")[0];s.siteName="Bandcamp",s.title=i!=="bandcamp"?`${i} on Bandcamp`:"Bandcamp",s.description="Listen on Bandcamp"}else s.siteName=a.replace("www.",""),s.title=a.replace("www.",""),s.description=`Visit ${a}`;return s}catch(n){return console.warn("Link preview parsing error:",n),{url:t,title:t,description:null,image:null}}}function is({user:t,userData:s,activeChat:n,conversations:a,onBack:i,toggleDetails:o,openPublicProfile:b}){const{t:h}=ze(),[w,f]=r.useState({}),[k,S]=r.useState({isOpen:!1,url:"",previewData:null}),[u,c]=r.useState(null),[m,l]=r.useState(null),[N,p]=r.useState(null),g=r.useRef(null),y=n==null?void 0:n.id,T=(n==null?void 0:n.name)||(n==null?void 0:n.n)||h("unknownUser"),F=r.useMemo(()=>(n==null?void 0:n.type)==="group"?null:n!=null&&n.uid?n.uid:y&&y.includes("_")?y.split("_").find(R=>R!==(t==null?void 0:t.uid)):null,[n,y,t==null?void 0:t.uid]),{online:E,lastSeen:q,loading:I}=tt(F),{markAsRead:D,hasCurrentUserRead:U,isMessageRead:K}=Kt(y,t==null?void 0:t.uid),{typingUsers:Q,setTyping:te,clearTyping:j}=Gt(y,t==null?void 0:t.uid,(s==null?void 0:s.firstName)||"User"),C=W(),z=r.useMemo(()=>y&&C?{chatId:y,limit:100}:"skip",[y,C]),Z=r.useMemo(()=>y&&C&&(n==null?void 0:n.type)==="group"?{chatId:y}:"skip",[y,C,n==null?void 0:n.type]),ee=oe(G.conversations.getChatMembers,Z),H=r.useMemo(()=>ee?ee.map(x=>x.userId):[],[ee]),J=oe(G.messages.getMessages,z),O=r.useMemo(()=>J?J.map(x=>({id:x._id,b:x.content||"",s:x.senderId,n:x.senderName,photo:x.senderPhoto||"",t:x.timestamp,edited:x.edited||!1,editedAt:x.editedAt,deleted:x.deleted||!1,deletedForAll:x.deletedForAll||!1,media:x.media,replyTo:x.replyTo,reactions:x.reactions||{}})):[],[J]),Y=$(G.messages.sendMessage),P=$(G.messages.editMessage),V=$(G.messages.deleteMessage),ne=$(G.messages.addReaction),ae=$(G.messages.removeReaction),re=$(G.conversations.updateConversation),ie=$(G.conversations.updateUnreadCount);r.useEffect(()=>{g.current&&O.length>0&&g.current.scrollIntoView({behavior:"smooth"})},[O]);const he=r.useRef(0);r.useEffect(()=>{if(y&&(t!=null&&t.uid)&&O.length>0){const x=O.map(d=>d.id),R=x.length;R!==he.current&&(he.current=R,D(x))}},[y,t==null?void 0:t.uid,O.length,D]),r.useEffect(()=>{O.forEach(x=>{if(x.b){const R=x.b.match(/(https?:\/\/[^\s]+)/);if(R){const d=R[0];w[x.id]||Yt(d).then(v=>f(A=>({...A,[x.id]:v}))).catch(v=>console.error(v))}}})},[O]);const fe=async(x,R)=>{var d,v;if(!(!y||!(t!=null&&t.uid)||!W()))try{const A=O.find(B=>B.id===x);if(!A)return;((v=(d=A.reactions)==null?void 0:d[R])==null?void 0:v.includes(t.uid))?await ae({messageId:x,userId:t.uid,emoji:R}):await ne({messageId:x,userId:t.uid,emoji:R})}catch(A){console.error("Reaction error:",A)}},ke=async(x,R)=>{if(!W()||!Y||!re){alert("Chat functionality is not available. Convex is not configured.");return}const d=x.b||"",v=x.media||null;for(const A of R)try{await Y({chatId:A,senderId:t.uid,senderName:s.firstName||"User",senderPhoto:s.photoURL||void 0,content:`竊ｪ Forwarded: ${d}`,media:v||void 0});const M=a==null?void 0:a.find(X=>X.id===A),B=d||(v?`Forwarded ${v.type}`:"Forwarded message");await re({userId:t.uid,chatId:A,lastMessage:`竊ｪ ${B}`,lastMessageTime:Date.now(),lastSenderId:t.uid,chatName:(M==null?void 0:M.name)||(M==null?void 0:M.n),chatPhoto:(M==null?void 0:M.photo)||"",chatType:(M==null?void 0:M.type)||"direct",otherUserId:M==null?void 0:M.uid})}catch(M){console.error("Forward error for chat:",A,M)}},de=async(x,R)=>{var v;if(!y||!(x!=null&&x.trim())&&!R||!W()||!Y||!P||!re||!ie)return;let d=x?x.trim():"";if(d.length===0&&R&&(d=R.type==="image"?"📷 Image":R.type==="video"?"🎥 Video":R.type==="audio"?"🎵 Audio":"📎 File"),m)try{await P({messageId:m.id,content:d,senderId:t.uid}),l(null);return}catch(A){console.error("Edit error:",A);return}try{await Y({chatId:y,senderId:t.uid,senderName:s.firstName||"User",senderPhoto:s.photoURL||void 0,content:d||void 0,media:R||void 0,replyTo:u?{messageId:u.id,text:((v=u.b)==null?void 0:v.substring(0,100))||"Media",sender:u.n||"User"}:void 0});const A=d||(R?`Sent ${R.type}`:"Message");let M=[],B=n.uid;!B&&n.type!=="group"&&y&&y.includes("_")&&(B=y.split("_").find(nt=>nt!==t.uid)),n.type==="group"?M=H.length>0?[...new Set([t.uid,...H])]:[t.uid]:B?M=[t.uid,B]:M=[t.uid];for(const X of M)await re({userId:X,chatId:y,lastMessage:A,lastMessageTime:Date.now(),lastSenderId:t.uid,chatName:n.type==="group"?T:n.name||n.n,chatPhoto:n.photo||"",chatType:n.type||"direct",otherUserId:n.type==="direct"?X===t.uid?B:t.uid:void 0}),X===t.uid?await ie({userId:X,chatId:y,setTo:0}):await ie({userId:X,chatId:y,increment:1});c(null)}catch(A){console.error("Send message error:",A)}},Ae=async(x,R=!1)=>{if(!(!y||!(t!=null&&t.uid)||!W()||!V))try{await V({messageId:x,senderId:t.uid,forEveryone:R})}catch(d){console.error("Delete error:",d)}},pe=r.useMemo(()=>{var x;return e.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-800 bg-white dark:bg-[#1f2128]",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("button",{onClick:i,className:"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>b==null?void 0:b(F?{uid:F}:null),children:[e.jsx(ce,{src:(n==null?void 0:n.photo)||((x=n==null?void 0:n.n)==null?void 0:x.photo)||"",name:T,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:T}),(n==null?void 0:n.type)!=="group"&&e.jsx(st,{online:E,lastSeen:q,loading:I})]}),(n==null?void 0:n.type)!=="group"&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:E?"Online":q?`Last seen ${xe(q)}`:"Offline"})]})]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(wt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})},[n,T,E,q,I,F,i,o,b]),xe=x=>{if(!x)return"Never";const R=x,v=Date.now()-R,A=Math.floor(v/6e4),M=Math.floor(A/60),B=Math.floor(M/24);return A<1?"Just now":A<60?`${A}m ago`:M<24?`${M}h ago`:B<7?`${B}d ago`:new Date(R).toLocaleDateString()};return!n||!y?e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#1f2128] items-center justify-center text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(ge,{size:64,className:"text-gray-200 dark:text-gray-700 mb-2"})}),e.jsx("p",{children:"Select a conversation to start chatting"})]}):e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#1f2128]",children:[pe,e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:[O.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:e.jsxs("p",{children:[h("noMessages"),". ",h("startConversation"),"!"]})}):O.map((x,R)=>{const d=R>0?O[R-1]:null,v=x.s===(t==null?void 0:t.uid),A=K(x.id),M=U(x.id);return e.jsx(Wt,{message:x,isCurrentUser:v,previousMessage:d,currentUserId:t==null?void 0:t.uid,chatId:y,linkPreviewData:w[x.id],messageStatus:A?"read":M?"delivered":"sent",onReaction:B=>fe(x.id,B),onReply:()=>c(x),onEdit:()=>l(x),onDelete:B=>Ae(x.id,B),onForward:()=>p(x),onSeshNxLinkClick:B=>S({isOpen:!0,url:B,previewData:null}),onUserClick:()=>b==null?void 0:b({uid:x.s})},x.id)}),e.jsx("div",{ref:g})]}),e.jsx(Ut,{activeChatId:y,uid:t==null?void 0:t.uid,onSend:de,replyingTo:u,editingMessage:m,onCancelReply:()=>c(null),onCancelEdit:()=>l(null),typingUsers:Q,onTyping:te,onStopTyping:j}),N&&e.jsx(_t,{message:N,conversations:a,onClose:()=>p(null),onForward:ke}),k.isOpen&&e.jsx(Ot,{url:k.url,previewData:k.previewData,onClose:()=>S({isOpen:!1,url:"",previewData:null})})]})}function Me({title:t,value:s,icon:n,sub:a,bg:i="bg-white dark:bg-[#2c2e36]",text:o="text-gray-900 dark:text-white"}){return e.jsxs("div",{className:`${i} p-5 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-between h-28`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${o==="text-white"?"text-blue-100":"text-gray-500"}`,children:t}),e.jsx("div",{className:`text-2xl font-extrabold ${o}`,children:s})]}),e.jsx("div",{className:"opacity-80",children:n})]}),a&&e.jsx("div",{className:"text-xs mt-auto opacity-75",children:a})]})}function Jt({chatId:t,onClose:s,onMediaSelect:n}){const[a,i]=r.useState([]),[o,b]=r.useState(!0),[h,w]=r.useState(null),[f,k]=r.useState("all"),S=W(),u=t&&S?{chatId:t,limit:500}:"skip",c=oe(G.messages.getMediaMessages,u);r.useEffect(()=>{if(!t||!S){i([]),b(!1);return}if(!c)return;const p=(c||[]).filter(g=>g.media&&!g.deleted&&!g.deletedForAll).map(g=>({id:g._id,...g.media||{},messageId:g._id,timestamp:g.timestamp,sender:g.senderName})).sort((g,y)=>(g.timestamp||0)-(y.timestamp||0));i(p),b(!1)},[t,S,c]);const m=f==="all"?a:a.filter(p=>f==="images"?p.type==="image":f==="videos"?p.type==="video":f==="audio"?p.type==="audio":f==="files"?p.type==="file":!0),l=p=>{w(p),n&&n(p)},N=p=>{const g=document.createElement("a");g.href=p.url,g.download=p.name||"download",g.target="_blank",document.body.appendChild(g),g.click(),document.body.removeChild(g)};return e.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[80] p-4",children:[e.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#2c2e36] rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center justify-between shrink-0",children:[e.jsx("h3",{className:"font-bold text-lg dark:text-white",children:"Media Gallery"}),e.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition",children:e.jsx(_,{size:20})})]}),e.jsx("div",{className:"p-3 border-b dark:border-gray-700 flex gap-2 overflow-x-auto scrollbar-hide shrink-0",children:[{key:"all",label:"All",icon:null},{key:"images",label:"Images",icon:Le},{key:"videos",label:"Videos",icon:je},{key:"audio",label:"Audio",icon:De},{key:"files",label:"Files",icon:me}].map(p=>e.jsxs("button",{onClick:()=>k(p.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition ${f===p.key?"bg-brand-blue text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200"}`,children:[p.icon&&e.jsx(p.icon,{size:16}),p.label,e.jsxs("span",{className:"text-xs opacity-70",children:["(",m.filter(g=>p.key==="all"||g.type===p.key).length,")"]})]},p.key))}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:o?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-brand-blue border-t-transparent rounded-full animate-spin mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading media..."})]}):m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(Le,{size:48,className:"mb-4 opacity-30"}),e.jsx("p",{className:"text-sm",children:"No media found"})]}):e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:m.map(p=>e.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(p),className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 cursor-pointer group",children:[p.type==="image"?e.jsx("img",{src:p.url,alt:"Media",className:"w-full h-full object-cover"}):p.type==="video"?e.jsx("video",{src:p.url,className:"w-full h-full object-cover"}):p.type==="audio"?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-purple-100 dark:bg-purple-900/30",children:e.jsx(De,{size:32,className:"text-purple-600 dark:text-purple-400"})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/30",children:e.jsx(me,{size:32,className:"text-blue-600 dark:text-blue-400"})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition flex items-center justify-center",children:e.jsx(Fe,{size:20,className:"text-white opacity-0 group-hover:opacity-100 transition"})})]},p.id))})})]}),e.jsx(se,{children:h&&e.jsx(Xt,{media:h,onClose:()=>w(null),onDownload:N})})]})}function Xt({media:t,onClose:s,onDownload:n}){const[a,i]=r.useState([]),[o,b]=r.useState(0);r.useEffect(()=>{i([t]),b(0)},[t]);const h=()=>{o<a.length-1&&b(o+1)},w=()=>{o>0&&b(o-1)},f=a[o]||t;return e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-[90] flex items-center justify-center",onClick:s,children:e.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center p-4",onClick:k=>k.stopPropagation(),children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition z-10",children:e.jsx(_,{size:24})}),f.type==="image"&&e.jsx("img",{src:f.url,alt:"Media",className:"max-w-full max-h-full object-contain rounded-lg"}),f.type==="video"&&e.jsx("video",{src:f.url,controls:!0,className:"max-w-full max-h-full rounded-lg",autoPlay:!0}),f.type==="audio"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md",children:[e.jsx("div",{className:"w-32 h-32 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(De,{size:48,className:"text-purple-600 dark:text-purple-400"})}),e.jsx("audio",{src:f.url,controls:!0,className:"w-full",autoPlay:!0}),e.jsx("p",{className:"text-center mt-4 text-sm text-gray-500",children:f.name})]}),f.type==="file"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md text-center",children:[e.jsx(me,{size:64,className:"text-blue-600 dark:text-blue-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-bold dark:text-white mb-2",children:f.name}),e.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-4 px-6 py-2 bg-brand-blue text-white rounded-lg hover:bg-blue-600 transition",children:"Open File"})]}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,disabled:o===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 text-white rounded-full hover:bg-black/70 disabled:opacity-30 transition",children:e.jsx(vt,{size:24})}),e.jsx("button",{onClick:h,disabled:o===a.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 text-white rounded-full hover:bg-black/70 disabled:opacity-30 transition",children:e.jsx(We,{size:24})})]}),e.jsx("button",{onClick:()=>n(f),className:"absolute bottom-4 left-1/2 -translate-x-1/2 p-3 bg-black/50 text-white rounded-full hover:bg-black/70 transition",children:e.jsx(Fe,{size:20})})]})})}function os({activeChat:t,onClose:s,currentUser:n}){const[a,i]=r.useState([]),[o,b]=r.useState({sessions:0,rating:0,responseTime:"N/A"}),[h,w]=r.useState(!0),[f,k]=r.useState(!1),[S,u]=r.useState(!1),c=t.type==="group",m=t.uid,l=t.name||t.n||"Unknown";r.useEffect(()=>{const g=async()=>{w(!0);try{i([])}catch(y){console.error("Failed to load details:",y)}w(!1)};t!=null&&t.id&&g()},[t.id,m,c,(n==null?void 0:n.id)||(n==null?void 0:n.uid)]);const N=async()=>{},p=()=>{alert("Please use the report option on their profile page for full moderation tools.")};return e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full md:w-80 bg-gray-800 shadow-xl z-20 flex flex-col transition-transform duration-300 ease-in-out border-l border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-900",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Details"}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full transition duration-150","aria-label":"Close details",children:e.jsx(_,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 flex flex-col items-center border-b border-gray-700 bg-gray-800",children:[e.jsxs("div",{className:"relative w-24 h-24 rounded-full overflow-hidden mb-4 bg-gray-700 flex items-center justify-center shadow-lg border-4 border-gray-600",children:[e.jsx("img",{src:t.photo,className:"w-full h-full object-cover",onError:g=>g.target.src="",alt:l}),!t.photo&&(c?e.jsx(ge,{className:"w-10 h-10 text-gray-500"}):e.jsx(He,{className:"w-10 h-10 text-gray-500"}))]}),e.jsx("h4",{className:"text-xl font-bold text-white text-center leading-tight",children:l}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center px-3 py-1 bg-gray-700 rounded-full",children:[c?e.jsx(ge,{className:"w-3 h-3 mr-1"}):e.jsx(Ge,{className:"w-3 h-3 mr-1"}),c?"Group Chat":t.role||"Creative"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:[!c&&e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("h5",{className:"text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider",children:"Performance"}),h?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(le,{className:"animate-spin text-brand-blue"})}):e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(Me,{title:"Sessions",value:o.sessions,icon:Ge,color:"text-blue-400"}),e.jsx(Me,{title:"Rating",value:o.rating,icon:Ie,color:"text-yellow-400"}),e.jsx(Me,{title:"Reply Time",value:o.responseTime,icon:Te,color:"text-green-400"})]})]}),e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Shared Media"}),e.jsx("button",{onClick:()=>u(!0),className:"text-xs text-brand-blue hover:underline font-medium",children:"View All"})]}),a.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.slice(0,6).map((g,y)=>e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-700 cursor-pointer hover:opacity-80 transition",children:[g.type==="image"&&e.jsx("img",{src:g.url,className:"w-full h-full object-cover",alt:"Media"}),g.type==="video"&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(je,{size:20,className:"text-gray-400"})})]},y))}):e.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"No shared media yet"})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition",children:[e.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:"Mute Notifications"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition",children:[e.jsx(jt,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Media Gallery"})]}),!c&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:N,disabled:f,className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-red-400 hover:bg-red-900/20 hover:text-red-300 rounded-lg transition disabled:opacity-50",children:[f?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsx(kt,{className:"w-4 h-4"}),e.jsx("span",{children:"Block User"})]}),e.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-red-400 hover:bg-red-900/20 hover:text-red-300 rounded-lg transition",children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsx("span",{children:"Report User"})]})]})]})]}),S&&e.jsx(Jt,{chatId:t.id,onClose:()=>u(!1)})]})}export{rs as C,ss as L,Me as S,ce as U,G as a,Tt as b,ns as c,as as d,is as e,os as f,W as i,Je as s,ze as u};
