import{r as c,j as e,y as ie,a as oe,cD as xe,cE as me,a8 as le,Y as he,T as ue,w as ye,bW as pe,m as be,cF as fe,co as je,b$ as ve,O as Z,X as re,v as we,N as Ne,V as ke,cG as Se,L as te,s as Ie,cw as Ce,cH as ze,a2 as Fe,cI as Re,U as ne,S as Me,bK as Oe}from"./vendor-M-mhr7Zm.js";import{U as D,s as _,b as Le,u as Te}from"./chat-CfZHA2ny.js";import{S as de,R as Ve}from"./ReportModal-D1z5c6N5.js";import{m as w,A as Q}from"./vendor-framer-1_AFqeeG.js";import{POPULAR_PLUGINS_LIST as Ae}from"./config-yUl3KxdD.js";import{M as Ee}from"./Inputs-CwjYZ5ZL.js";import{F as ce,u as ae}from"./FollowButton-aMBc263g.js";import"./vendor-audio-Bu2lAtPy.js";function _e({post:s,currentUser:t,currentUserData:r,blockedUsers:l,onCountChange:o}){const[n,d]=c.useState([]),[i,a]=c.useState(""),[x,p]=c.useState(!1);c.useEffect(()=>{},[s.id,l]);const u=async y=>{y.preventDefault();const N=(t==null?void 0:t.id)||(t==null?void 0:t.uid);!i.trim()||!N||_},f=async y=>{!window.confirm("Delete comment?")||_};return e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1f2128] border-t dark:border-gray-700 p-4 animate-in slide-in-from-top-2",children:[e.jsxs("div",{className:"space-y-4 mb-4 max-h-80 overflow-y-auto custom-scrollbar pr-2",children:[n.length===0&&e.jsx("div",{className:"text-center text-gray-400 text-xs py-2",children:"No comments yet. Be the first!"}),n.map(y=>e.jsxs("div",{className:"group flex gap-3 text-sm",children:[e.jsx(D,{src:y.userPhoto,name:y.displayName,size:"xs",className:"shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-card border dark:border-gray-700 p-3 rounded-2xl rounded-tl-none inline-block max-w-full",children:[e.jsxs("div",{className:"flex justify-between items-baseline gap-2 mb-1",children:[e.jsx("span",{className:"font-bold dark:text-white text-xs truncate",children:y.displayName}),e.jsx("span",{className:"text-[10px] text-gray-400 shrink-0",children:y.timestamp?new Date(y.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 break-words",children:y.text})]}),e.jsxs("div",{className:"flex gap-3 mt-1 ml-2",children:[e.jsx("button",{className:"text-[10px] font-bold text-gray-500 hover:text-brand-blue transition",children:"Reply"}),y.userId===(t==null?void 0:t.uid)&&e.jsx("button",{onClick:()=>f(y.id),className:"text-[10px] font-bold text-gray-400 hover:text-red-500 transition",children:"Delete"})]})]})]},y.id))]}),e.jsxs("form",{onSubmit:u,className:"flex gap-2",children:[e.jsx(D,{src:r==null?void 0:r.photoURL,name:(r==null?void 0:r.firstName)||"You",size:"xs",className:"shrink-0 hidden sm:block"}),e.jsx("input",{className:"flex-1 bg-white dark:bg-dark-card border dark:border-gray-600 rounded-full px-4 py-2 text-sm focus:ring-2 focus:ring-brand-blue outline-none dark:text-white transition",placeholder:"Write a comment...",value:i,onChange:y=>a(y.target.value)}),e.jsx("button",{type:"submit",disabled:!i.trim()||x,className:"bg-brand-blue text-white p-2 rounded-full hover:bg-blue-600 disabled:opacity-50 transition shadow-sm",children:e.jsx(ie,{size:16,className:x?"animate-pulse":""})})]})]})}const $e=["ðŸ‘","â¤ï¸","ðŸ˜‚","ðŸ˜®","ðŸ˜¢","ðŸ”¥"],Ye=s=>s?s.split(/(\s+)/).map((t,r)=>t.match(/^#\w+/)?e.jsx("span",{className:"text-brand-blue font-bold cursor-pointer hover:underline",children:t},r):t.match(/^@\w+/)?e.jsx("span",{className:"text-purple-600 font-bold cursor-pointer hover:underline",children:t},r):t):null,Ue={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},exit:{opacity:0,scale:.95,transition:{duration:.2}}};function Be({post:s,currentUser:t,currentUserData:r,openPublicProfile:l,onReport:o,isFollowingAuthor:n,onToggleFollow:d,autoPlayVideos:i=!1}){var $,Y,U,m;const[a,x]=c.useState(!1),[p,u]=c.useState(s.commentCount||0),[f,y]=c.useState(!1),[N,k]=c.useState(!1),[F,R]=c.useState(!1),[T,h]=c.useState(!1),[v,M]=c.useState(!1),j=c.useRef(null),O=c.useRef(null),V=(t==null?void 0:t.id)||(t==null?void 0:t.uid),z=s.userId===V,L=($=s.reactions)==null?void 0:$[V],K=s.reactions?Object.values(s.reactions).reduce((g,b)=>(g[b]=(g[b]||0)+1,g),{}):{},P=Object.values(K).reduce((g,b)=>g+b,0);c.useEffect(()=>{},[V,s.id]),c.useEffect(()=>{const g=b=>{j.current&&!j.current.contains(b.target)&&k(!1),O.current&&!O.current.contains(b.target)&&R(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const ee=async g=>{k(!1)},se=async()=>{},q=async()=>{var b;const g=`${window.location.origin}/post/${s.id}`;if(navigator.share)try{await navigator.share({title:`Post by ${s.displayName}`,text:((b=s.text)==null?void 0:b.substring(0,100))||"Check out this post",url:g})}catch(B){B.name!=="AbortError"&&A(g)}else A(g)},A=g=>{navigator.clipboard.writeText(g),h(!0),ve.success("Link copied to clipboard!"),setTimeout(()=>h(!1),2e3)},X=async()=>{};return e.jsxs(w.div,{variants:Ue,initial:"hidden",animate:"show",exit:"exit",layout:!0,className:"bg-white dark:bg-dark-card border dark:border-gray-700 rounded-xl overflow-visible shadow-sm mb-4 relative",children:[e.jsxs("div",{className:"p-4 flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden cursor-pointer shrink-0",onClick:()=>s.userId&&l(s.userId),role:"button",tabIndex:0,"aria-label":`View ${s.displayName||"user"}'s profile`,children:s.authorPhoto?e.jsx("img",{src:s.authorPhoto,className:"h-full w-full object-cover",alt:`${s.displayName||"User"}'s avatar`,onError:g=>{g.target.style.display="none"}}):e.jsx("div",{className:"h-full w-full bg-gradient-to-tr from-brand-blue to-purple-500 flex items-center justify-center text-white font-bold",children:((U=(Y=s.displayName)==null?void 0:Y[0])==null?void 0:U.toUpperCase())||e.jsx(oe,{size:16,"aria-hidden":"true"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold dark:text-white text-sm hover:underline decoration-brand-blue cursor-pointer truncate",onClick:()=>s.userId&&l(s.userId),children:s.displayName||"Unknown User"}),!z&&d&&!n&&e.jsx("button",{onClick:g=>{g.stopPropagation(),d()},className:"text-xs font-bold text-brand-blue hover:text-blue-700 transition shrink-0",children:"â€¢ Follow"})]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("span",{className:"truncate",children:s.role}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{className:"shrink-0",children:s.timestamp||s.created_at?new Date(s.timestamp||s.created_at).toLocaleDateString():"Just now"})]})]})]}),e.jsxs("div",{className:"relative",ref:O,children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-white transition p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>R(!F),children:e.jsx(xe,{size:20})}),e.jsx(Q,{children:F&&e.jsxs(w.div,{initial:{opacity:0,scale:.95,y:-5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-5},className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border dark:border-gray-700 overflow-hidden z-50",children:[e.jsxs("button",{onClick:()=>{A(`${window.location.origin}/post/${s.id}`),R(!1)},className:"w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:[e.jsx(me,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Copy link"})]}),!z&&e.jsxs(e.Fragment,{children:[d&&e.jsxs("button",{onClick:()=>{d(),R(!1)},className:"w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:[e.jsx(le,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:"dark:text-gray-200",children:[n?"Unfollow":"Follow"," ",(m=s.displayName)==null?void 0:m.split(" ")[0]]})]}),e.jsxs("button",{onClick:()=>{o(),R(!1)},className:"w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition text-red-500",children:[e.jsx(he,{size:16}),e.jsx("span",{children:"Report post"})]})]}),z&&e.jsxs("button",{onClick:()=>{X(),R(!1)},className:"w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition text-red-500",children:[e.jsx(ue,{size:16}),e.jsx("span",{children:"Delete post"})]})]})})]})]}),e.jsxs("div",{className:"px-4 pb-2",children:[s.text&&e.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap text-sm leading-relaxed mb-3",children:Ye(s.text)}),s.attachments&&s.attachments.length>0&&e.jsx("div",{className:`grid gap-2 mb-3 ${s.attachments.length>1?"grid-cols-2":"grid-cols-1"}`,children:s.attachments.map((g,b)=>e.jsxs("div",{className:"rounded-lg overflow-hidden bg-transparent relative",children:[g.type==="image"&&e.jsx("img",{src:g.url,className:"w-full h-full object-cover max-h-96",alt:"content"}),g.type==="video"&&e.jsx("video",{src:g.url,controls:!0,className:"w-full h-full max-h-96 bg-black",autoPlay:i,playsInline:!0,muted:i,preload:"metadata"}),g.type==="audio"&&e.jsx("div",{className:"w-full",children:e.jsx(de,{audioUrl:g.url,fileName:g.name||"Audio Track"})})]},b))}),s.audioUrl&&!s.attachments&&e.jsx("div",{className:"rounded-lg overflow-hidden bg-transparent mb-3",children:e.jsx(de,{audioUrl:s.audioUrl,fileName:s.audioName||"Track"})}),s.imageUrl&&!s.attachments&&e.jsx("img",{src:s.imageUrl,className:"rounded-lg w-full mb-3 border dark:border-gray-700",alt:"legacy content"})]}),(P>0||s.saveCount>0)&&e.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[e.jsx("div",{className:"flex gap-1",children:Object.entries(K).map(([g,b])=>e.jsxs(w.div,{initial:{scale:0},animate:{scale:1},className:`text-xs px-2 py-1 rounded-full border flex items-center gap-1 ${L===g?"bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800":"bg-gray-50 border-gray-100 dark:bg-gray-800 dark:border-gray-700"} dark:text-gray-300`,children:[e.jsx("span",{children:g}),e.jsx("span",{className:"font-bold",children:b})]},g))}),s.saveCount>0&&e.jsxs("span",{className:"text-xs text-gray-400",children:[s.saveCount," save",s.saveCount!==1?"s":""]})]}),e.jsxs("div",{className:"px-4 py-3 border-t dark:border-gray-700 flex items-center justify-between relative",children:[e.jsxs("div",{className:"flex gap-2 sm:gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(w.button,{whileTap:{scale:.9},onClick:()=>k(!N),className:`flex items-center gap-1.5 sm:gap-2 text-sm font-medium transition px-2 py-1 rounded-lg ${L?"text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[L?e.jsx("span",{className:"text-lg",children:L}):e.jsx(ye,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:L?"Reacted":"React"})]}),e.jsx(Q,{children:N&&e.jsx(w.div,{ref:j,initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},className:"absolute bottom-full left-0 mb-2 bg-white dark:bg-gray-800 shadow-xl rounded-full p-2 flex gap-1 sm:gap-2 z-50 border dark:border-gray-600 origin-bottom-left",children:$e.map(g=>e.jsx(w.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),ee()},className:`text-xl p-1 sm:p-1.5 rounded-full ${L===g?"bg-blue-100 dark:bg-blue-900":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:g},g))})})]}),e.jsxs(w.button,{whileTap:{scale:.95},onClick:()=>x(!a),className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium text-gray-500 hover:text-brand-blue transition px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(pe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:p>0?p:"Comment"}),p>0&&e.jsx("span",{className:"sm:hidden",children:p})]}),e.jsxs(w.button,{whileTap:{scale:.95},onClick:q,className:`flex items-center gap-1.5 sm:gap-2 text-sm font-medium transition px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ${T?"text-green-500":"text-gray-500 hover:text-green-500"}`,children:[T?e.jsx(be,{size:18}):e.jsx(fe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:T?"Copied!":"Share"})]})]}),e.jsx(w.button,{whileTap:{scale:.8},onClick:se,disabled:v,className:`${f?"text-brand-blue":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"} transition p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full disabled:opacity-50`,title:f?"Remove from saved":"Save post",children:e.jsx(je,{size:18,fill:f?"currentColor":"none"})})]}),e.jsx(Q,{children:a&&e.jsx(w.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx(_e,{post:s,currentUser:t,currentUserData:r,blockedUsers:[],onCountChange:u})})})]})}function We({user:s,userData:t,onPost:r}){const[l,o]=c.useState(""),[n,d]=c.useState([]),[i,a]=c.useState(!1),[x,p]=c.useState([]),[u,f]=c.useState(null),[y,N]=c.useState(!1),{uploadMedia:k}=Le(),F=(h,v)=>{if(h.target.files&&h.target.files[0]){const M=h.target.files[0],j=URL.createObjectURL(M);d([...n,{file:M,type:v,previewUrl:j}])}},R=h=>{d(n.filter((v,M)=>M!==h))},T=async()=>{if(!(!l.trim()&&n.length===0)){N(!0);try{const h=await Promise.all(n.map(async j=>{const O=j.type==="video"?"postVideos":j.type==="audio"?"postAudio":"postImages",V=`artifacts/${s.uid}/${O}`,z=await k(j.file,V);return z?{...z,type:j.type}:null}));let v=null;if(u){const j=await k(u,`artifacts/${s.uid}/postPresets`);v=j==null?void 0:j.url}const M={text:l,attachments:h.filter(j=>j!==null),seshFx:i&&(x.length>0||v)?{plugins:x,presetUrl:v,presetName:u?u.name:null}:null};await r(M),o(""),d([]),a(!1),p([]),f(null)}catch(h){console.error("Error creating post:",h),alert("Failed to create post. Please try again.")}finally{N(!1)}}};return e.jsx("div",{className:"bg-white dark:bg-dark-card p-4 rounded-xl border dark:border-gray-700 shadow-sm mb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden shrink-0",children:t!=null&&t.photoURL?e.jsx("img",{src:t.photoURL,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-brand-blue"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{className:"w-full bg-transparent outline-none text-gray-900 dark:text-white placeholder-gray-500 min-h-[80px] resize-none",placeholder:"What's creating sound today? (#tags @mentions)",value:l,onChange:h=>o(h.target.value)}),n.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:n.map((h,v)=>e.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-black/5 border dark:border-gray-600 aspect-video group flex items-center justify-center",children:[h.type==="image"&&e.jsx("img",{src:h.previewUrl,className:"h-full w-full object-cover"}),h.type==="video"&&e.jsx("video",{src:h.previewUrl,className:"h-full w-full object-cover"}),h.type==="audio"&&e.jsxs("div",{className:"flex flex-col items-center justify-center text-brand-blue bg-gray-100 dark:bg-gray-800 w-full h-full",children:[e.jsx(Z,{size:32}),e.jsx("span",{className:"text-xs text-gray-500 mt-2 truncate max-w-[90%] px-2",children:h.file.name})]}),e.jsx("button",{onClick:()=>R(v),className:"absolute top-1 right-1 bg-black/50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition hover:bg-red-500",children:e.jsx(re,{size:12})})]},v))}),i&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg mb-3 border border-blue-100 dark:border-blue-800/50 animate-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-brand-blue uppercase",children:"SeshFx Data"}),e.jsx("button",{onClick:()=>a(!1),children:e.jsx(re,{size:14,className:"text-gray-400 hover:text-brand-blue"})})]}),e.jsx(Ee,{label:"",options:Ae,initialValues:x,onChange:(h,v)=>p(v)}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(we,{size:14,className:"text-gray-400"}),e.jsx("input",{type:"file",className:"text-xs text-gray-500 file:py-1 file:px-3 file:rounded-full file:border-0 file:text-xs file:bg-white dark:file:bg-gray-700 dark:file:text-white",onChange:h=>f(h.target.files[0])})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t dark:border-gray-700",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("label",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-brand-blue cursor-pointer transition",title:"Add Image",children:[e.jsx(Ne,{size:20}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h=>F(h,"image")})]}),e.jsxs("label",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-green-500 cursor-pointer transition",title:"Add Video",children:[e.jsx(ke,{size:20}),e.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:h=>F(h,"video")})]}),e.jsxs("label",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-purple-500 cursor-pointer transition",title:"Add Audio Track",children:[e.jsx(Z,{size:20}),e.jsx("input",{type:"file",className:"hidden",accept:"audio/*",onChange:h=>F(h,"audio")})]}),e.jsx("button",{onClick:()=>a(!i),className:`p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition ${i?"bg-blue-50 dark:bg-blue-900/20 text-brand-blue":"text-gray-400"}`,title:"Add Plugin Data",children:e.jsx(Se,{size:20})})]}),e.jsx("button",{onClick:T,disabled:y||!l&&n.length===0,className:"bg-brand-blue text-white px-5 py-1.5 rounded-full font-bold text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:y?e.jsx(te,{className:"animate-spin",size:16}):e.jsxs(e.Fragment,{children:["Post ",e.jsx(ie,{size:14})]})})]})]})]})})}function S({title:s,description:t,items:r,loading:l,emptyMessage:o,onSeeMore:n,renderItem:d,gridCols:i="grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}){return l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-1",children:s}),t&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t})]}),e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(te,{className:"animate-spin text-indigo-600",size:32})})]}):!r||r.length===0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-1",children:s}),t&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t})]}),e.jsx("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:o||"No items found."})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-1",children:s}),t&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t})]}),n&&e.jsx("button",{onClick:n,className:"text-sm text-indigo-600 dark:text-indigo-400 font-semibold hover:underline",children:"See More â†’"})]}),e.jsx("div",{className:`grid ${i} gap-4`,children:r.map((a,x)=>e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:d?d(a,x):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:JSON.stringify(a)})},a.id||x))})]})}function I({item:s,type:t,onFollow:r,onViewProfile:l,onPlay:o,isFollowing:n,currentUser:d}){const i=()=>t==="sound"?s.text||"Audio Post":s.displayName||s.name||s.title||"Unknown",a=()=>t==="sound"?s.displayName||"Unknown Artist":t==="artist"||t==="producer"?s.role||s.activeProfileRole||"User":t==="studio"?s.address||s.city||"Location not specified":t==="school"?s.address||"Location not specified":null;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"shrink-0",children:t==="sound"?e.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:e.jsx(Z,{size:24,className:"text-indigo-600 dark:text-indigo-400"})}):e.jsx(D,{src:s.photoURL||s.logoURL,name:i(),size:"md"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold dark:text-white truncate cursor-pointer hover:text-indigo-600 dark:hover:text-indigo-400 transition",onClick:l,children:i()}),a()&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate mt-0.5",children:a()}),t==="studio"&&s.amenities&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:s.amenities.slice(0,2).join(", ")}),t==="school"&&s.programs&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[s.programs.length," program",s.programs.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t==="sound"&&o&&e.jsx("button",{onClick:o,className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition",title:"Play",children:e.jsx(Ie,{size:16,fill:"currentColor"})}),(t==="artist"||t==="producer")&&r&&e.jsx(ce,{isFollowing:n,onToggle:r,size:"sm"})]})]}),(s.followerCount||s.enrollmentCount)&&e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[s.followerCount!==void 0&&e.jsxs("span",{children:[s.followerCount," followers"]}),s.enrollmentCount!==void 0&&e.jsxs("span",{children:[s.enrollmentCount," enrolled"]})]})]})]})})}function ge(s){const t=s.reactionCount||0,r=s.commentCount||0,l=s.saveCount||0;return t*1+r*2+0*3+l*1.5}function Ge(s,t="7d"){var i,a;const r=ge(s);if(!s.timestamp)return r;const l=Date.now(),o=((a=(i=s.timestamp)==null?void 0:i.toMillis)==null?void 0:a.call(i))||s.timestamp||l,n=(l-o)/(1e3*60*60);let d=1;return t==="24h"?d=Math.exp(-n/24):t==="7d"?d=Math.exp(-n/168):t==="30d"&&(d=Math.exp(-n/720)),r*d}function W(s,t,r,l=10){if(!r||r.length===0)return[];const o=r.map(n=>({...n,trendingScore:Ge(n,t)}));return o.sort((n,d)=>d.trendingScore-n.trendingScore),o.slice(0,l)}function G(s,t,r,l,o=[],n=10){if(!r||r.length===0)return[];const d=r.filter(a=>a.userId!==s);if(o.length>0){const a=o.map(u=>u.id||u.userId),x=d.filter(u=>a.includes(u.userId||u.id)),p=d.filter(u=>!a.includes(u.userId||u.id));return[...x,...p].slice(0,n)}const i=d.map(a=>({...a,engagementScore:ge(a)}));return i.sort((a,x)=>x.engagementScore-a.engagementScore),i.slice(0,n)}function H(s,t=10){return!s||s.length===0?[]:[...s].sort((l,o)=>{var i,a,x,p,u,f,y,N;const n=((a=(i=l.timestamp)==null?void 0:i.toMillis)==null?void 0:a.call(i))||l.timestamp||((p=(x=l.createdAt)==null?void 0:x.toMillis)==null?void 0:p.call(x))||l.createdAt||0;return(((f=(u=o.timestamp)==null?void 0:u.toMillis)==null?void 0:f.call(u))||o.timestamp||((N=(y=o.createdAt)==null?void 0:y.toMillis)==null?void 0:N.call(y))||o.createdAt||0)-n}).slice(0,t)}function J(s,t){const[r,l]=c.useState(!0),[o,n]=c.useState([]),[d,i]=c.useState([]),[a,x]=c.useState([]),[p,u]=c.useState([]),[f,y]=c.useState([]),[N,k]=c.useState([]);c.useEffect(()=>{!(s!=null&&s.id)&&!(s!=null&&s.uid)||_},[s==null?void 0:s.id,s==null?void 0:s.uid]),c.useEffect(()=>{if(!(s!=null&&s.id)&&!(s!=null&&s.uid)||!_){l(!1);return}},[s==null?void 0:s.id,s==null?void 0:s.uid]);const F=c.useMemo(()=>!t||r?{}:{sounds:{trending:W("sounds","7d",o,10),recent:H(o,10),personalized:G(s.uid,"sounds",o,t,[],10)},artists:{trending:W("artists","7d",d,10),recent:H(d,10),personalized:G(s.uid,"artists",d,t,[],10)},producers:{trending:W("producers","7d",a,10),recent:H(a,10),personalized:G(s.uid,"producers",a,t,[],10)},studios:{trending:W("studios","7d",p,10),recent:H(p,10),personalized:G(s.uid,"studios",p,t,[],10)},schools:{trending:W("schools","7d",f,10),recent:H(f,10),personalized:G(s.uid,"schools",f,t,[],10)}},[o,d,a,p,f,t,s==null?void 0:s.uid,r]);return{loading:r,sounds:o,artists:d,producers:a,studios:p,schools:f,following:N,recommendations:F}}function He({user:s,userData:t,openPublicProfile:r,onFollow:l}){const{loading:o,recommendations:n}=J(s,t),d=(n==null?void 0:n.sounds)||{};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(S,{title:"Trending Sounds",description:"Most popular audio content right now",items:d.trending||[],loading:o,emptyMessage:"No trending sounds found.",renderItem:i=>e.jsx(I,{item:i,type:"sound",onViewProfile:()=>r==null?void 0:r(i.userId),onPlay:()=>{console.log("Play sound:",i.id)}})}),e.jsx(S,{title:"New Releases",description:"Recently posted audio content",items:d.recent||[],loading:o,emptyMessage:"No new sounds found.",renderItem:i=>e.jsx(I,{item:i,type:"sound",onViewProfile:()=>r==null?void 0:r(i.userId),onPlay:()=>{console.log("Play sound:",i.id)}})}),d.personalized&&d.personalized.length>0&&e.jsx(S,{title:"Recommended for You",description:"Based on your activity",items:d.personalized||[],loading:o,emptyMessage:"No recommendations yet.",renderItem:i=>e.jsx(I,{item:i,type:"sound",onViewProfile:()=>r==null?void 0:r(i.userId),onPlay:()=>{console.log("Play sound:",i.id)}})})]})}function Je({user:s,userData:t,openPublicProfile:r}){const{loading:l,recommendations:o}=J(s,t),{isFollowing:n,toggleFollow:d}=ae(s==null?void 0:s.uid),i=(o==null?void 0:o.artists)||{};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(S,{title:"Trending Artists",description:"Most popular artists right now",items:i.trending||[],loading:l,emptyMessage:"No trending artists found.",renderItem:a=>e.jsx(I,{item:a,type:"artist",onViewProfile:()=>r==null?void 0:r(a.userId||a.id),onFollow:()=>d(a.userId||a.id,a),isFollowing:n(a.userId||a.id)})}),e.jsx(S,{title:"New Artists",description:"Recently joined artists",items:i.recent||[],loading:l,emptyMessage:"No new artists found.",renderItem:a=>e.jsx(I,{item:a,type:"artist",onViewProfile:()=>r==null?void 0:r(a.userId||a.id),onFollow:()=>d(a.userId||a.id,a),isFollowing:n(a.userId||a.id)})}),i.personalized&&i.personalized.length>0&&e.jsx(S,{title:"Recommended for You",description:"Based on artists you follow",items:i.personalized||[],loading:l,emptyMessage:"No recommendations yet.",renderItem:a=>e.jsx(I,{item:a,type:"artist",onViewProfile:()=>r==null?void 0:r(a.userId||a.id),onFollow:()=>d(a.userId||a.id,a),isFollowing:n(a.userId||a.id)})})]})}function Ke({user:s,userData:t,openPublicProfile:r}){const{loading:l,recommendations:o}=J(s,t),{isFollowing:n,toggleFollow:d}=ae(s==null?void 0:s.uid),i=(o==null?void 0:o.producers)||{};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(S,{title:"Trending Producers",description:"Most popular producers right now",items:i.trending||[],loading:l,emptyMessage:"No trending producers found.",renderItem:a=>e.jsx(I,{item:a,type:"producer",onViewProfile:()=>r==null?void 0:r(a.userId||a.id),onFollow:()=>d(a.userId||a.id,a),isFollowing:n(a.userId||a.id)})}),e.jsx(S,{title:"New Producers",description:"Recently joined producers",items:i.recent||[],loading:l,emptyMessage:"No new producers found.",renderItem:a=>e.jsx(I,{item:a,type:"producer",onViewProfile:()=>r==null?void 0:r(a.userId||a.id),onFollow:()=>d(a.userId||a.id,a),isFollowing:n(a.userId||a.id)})}),i.personalized&&i.personalized.length>0&&e.jsx(S,{title:"Recommended for You",description:"Based on producers you follow",items:i.personalized||[],loading:l,emptyMessage:"No recommendations yet.",renderItem:a=>e.jsx(I,{item:a,type:"producer",onViewProfile:()=>r==null?void 0:r(a.userId||a.id),onFollow:()=>d(a.userId||a.id,a),isFollowing:n(a.userId||a.id)})})]})}function qe({user:s,userData:t,openPublicProfile:r}){const{loading:l,recommendations:o}=J(s,t),n=(o==null?void 0:o.studios)||{};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(S,{title:"Trending Studios",description:"Most popular studios right now",items:n.trending||[],loading:l,emptyMessage:"No trending studios found.",renderItem:d=>e.jsx(I,{item:d,type:"studio",onViewProfile:()=>r==null?void 0:r(d.userId||d.id)})}),e.jsx(S,{title:"New Studios",description:"Recently added studios",items:n.recent||[],loading:l,emptyMessage:"No new studios found.",renderItem:d=>e.jsx(I,{item:d,type:"studio",onViewProfile:()=>r==null?void 0:r(d.userId||d.id)})}),n.personalized&&n.personalized.length>0&&e.jsx(S,{title:"Recommended for You",description:"Based on your location and interests",items:n.personalized||[],loading:l,emptyMessage:"No recommendations yet.",renderItem:d=>e.jsx(I,{item:d,type:"studio",onViewProfile:()=>r==null?void 0:r(d.userId||d.id)})})]})}function Xe({user:s,userData:t}){const{loading:r,recommendations:l}=J(s,t),o=(l==null?void 0:l.schools)||{};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(S,{title:"Featured Schools",description:"Top music education programs",items:o.trending||[],loading:r,emptyMessage:"No featured schools found.",renderItem:n=>e.jsx(I,{item:n,type:"school",onViewProfile:()=>{console.log("View school:",n.id)}})}),e.jsx(S,{title:"New Schools",description:"Recently added schools",items:o.recent||[],loading:r,emptyMessage:"No new schools found.",renderItem:n=>e.jsx(I,{item:n,type:"school",onViewProfile:()=>{console.log("View school:",n.id)}})}),o.personalized&&o.personalized.length>0&&e.jsx(S,{title:"Recommended for You",description:"Based on your location and interests",items:o.personalized||[],loading:r,emptyMessage:"No recommendations yet.",renderItem:n=>e.jsx(I,{item:n,type:"school",onViewProfile:()=>{console.log("View school:",n.id)}})})]})}const Qe=[{id:"sounds",label:"Sounds",icon:Z},{id:"artists",label:"Artists",icon:oe},{id:"producers",label:"Producers",icon:Ce},{id:"studios",label:"Studios",icon:ze},{id:"schools",label:"Schools",icon:Fe}];function Ze({user:s,userData:t,openPublicProfile:r}){const[l,o]=c.useState("sounds"),n=()=>{switch(l){case"sounds":return e.jsx(He,{user:s,userData:t,openPublicProfile:r});case"artists":return e.jsx(Je,{user:s,userData:t,openPublicProfile:r});case"producers":return e.jsx(Ke,{user:s,userData:t,openPublicProfile:r});case"studios":return e.jsx(qe,{user:s,userData:t,openPublicProfile:r});case"schools":return e.jsx(Xe,{user:s,userData:t});default:return null}};return e.jsxs("div",{className:"max-w-6xl mx-auto pb-20",children:[e.jsx("div",{className:"flex items-center gap-2 mb-6 bg-white dark:bg-dark-card p-1.5 rounded-xl border dark:border-gray-700 shadow-sm overflow-x-auto",children:Qe.map(d=>{const i=d.icon;return e.jsxs("button",{onClick:()=>o(d.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all whitespace-nowrap ${l===d.id?"bg-brand-blue text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(i,{size:16}),e.jsx("span",{children:d.label})]},d.id)})}),e.jsx("div",{className:"mt-6",children:n()})]})}const C={FOR_YOU:"for_you",FOLLOWING:"following",DISCOVER:"discover"};function ds({user:s,userData:t,openPublicProfile:r}){var q,A,X,$,Y,U;const[l,o]=c.useState([]),[n,d]=c.useState(!0),[i,a]=c.useState(null),[x,p]=c.useState(C.FOR_YOU),[u,f]=c.useState([]),[y,N]=c.useState(!1),{t:k}=Te();(A=(q=t==null?void 0:t.settings)==null?void 0:q.social)!=null&&A.feedAlgorithm;const F=(($=(X=t==null?void 0:t.settings)==null?void 0:X.social)==null?void 0:$.autoPlayVideos)!==!1,R=((U=(Y=t==null?void 0:t.settings)==null?void 0:Y.social)==null?void 0:U.showSuggestedAccounts)!==!1,T=(s==null?void 0:s.id)||(s==null?void 0:s.uid),{following:h,stats:v,loading:M,isFollowing:j,toggleFollow:O,getFollowingIds:V}=ae(T),z=c.useMemo(()=>V(),[h]);c.useEffect(()=>{const m=(s==null?void 0:s.id)||(s==null?void 0:s.uid);x===C.FOLLOWING&&z.length===0&&m&&L()},[x,z.length,s==null?void 0:s.id,s==null?void 0:s.uid]);const L=async()=>{N(!0);try{if(!_||!(s!=null&&s.id)&&!(s!=null&&s.uid))return;const m=s.id||s.uid,{data:g,error:b}=await _.from("posts").select("user_id, display_name, author_photo, role").neq("user_id",m).order("created_at",{ascending:!1}).limit(20);if(b)throw b;const B=new Map;(g||[]).forEach(E=>{B.has(E.user_id)||B.set(E.user_id,{userId:E.user_id,displayName:E.display_name,photoURL:E.author_photo,role:E.role})}),f(Array.from(B.values()).slice(0,5))}catch(m){console.error("Error loading suggestions:",m)}N(!1)},K=()=>{const m=Array.from({length:3});return e.jsxs("div",{className:"space-y-4 p-fluid",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1f2128] rounded-2xl border border-gray-200 dark:border-gray-700 p-4 animate-pulse",children:[e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded-xl w-48 mb-3"}),e.jsx("div",{className:"h-14 bg-gray-100 dark:bg-gray-800 rounded-xl w-full mb-2"})]}),m.map((g,b)=>e.jsxs("div",{className:"bg-white dark:bg-[#1f2128] rounded-2xl border border-gray-200 dark:border-gray-700 p-4 animate-pulse space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-3.5 w-32 bg-gray-200 dark:bg-gray-700 rounded-full mb-2"}),e.jsx("div",{className:"h-3 w-20 bg-gray-100 dark:bg-gray-800 rounded-full"})]})]}),e.jsx("div",{className:"h-3 w-5/6 bg-gray-100 dark:bg-gray-800 rounded-full"}),e.jsx("div",{className:"h-3 w-2/3 bg-gray-100 dark:bg-gray-800 rounded-full"}),e.jsx("div",{className:"h-48 bg-gray-100 dark:bg-gray-800 rounded-xl"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-3 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"}),e.jsx("div",{className:"h-3 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]},b))]})};if(n)return K();c.useEffect(()=>{{d(!1);return}},[x,z,s==null?void 0:s.id,s==null?void 0:s.uid]);const P=async m=>{},ee={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},se=({suggestedUser:m})=>e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-white dark:bg-dark-card rounded-xl border dark:border-gray-700 hover:border-brand-blue/30 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1 min-w-0",onClick:()=>r==null?void 0:r(m.userId),children:[e.jsx(D,{src:m.photoURL,name:m.displayName,size:"md"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-sm dark:text-white truncate hover:text-brand-blue transition",children:m.displayName}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:m.role})]})]}),e.jsx(ce,{isFollowing:j(m.userId),onToggle:()=>O(m.userId,m),size:"sm",variant:"default"})]});return e.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[e.jsx(We,{user:s,userData:t,onPost:P}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-white dark:bg-dark-card p-1.5 rounded-xl border dark:border-gray-700 shadow-sm",children:[e.jsxs("button",{onClick:()=>p(C.FOR_YOU),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all ${x===C.FOR_YOU?"bg-brand-blue text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(Re,{size:16}),e.jsx("span",{children:k("forYou")})]}),e.jsxs("button",{onClick:()=>p(C.FOLLOWING),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all ${x===C.FOLLOWING?"bg-brand-blue text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(ne,{size:16}),e.jsx("span",{children:k("following")}),v.followingCount>0&&e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${x===C.FOLLOWING?"bg-white/20":"bg-gray-200 dark:bg-gray-700"}`,children:v.followingCount})]}),e.jsxs("button",{onClick:()=>p(C.DISCOVER),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all ${x===C.DISCOVER?"bg-brand-blue text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(Me,{size:16}),e.jsx("span",{children:k("discover")})]})]}),x===C.DISCOVER?e.jsx(Ze,{user:s,userData:t,openPublicProfile:r}):n||M?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(te,{className:"animate-spin text-brand-blue",size:32})}):e.jsxs(e.Fragment,{children:[x===C.FOLLOWING&&z.length===0&&e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-2xl p-6 mb-6 border border-blue-100 dark:border-blue-800/30",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-brand-blue/10 flex items-center justify-center",children:e.jsx(le,{size:28,className:"text-brand-blue"})}),e.jsx("h3",{className:"text-lg font-bold dark:text-white mb-2",children:"Start following creators"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-sm mx-auto",children:"Follow artists, engineers, and studios to see their posts in your Following feed."})]}),R&&e.jsx(e.Fragment,{children:y?e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Suggested for you"}),[1,2,3].map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-dark-card rounded-xl border dark:border-gray-700 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 w-16 bg-gray-200 dark:bg-gray-700 rounded"})]})]}),e.jsx("div",{className:"h-8 w-20 bg-gray-200 dark:bg-gray-700 rounded-lg"})]},m))]}):u.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Suggested for you"}),u.map(m=>e.jsx(se,{suggestedUser:m},m.userId))]})})]}),e.jsxs(w.div,{variants:ee,initial:"hidden",animate:"show",className:"space-y-4",children:[e.jsx(Q,{mode:"popLayout",children:l.map(m=>e.jsx(Be,{post:m,currentUser:s,currentUserData:t,openPublicProfile:r||(()=>{}),onReport:()=>a(m),isFollowingAuthor:j(m.userId),onToggleFollow:()=>O(m.userId,{displayName:m.displayName,photoURL:m.authorPhoto,role:m.role}),autoPlayVideos:F},m.id))}),l.length===0&&x===C.FOR_YOU&&e.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10 text-gray-500",children:[e.jsx(Oe,{className:"mx-auto mb-2 opacity-50",size:32}),e.jsxs("p",{children:[k("noPosts"),". ",k("beFirst")]})]}),l.length===0&&x===C.FOLLOWING&&z.length>0&&e.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10 text-gray-500",children:[e.jsx(ne,{className:"mx-auto mb-2 opacity-50",size:32}),e.jsxs("p",{children:[k("noPostsFollowing"),"."]}),e.jsx("button",{onClick:()=>p(C.FOR_YOU),className:"mt-3 text-brand-blue hover:underline text-sm font-medium",children:k("browseForYou")})]})]})]}),i&&e.jsx(Ve,{user:s,target:{id:i.id,type:"Post",summary:i.text?i.text.substring(0,50):"Media Post"},onClose:()=>a(null)})]})}export{ds as default};
