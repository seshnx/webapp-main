{"version":3,"file":"StudioMap-CQmv33dD.js","sources":["../../src/components/shared/StudioMap.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap, Circle } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\n// Fix for default Leaflet marker icons in React\r\nimport icon from 'leaflet/dist/images/marker-icon.png';\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\r\n\r\nlet DefaultIcon = L.icon({\r\n    iconUrl: icon,\r\n    shadowUrl: iconShadow,\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41]\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\n// Component to update map view when markers change\r\nfunction ChangeView({ center, zoom }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    map.setView(center, zoom);\r\n  }, [center, zoom, map]);\r\n  return null;\r\n}\r\n\r\nexport default function StudioMap({ \r\n    locations = [], \r\n    center = [34.0522, -118.2437], \r\n    zoom = 10, \r\n    height = \"400px\",\r\n    drawRadius = false,\r\n    radiusMiles = 0 \r\n}) {\r\n  const visibleLocations = locations.filter(loc => \r\n    loc.lat && loc.lng && (!loc.hideAddress || loc.forceReveal)\r\n  );\r\n\r\n  const radiusMeters = radiusMiles * 1609.34;\r\n\r\n  return (\r\n    // Added z-0 relative to ensure new stacking context, lower than sidebar\r\n    <div className=\"rounded-xl overflow-hidden shadow-inner border dark:border-gray-700 relative z-0\" style={{ height, width: '100%' }}>\r\n      <MapContainer center={center} zoom={zoom} style={{ height: '100%', width: '100%' }} scrollWheelZoom={false}>\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <ChangeView center={center} zoom={zoom} />\r\n        \r\n        {drawRadius && radiusMiles > 0 && (\r\n             <Circle\r\n                center={center}\r\n                pathOptions={{ fillColor: '#3D84ED', color: '#3D84ED', fillOpacity: 0.2 }}\r\n                radius={radiusMeters}\r\n             />\r\n        )}\r\n        \r\n        {visibleLocations.map(loc => (\r\n          <Marker key={loc.id} position={[loc.lat, loc.lng]}>\r\n            <Popup>\r\n              <div className=\"text-sm\">\r\n                <strong className=\"block mb-1\">{loc.name}</strong>\r\n                <span className=\"text-xs text-gray-500\">{loc.address || \"Location Hidden\"}</span>\r\n              </div>\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["DefaultIcon","L","icon","iconShadow","ChangeView","center","zoom","map","useMap","useEffect","StudioMap","locations","height","drawRadius","radiusMiles","visibleLocations","loc","radiusMeters","jsx","jsxs","MapContainer","TileLayer","Circle","Marker","Popup"],"mappings":"sJASA,IAAIA,EAAcC,EAAE,KAAK,CACrB,QAASC,EACT,UAAWC,EACX,SAAU,CAAC,GAAI,EAAE,EACjB,WAAY,CAAC,GAAI,EAAE,CACvB,CAAC,EAEDF,EAAE,OAAO,UAAU,QAAQ,KAAOD,EAGlC,SAASI,EAAW,CAAE,OAAAC,EAAQ,KAAAC,GAAQ,CACpC,MAAMC,EAAMC,EAAA,EACZC,OAAAA,EAAAA,UAAU,IAAM,CACdF,EAAI,QAAQF,EAAQC,CAAI,CAC1B,EAAG,CAACD,EAAQC,EAAMC,CAAG,CAAC,EACf,IACT,CAEA,SAAwBG,EAAU,CAC9B,UAAAC,EAAY,CAAA,EACZ,OAAAN,EAAS,CAAC,QAAS,SAAS,EAC5B,KAAAC,EAAO,GACP,OAAAM,EAAS,QACT,WAAAC,EAAa,GACb,YAAAC,EAAc,CAClB,EAAG,CACD,MAAMC,EAAmBJ,EAAU,OAAOK,GACxCA,EAAI,KAAOA,EAAI,MAAQ,CAACA,EAAI,aAAeA,EAAI,YAAA,EAG3CC,EAAeH,EAAc,QAEnC,OAEEI,EAAAA,IAAC,OAAI,UAAU,mFAAmF,MAAO,CAAE,OAAAN,EAAQ,MAAO,MAAA,EACxH,SAAAO,EAAAA,KAACC,GAAa,OAAAf,EAAgB,KAAAC,EAAY,MAAO,CAAE,OAAQ,OAAQ,MAAO,MAAA,EAAU,gBAAiB,GACnG,SAAA,CAAAY,EAAAA,IAACG,EAAA,CACC,YAAY,qFACZ,IAAI,oDAAA,CAAA,EAENH,EAAAA,IAACd,EAAA,CAAW,OAAAC,EAAgB,KAAAC,CAAA,CAAY,EAEvCO,GAAcC,EAAc,GACxBI,EAAAA,IAACI,EAAA,CACE,OAAAjB,EACA,YAAa,CAAE,UAAW,UAAW,MAAO,UAAW,YAAa,EAAA,EACpE,OAAQY,CAAA,CAAA,EAIfF,EAAiB,IAAIC,GACpBE,EAAAA,IAACK,EAAA,CAAoB,SAAU,CAACP,EAAI,IAAKA,EAAI,GAAG,EAC9C,SAAAE,EAAAA,IAACM,GACC,SAAAL,OAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAD,EAAAA,IAAC,SAAA,CAAO,UAAU,aAAc,SAAAF,EAAI,KAAK,QACxC,OAAA,CAAK,UAAU,wBAAyB,SAAAA,EAAI,SAAW,iBAAA,CAAkB,CAAA,CAAA,CAC5E,CAAA,CACF,GANWA,EAAI,EAOjB,CACD,CAAA,CAAA,CACH,CAAA,CACF,CAEJ"}