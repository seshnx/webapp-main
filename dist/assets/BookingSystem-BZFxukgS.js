const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TalentSearch-_ohMNKqo.js","assets/vendor-mIyI6DiM.js","assets/vendor-D33SxI2g.css","assets/config-VNvva2Pv.js","assets/StudioMap-DCmCFrq_.js","assets/vendor-maps-CF7Z95EI.js","assets/vendor-maps-Dgihpmma.css","assets/vendor-framer-_HoVf1_M.js","assets/SessionBuilderModal-CVFUtGCJ.js","assets/SessionWizard-BVYH1nCb.js","assets/LocationPicker-BtqBRnH0.js","assets/edu-V9buPGJB.js","assets/chat-P1NCmzAv.js","assets/BroadcastRequest-CD6QlRGZ.js","assets/EquipmentAutocomplete-BdotCIX_.js","assets/index-BCKV8ync.js","assets/index-C4-99t-f.css","assets/BroadcastList-BOZY2kow.js"])))=>i.map(i=>d[i]);
import{_ as N}from"./edu-V9buPGJB.js";import{r as a,j as e,c$ as oe,d0 as ce,d1 as xe,d2 as me,X as ge,c8 as p,cd as L,d3 as G,cR as he,y as X,v as be,i as Z,a1 as fe,F as ue,ce as H,bN as pe,bM as ye,S as je,cm as ve,L as v,P as K,cU as Ne,cL as we,ab as ke}from"./vendor-mIyI6DiM.js";import{C as Se,d as Ce}from"./vendor-calendar-Bm9ELT3v.js";import{b as _e,U as ze}from"./chat-P1NCmzAv.js";import{K as Y,L as Te}from"./index-BCKV8ync.js";import"./config-VNvva2Pv.js";import"./vendor-framer-_HoVf1_M.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};s.SENTRY_RELEASE={id:"local"}}catch{}})();try{(function(){var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},d=new s.Error().stack;d&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[d]="dc28bec5-8a1e-408d-b951-96c9c1902fee",s._sentryDebugIdIdentifier="sentry-dbid-dc28bec5-8a1e-408d-b951-96c9c1902fee")})()}catch{}const Be={"en-US":ce},Ee=Ce({format:oe,startOfWeek:me,getDay:xe,locales:Be});function Ie({events:s,onSelectSlot:d,onSelectEvent:w}){const g=a.useMemo(()=>s.map(l=>({id:l.id,title:l.targetName||"Session",start:l.date?new Date(l.date):new Date,end:l.date?new Date(new Date(l.date).getTime()+l.duration*60*60*1e3):new Date,resource:l})),[s]);return e.jsx("div",{className:"h-[600px] bg-white dark:bg-dark-card rounded-xl p-4 text-gray-800 dark:text-gray-200",children:e.jsx(Se,{localizer:Ee,events:g,startAccessor:"start",endAccessor:"end",style:{height:"100%"},selectable:!0,onSelectSlot:d,onSelectEvent:w,views:["month","week","day"],defaultView:"week",eventPropGetter:l=>({className:"bg-brand-blue text-white rounded-md border-none text-xs"})})})}const $=[{id:"Pending",label:"Created",icon:p},{id:"Confirmed",label:"Deposit",icon:L},{id:"En Route",label:"En Route",icon:G},{id:"In Progress",label:"Started",icon:he},{id:"Completed",label:"Done",icon:X}];function Pe({booking:s,user:d,onClose:w}){var y;const[g,l]=a.useState(s.status),[A,m]=a.useState(!1),k=d.uid===s.targetId,x=d.uid===s.senderId,u=(n=>{const o=$.findIndex(i=>i.id===n);return o===-1?0:o})(g),b=async n=>{if(supabase){m(!0);try{const o=new Date().toISOString(),i=s.statusTimestamps||{};i[n]=o,await supabase.from("bookings").update({status:n,status_timestamps:i,updated_at:o}).eq("id",s.id),l(n),H.success(`Session ${n}`)}catch(o){console.error("Update failed:",o),H.error("Failed to update status")}m(!1)}},z=u/($.length-1)*100;return e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[90] p-4 animate-in fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-[#2c2e36] w-full max-w-3xl rounded-2xl shadow-2xl border dark:border-gray-700 flex flex-col max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-[#23262f]",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-extrabold dark:text-white flex items-center gap-2",children:["Session Details ",e.jsxs("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full font-medium",children:["#",s.id.slice(-6).toUpperCase()]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["With ",x?s.targetName:s.senderName]})]}),e.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"overflow-y-auto p-6 space-y-8",children:[e.jsxs("div",{className:"relative pt-4 pb-8 px-4",children:[e.jsx("div",{className:"absolute top-8 left-0 w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full -z-10"}),e.jsx("div",{className:"absolute top-8 left-0 h-1.5 bg-brand-blue rounded-full -z-10 transition-all duration-700 ease-in-out",style:{width:`${z}%`}}),e.jsx("div",{className:"flex justify-between",children:$.map((n,o)=>{const i=o<=u,S=o===u;return e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:`
                                                w-10 h-10 rounded-full flex items-center justify-center border-4 transition-all duration-500
                                                ${i?"bg-brand-blue border-white dark:border-[#2c2e36] text-white":"bg-gray-200 dark:bg-gray-700 border-white dark:border-[#2c2e36] text-gray-400"}
                                                ${S?"scale-125 shadow-lg ring-4 ring-blue-100 dark:ring-blue-900/50":""}
                                            `,children:e.jsx(n.icon,{size:S?18:16,fill:i?"currentColor":"none"})}),e.jsx("span",{className:`text-xs font-bold uppercase tracking-wider transition-colors ${i?"text-brand-blue":"text-gray-400"}`,children:n.label})]},n.id)})})]}),k&&g!=="Completed"&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-blue-800 dark:text-blue-300",children:"Update Session Status"}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Keep the client informed."})]}),e.jsxs("div",{className:"flex gap-2",children:[g==="Pending"&&e.jsx("button",{onClick:()=>b("Confirmed"),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-xs hover:bg-green-700 transition shadow-sm",children:"Accept & Confirm"}),g==="Confirmed"&&e.jsxs("button",{onClick:()=>b("En Route"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-xs hover:bg-blue-700 transition shadow-sm flex items-center gap-1",children:[e.jsx(G,{size:14})," I'm En Route"]}),g==="En Route"&&e.jsxs("button",{onClick:()=>b("In Progress"),className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-xs hover:bg-purple-700 transition shadow-sm flex items-center gap-1",children:[e.jsx(be,{size:14})," Start Session"]}),g==="In Progress"&&e.jsxs("button",{onClick:()=>b("Completed"),className:"bg-gray-900 dark:bg-white dark:text-black text-white px-4 py-2 rounded-lg font-bold text-xs hover:opacity-90 transition shadow-sm flex items-center gap-1",children:[e.jsx(X,{size:14})," Complete Session"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase border-b dark:border-gray-700 pb-2",children:"Logistics"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg",children:e.jsx(p,{size:20,className:"text-brand-blue"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Date"}),e.jsx("div",{className:"dark:text-white font-medium",children:s.date})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg",children:e.jsx(Z,{size:20,className:"text-brand-blue"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Time"}),e.jsxs("div",{className:"dark:text-white font-medium",children:[s.time," (",s.duration," hrs)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg",children:e.jsx(fe,{size:20,className:"text-brand-blue"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Location"}),e.jsx("div",{className:"dark:text-white font-medium",children:((y=s.venue)==null?void 0:y.name)||"Remote / TBD"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase border-b dark:border-gray-700 pb-2",children:"Financials"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg",children:e.jsx(L,{size:20,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total Value"}),e.jsxs("div",{className:"dark:text-white font-mono font-bold text-lg",children:["$",s.offerAmount]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg",children:e.jsx(ue,{size:20,className:"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Agreement"}),e.jsx("div",{className:"text-brand-blue text-xs font-bold cursor-pointer hover:underline",children:"View Contract"})]})]})]})]}),s.message&&e.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-4 rounded-xl border dark:border-gray-700",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Notes"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 italic",children:['"',s.message,'"']})]})]})]})})}const Re=a.lazy(()=>N(()=>import("./TalentSearch-_ohMNKqo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),$e=a.lazy(()=>N(()=>import("./SessionBuilderModal-CVFUtGCJ.js"),__vite__mapDeps([8,1,2]))),Le=a.lazy(()=>N(()=>import("./SessionWizard-BVYH1nCb.js"),__vite__mapDeps([9,1,2,10,11,3,12,7,4,5,6]))),Ae=a.lazy(()=>N(()=>import("./BroadcastRequest-CD6QlRGZ.js"),__vite__mapDeps([13,1,2,3,4,5,6,10,11,12,7,14,15,16]))),Fe=a.lazy(()=>N(()=>import("./BroadcastList-BOZY2kow.js"),__vite__mapDeps([17,1,2,11,3,12,7])));function Ke({user:s,userData:d,subProfiles:w,openPublicProfile:g}){var q;const l=pe(),A=ye(),{t:m}=_e(),k=t=>{const r=t.split("/").filter(Boolean);return r[0]==="bookings"&&r[1]?r[1]:"my-bookings"},[x,_]=a.useState(()=>k(l.pathname)),[u,b]=a.useState([]),[z,y]=a.useState(!0),[n,o]=a.useState(null),[i,S]=a.useState("all"),[C,J]=a.useState("all"),[Q,T]=a.useState(!1),[ee,F]=a.useState([]),[te,se]=a.useState(null),[ae,M]=a.useState(!1),[D,B]=a.useState(!1),[E,I]=a.useState(!1),P=a.useRef(null),U=(q=d==null?void 0:d.accountTypes)==null?void 0:q.includes("Studio");a.useEffect(()=>{const t=k(l.pathname);t!==x&&_(t)},[l.pathname]);const j=t=>{_(t),A(`/bookings/${t}`,{replace:!0})};a.useEffect(()=>{const t=r=>{P.current&&!P.current.contains(r.target)&&I(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const re=[{id:"my-bookings",label:m("myBookings"),icon:p},{id:"calendar",label:m("calendar"),icon:p}],O=[{id:"find-talent",label:m("findTalent"),icon:je},{id:"broadcast-list",label:m("broadcasts"),icon:ve}];a.useEffect(()=>{if(!(d!=null&&d.id)&&!(s!=null&&s.id)&&!(s!=null&&s.uid))return;const t=async()=>{y(!0);try{const c=(d==null?void 0:d.id)||(s==null?void 0:s.id)||(s==null?void 0:s.uid),h=await Y(c,{limit:100});b(h||[])}catch(c){console.error("Error loading bookings:",c)}finally{y(!1)}};t();const r=setInterval(()=>{t()},3e4);return()=>{clearInterval(r)}},[s==null?void 0:s.id,s==null?void 0:s.uid]);const R=u.filter(t=>{if(i!=="all"&&(i==="pending"&&t.status!=="Pending"||i==="confirmed"&&t.status!=="Confirmed"||i==="completed"&&t.status!=="Completed"||i==="cancelled"&&t.status!=="Cancelled"))return!1;if(C!=="all"){const r=(s==null?void 0:s.id)||(s==null?void 0:s.uid);if(C==="sent"&&t.sender_id!==r||C==="received"&&t.target_id!==r)return!1}return!0}),V=U?u.filter(t=>{const r=(s==null?void 0:s.id)||(s==null?void 0:s.uid);return t.target_id===r||t.sender_id===r}):[],de=t=>{if(!t||t==="Flexible")return"Flexible";try{return new Date(t).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}catch{return t}},ne=t=>{if(!t||t==="Flexible")return"Flexible";try{const[r,c]=t.split(":"),h=parseInt(r),f=h>=12?"PM":"AM";return`${h%12||12}:${c} ${f}`}catch{return t}},le=t=>{switch(t){case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Confirmed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Declined":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},W=async(t,r)=>{try{await Te(t,r==="accept"?"Confirmed":r==="decline"?"Declined":"Pending");const h=(d==null?void 0:d.id)||(s==null?void 0:s.id)||(s==null?void 0:s.uid),f=await Y(h,{limit:100});b(f||[])}catch(c){console.error("Error updating booking:",c),alert("Failed to update booking")}},ie=R.map(t=>({id:t.id,title:t.target_name||t.sender_name||"Session",start:t.date&&t.date!=="Flexible"?new Date(`${t.date}T${t.time||"12:00"}`):new Date,end:t.date&&t.date!=="Flexible"&&t.duration?new Date(new Date(`${t.date}T${t.time||"12:00"}`).getTime()+t.duration*60*60*1e3):new Date,resource:t}));return z?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(v,{className:"animate-spin text-brand-blue",size:32})}):e.jsxs("div",{className:"h-full flex flex-col p-fluid gap-fluid",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:m("bookings")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:m("manageSessions")})]}),e.jsxs("button",{onClick:()=>{M(!0),j("session-builder")},className:"flex items-center gap-2 px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(K,{size:18}),m("newSession")]})]}),e.jsxs("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700 items-end",children:[re.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>j(t.id),className:`px-4 py-2 font-medium text-sm transition-colors flex items-center gap-2 ${x===t.id?"border-b-2 border-brand-blue text-brand-blue":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(r,{size:16}),t.label]},t.id)}),e.jsxs("div",{className:"relative ml-auto",ref:P,children:[e.jsxs("button",{onClick:()=>I(!E),className:`px-4 py-2 font-medium text-sm transition-colors flex items-center gap-2 ${O.some(t=>x===t.id)?"border-b-2 border-brand-blue text-brand-blue":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Ne,{size:16}),"More",e.jsx(we,{size:14,className:`transition-transform ${E?"rotate-180":""}`})]}),E&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-[#1f2128] border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 py-1",children:O.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>{j(t.id),I(!1)},className:`w-full flex items-center gap-2 px-4 py-2 text-sm transition-colors ${x===t.id?"bg-blue-50 text-brand-blue dark:bg-blue-900/20 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx(r,{size:16}),t.label]},t.id)})})]})]}),U&&x==="my-bookings"&&e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4",children:[e.jsx("h2",{className:"text-lg font-bold text-indigo-900 dark:text-indigo-300 mb-3",children:"Studio Bookings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-400 mb-2",children:["Booked Me (",V.filter(t=>t.target_id===((s==null?void 0:s.id)||(s==null?void 0:s.uid))).length,")"]}),e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:"Bookings where clients booked your studio"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-400 mb-2",children:["We Booked (",V.filter(t=>t.sender_id===((s==null?void 0:s.id)||(s==null?void 0:s.uid))).length,")"]}),e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:"Bookings your studio made for other services"})]})]})]}),x==="my-bookings"&&e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{size:16,className:"text-gray-500"}),e.jsxs("select",{value:i,onChange:t=>S(t.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("select",{value:C,onChange:t=>J(t.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-sm",children:[e.jsx("option",{value:"all",children:"All Bookings"}),e.jsx("option",{value:"sent",children:"I Booked"}),e.jsx("option",{value:"received",children:"Booked Me"})]})]}),R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No bookings found"})]}):e.jsx("div",{className:"space-y-3",children:R.map(t=>{const r=(s==null?void 0:s.id)||(s==null?void 0:s.uid),c=t.sender_id===r,h=t.target_id===r;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(t),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ze,{src:null,name:c?t.target_name:t.sender_name,size:"sm"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold dark:text-white",children:c?t.target_name:t.sender_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c?"You booked":"Booked you"," â€¢ ",t.service_type]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{size:14}),de(t.date)]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{size:14}),ne(t.time)," (",t.duration,"h)"]}),t.offer_amount&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{size:14}),"$",t.offer_amount]})]}),t.message&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:t.message})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${le(t.status)}`,children:t.status}),h&&t.status==="Pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:f=>{f.stopPropagation(),W(t.id,"accept")},className:"px-3 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:"Accept"}),e.jsx("button",{onClick:f=>{f.stopPropagation(),W(t.id,"decline")},className:"px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:"Decline"})]})]})]})},t.id)})})]}),x==="calendar"&&e.jsx("div",{className:"flex-1",children:e.jsx(Ie,{events:ie,onSelectEvent:t=>o(t.resource),onSelectSlot:t=>{console.log("New booking slot:",t)}})}),x==="find-talent"&&e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(v,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(Re,{user:s,userData:d,openPublicProfile:g||(()=>{})})})}),x==="session-builder"&&ae&&e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(v,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(Le,{userData:d,sessionParams:te,setSessionParams:se,onNext:()=>{M(!1),T(!0)}})})}),n&&e.jsx(Pe,{booking:{...n,targetId:n.target_id,senderId:n.sender_id,targetName:n.target_name,senderName:n.sender_name},user:{...s,uid:(s==null?void 0:s.id)||(s==null?void 0:s.uid)},onClose:()=>o(null)}),x==="broadcast-list"&&!D&&e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Active Broadcasts"}),e.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(K,{size:18}),m("createBroadcast")]})]}),e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(v,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(Fe,{user:s,userData:d,onBid:t=>{console.log("Bid on broadcast:",t)}})})]}),x==="broadcast-list"&&D&&e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(v,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(Ae,{user:s,userData:d,onBack:()=>{B(!1)},onSuccess:()=>{B(!1),window.location.reload()}})})}),Q&&e.jsx(a.Suspense,{fallback:null,children:e.jsx($e,{user:s,userData:d,cart:ee,onRemoveFromCart:t=>{F(r=>r.filter((c,h)=>h!==t))},onClose:()=>{T(!1),j("my-bookings")},onComplete:()=>{T(!1),F([]),j("my-bookings"),window.location.reload()}})})]})}export{Ke as default};
