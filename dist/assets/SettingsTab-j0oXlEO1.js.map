{"version":3,"file":"SettingsTab-j0oXlEO1.js","sources":["../../src/components/SettingsTab.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n    X, Loader2, Settings, Bell, Shield, Moon, Users, RefreshCw, Star, \r\n    Filter, Lock, AlertTriangle, Key, Mail, CheckCircle, Eye, MapPin, \r\n    MessageSquare, UserX, Download, Globe, Calendar, ShoppingBag, \r\n    Image, Accessibility, Zap, Clock, Volume2, VolumeX, Monitor,\r\n    Smartphone, Wifi, HardDrive, Languages, DollarSign, Video,\r\n    FileText, Search, UserCheck, UserPlus, EyeOff, Hash, Save\r\n} from 'lucide-react';\r\nimport { supabase } from '../config/supabase';\r\nimport { ACCOUNT_TYPES } from '../config/constants';\r\nimport { useSettings } from '../hooks/useSettings';\r\nimport { useLanguage } from '../contexts/LanguageContext';\r\n\r\n// Roles that should never be shown in account settings (managed through other systems)\r\nconst HIDDEN_ROLES = ['Student', 'EDUStaff', 'Intern', 'EDUAdmin', 'GAdmin'];\r\n\r\n// Tab definitions - will be translated in component\r\nconst SETTINGS_TABS = [\r\n    { id: 'general', labelKey: 'general', icon: Settings },\r\n    { id: 'security', labelKey: 'security', icon: Shield },\r\n    { id: 'notifications', labelKey: 'notifications', icon: Bell },\r\n    { id: 'messaging', labelKey: 'messaging', icon: MessageSquare },\r\n    { id: 'social', labelKey: 'social', icon: Users },\r\n    { id: 'bookings', labelKey: 'bookings', icon: Calendar },\r\n    { id: 'marketplace', labelKey: 'marketplace', icon: ShoppingBag },\r\n    { id: 'content', labelKey: 'content', icon: Image },\r\n    { id: 'accessibility', labelKey: 'accessibility', icon: Accessibility },\r\n    { id: 'performance', labelKey: 'performance', icon: Zap },\r\n];\r\n\r\nexport default function SettingsTab({ user, userData, onUpdate, onRoleSwitch }) {\r\n    const { t, language } = useLanguage();\r\n    const [activeTab, setActiveTab] = useState('general');\r\n    const [localSettings, setLocalSettings] = useState(() => {\r\n        const defaults = {\r\n            // General\r\n            theme: 'system',\r\n            language: 'en',\r\n            dateFormat: 'MM/DD/YYYY',\r\n            timeFormat: '12h',\r\n            timezone: 'auto',\r\n            currency: 'USD',\r\n            numberFormat: '1,000.00',\r\n            \r\n            // Security & Privacy\r\n            privacy: {\r\n                publicProfile: true,\r\n                showLocation: true,\r\n                hideProfile: false,\r\n                showEmail: false,\r\n                showPhone: false,\r\n                showOnlineStatus: true,\r\n                showLastSeen: true,\r\n                allowSearchEngines: false,\r\n                allowTagging: true,\r\n                reviewTagsBeforeAppear: false,\r\n                showFollowingList: true,\r\n                showFollowersList: true,\r\n            },\r\n            twoFactorEnabled: false,\r\n            \r\n            // Notifications\r\n            notifications: {\r\n                email: true,\r\n                push: true,\r\n                marketing: false,\r\n                booking: {\r\n                    newRequests: true,\r\n                    confirmations: true,\r\n                    reminders: true,\r\n                    cancellations: true,\r\n                },\r\n                social: {\r\n                    likes: true,\r\n                    comments: true,\r\n                    follows: true,\r\n                    mentions: true,\r\n                    reposts: true,\r\n                },\r\n                marketplace: {\r\n                    newOffers: true,\r\n                    sales: true,\r\n                    messages: true,\r\n                },\r\n                system: {\r\n                    maintenance: true,\r\n                    updates: true,\r\n                    security: true,\r\n                },\r\n                quietHours: {\r\n                    enabled: false,\r\n                    start: '22:00',\r\n                    end: '08:00',\r\n                },\r\n                soundEnabled: true,\r\n                badgeCount: true,\r\n            },\r\n            \r\n            // Messaging\r\n            messaging: {\r\n                readReceipts: true,\r\n                typingIndicators: true,\r\n                messageRequests: true,\r\n                whoCanMessage: 'everyone', // 'everyone', 'followers', 'none'\r\n                autoArchive: false,\r\n                soundNotifications: true,\r\n                previewInNotifications: true,\r\n                mutedThreads: [],\r\n                blockedContacts: [],\r\n            },\r\n            \r\n            // Social & Feed\r\n            social: {\r\n                feedAlgorithm: 'recommended', // 'chronological', 'recommended', 'following'\r\n                autoPlayVideos: true,\r\n                showSensitiveContentWarning: true,\r\n                showActivityStatus: true,\r\n                showSuggestedAccounts: true,\r\n                mutedUsers: [],\r\n                blockedUsers: [],\r\n            },\r\n            contentFiltering: {\r\n                sensitivityFilter: 'medium', // 'off', 'low', 'medium', 'high'\r\n                hideKeywords: [],\r\n                muteWords: [],\r\n                autoHideReported: true,\r\n                showAgeRestricted: false,\r\n            },\r\n            \r\n            // Bookings\r\n            bookings: {\r\n                autoAccept: false,\r\n                autoAcceptCriteria: {},\r\n                defaultBufferTime: 15, // minutes\r\n                showAvailabilityPublicly: false,\r\n                requireDeposit: false,\r\n                autoDeclineExpired: true,\r\n                defaultSessionDuration: 60, // minutes\r\n                notifications: {\r\n                    newRequests: true,\r\n                    confirmations: true,\r\n                    reminders: true,\r\n                    cancellations: true,\r\n                },\r\n            },\r\n            \r\n            // Marketplace\r\n            marketplace: {\r\n                autoListItems: false,\r\n                requireApproval: true,\r\n                defaultShippingMethod: 'standard',\r\n                defaultPaymentTerms: 'immediate',\r\n                autoAcceptOffersAbove: false,\r\n                autoAcceptThreshold: 0,\r\n                showSoldItems: true,\r\n                notifications: {\r\n                    newOffers: true,\r\n                    sales: true,\r\n                    messages: true,\r\n                },\r\n            },\r\n            \r\n            // Content & Media\r\n            content: {\r\n                imageQuality: 'high', // 'high', 'medium', 'low'\r\n                videoQuality: 'high',\r\n                autoSaveUploaded: true,\r\n                compressImages: true,\r\n                maxUploadSize: 10, // MB\r\n            },\r\n            \r\n            // Accessibility\r\n            accessibility: {\r\n                fontSize: 'medium', // 'small', 'medium', 'large', 'xlarge'\r\n                reducedMotion: false,\r\n                highContrast: false,\r\n                screenReaderAnnouncements: true,\r\n                keyboardHints: true,\r\n            },\r\n            \r\n            // Performance\r\n            performance: {\r\n                dataUsage: 'auto', // 'wifi-only', 'auto', 'never'\r\n                offlineMode: false,\r\n                backgroundSync: true,\r\n                autoClearOldNotifications: true,\r\n                autoClearAfterDays: 30,\r\n            },\r\n            \r\n            // Legacy/Other\r\n            preferences: {\r\n                seeAllProfiles: false,\r\n            },\r\n        };\r\n        \r\n        // Merge with existing settings\r\n        return { ...defaults, ...(userData?.settings || {}) };\r\n    });\r\n    \r\n    const [roles, setRoles] = useState(userData?.accountTypes || []);\r\n    const [preferredRole, setPreferredRole] = useState(userData?.preferredRole || roles[0]);\r\n    const [activeRole, setActiveRole] = useState(userData?.activeProfileRole || roles[0]);\r\n    const [saving, setSaving] = useState(false);\r\n    const [exporting, setExporting] = useState(false);\r\n    const [activeSessions, setActiveSessions] = useState([]);\r\n    \r\n    // Deletion State\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const [deleteConfirm, setDeleteConfirm] = useState('');\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    \r\n    // Security / Account State\r\n    const [showSecurityModal, setShowSecurityModal] = useState(false);\r\n    const [securityAction, setSecurityAction] = useState(null);\r\n    const [securityForm, setSecurityForm] = useState({ newEmail: '', newPassword: '', currentPassword: '' });\r\n    const [isSecurityLoading, setIsSecurityLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (userData?.activeProfileRole) {\r\n            setActiveRole(userData.activeProfileRole);\r\n        }\r\n    }, [userData?.activeProfileRole]);\r\n\r\n    // Apply settings immediately when they change\r\n    useSettings(localSettings, userData);\r\n\r\n    // Generic Toggle Handler - applies immediately\r\n    const handleToggle = (category, key, subKey = null) => {\r\n        setLocalSettings(prev => {\r\n            const updated = { ...prev };\r\n            if (subKey) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: {\r\n                        ...prev[category]?.[key],\r\n                        [subKey]: !prev[category]?.[key]?.[subKey]\r\n                    }\r\n                };\r\n            } else if (category && key) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: !prev[category]?.[key]\r\n                };\r\n            } else {\r\n                updated[key] = !prev[key];\r\n            }\r\n            // Apply immediately and save\r\n            onUpdate(updated);\r\n            // Auto-save to database\r\n            if (supabase && user?.id) {\r\n                supabase\r\n                    .from('profiles')\r\n                    .update({\r\n                        settings: updated,\r\n                        updated_at: new Date().toISOString()\r\n                    })\r\n                    .eq('id', user.id)\r\n                    .then(() => {\r\n                        // Silently saved\r\n                    })\r\n                    .catch(err => console.error('Auto-save failed:', err));\r\n            }\r\n            return updated;\r\n        });\r\n    };\r\n\r\n    const handleValueChange = (category, key, value, subKey = null) => {\r\n        setLocalSettings(prev => {\r\n            const updated = { ...prev };\r\n            if (subKey) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: {\r\n                        ...prev[category]?.[key],\r\n                        [subKey]: value\r\n                    }\r\n                };\r\n            } else if (category && key) {\r\n                updated[category] = {\r\n                    ...prev[category],\r\n                    [key]: value\r\n                };\r\n            } else {\r\n                updated[key] = value;\r\n            }\r\n            // Apply immediately and save\r\n            onUpdate(updated);\r\n            // Auto-save to database\r\n            if (supabase && user?.id) {\r\n                supabase\r\n                    .from('profiles')\r\n                    .update({\r\n                        settings: updated,\r\n                        updated_at: new Date().toISOString()\r\n                    })\r\n                    .eq('id', user.id)\r\n                    .then(() => {\r\n                        // Silently saved\r\n                    })\r\n                    .catch(err => console.error('Auto-save failed:', err));\r\n            }\r\n            return updated;\r\n        });\r\n    };\r\n\r\n    const handleThemeChange = (val) => {\r\n        handleValueChange(null, 'theme', val);\r\n    };\r\n\r\n    const saveSettings = async () => {\r\n        if (!supabase || !user) return;\r\n        setSaving(true);\r\n        try {\r\n            await supabase\r\n                .from('profiles')\r\n                .update({\r\n                    settings: localSettings,\r\n                    updated_at: new Date().toISOString()\r\n                })\r\n                .eq('id', user.id);\r\n            \r\n            alert(\"Settings saved successfully!\");\r\n        } catch (e) {\r\n            console.error(e);\r\n            alert(\"Failed to save settings.\");\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const updateAccountTypes = async () => {\r\n        if (roles.length === 0 || !supabase) return alert(\"You must have at least one role.\");\r\n        setSaving(true);\r\n        try {\r\n            await supabase\r\n                .from('profiles')\r\n                .update({ \r\n                    account_types: roles,\r\n                    preferred_role: preferredRole,\r\n                    active_role: activeRole,\r\n                    updated_at: new Date().toISOString()\r\n                })\r\n                .eq('id', user.id);\r\n            \r\n            if (userData && activeRole !== userData.activeProfileRole && onRoleSwitch) {\r\n                onRoleSwitch(activeRole);\r\n            }\r\n            alert(\"Roles & Preferences updated!\");\r\n        } catch (e) {\r\n            console.error(e);\r\n            alert(\"Failed to update.\");\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const toggleRole = (role) => {\r\n        setRoles(prev => prev.includes(role) ? prev.filter(r => r !== role) : [...prev, role]);\r\n    };\r\n\r\n    // Security handlers\r\n    const openSecurityModal = (action) => {\r\n        setSecurityAction(action);\r\n        setSecurityForm({ newEmail: '', newPassword: '', currentPassword: '' });\r\n        setShowSecurityModal(true);\r\n    };\r\n\r\n    const handleSecurityUpdate = async () => {\r\n        if (!securityForm.currentPassword || !supabase) {\r\n            if (!securityForm.currentPassword) alert(\"Current password is required to verify your identity.\");\r\n            return;\r\n        }\r\n        setIsSecurityLoading(true);\r\n\r\n        try {\r\n            const { error: verifyError } = await supabase.auth.signInWithPassword({\r\n                email: user.email,\r\n                password: securityForm.currentPassword\r\n            });\r\n            \r\n            if (verifyError) {\r\n                throw new Error(\"Incorrect current password.\");\r\n            }\r\n\r\n            if (securityAction === 'email') {\r\n                if (!securityForm.newEmail) throw new Error(\"New email address is required.\");\r\n                const { error: emailError } = await supabase.auth.updateUser({ \r\n                    email: securityForm.newEmail \r\n                });\r\n                if (emailError) throw emailError;\r\n                \r\n                await supabase\r\n                    .from('profiles')\r\n                    .update({ email: securityForm.newEmail, updated_at: new Date().toISOString() })\r\n                    .eq('id', user.id);\r\n                \r\n                alert(\"Email updated successfully.\");\r\n            } \r\n            else if (securityAction === 'password') {\r\n                if (securityForm.newPassword.length < 6) throw new Error(\"Password must be at least 6 characters.\");\r\n                const { error: passwordError } = await supabase.auth.updateUser({ \r\n                    password: securityForm.newPassword \r\n                });\r\n                if (passwordError) throw passwordError;\r\n                alert(\"Password updated successfully.\");\r\n            }\r\n\r\n            setShowSecurityModal(false);\r\n            setSecurityForm({ newEmail: '', newPassword: '', currentPassword: '' });\r\n\r\n        } catch (e) {\r\n            console.error(\"Security Update Error:\", e);\r\n            if (e.message?.includes('Incorrect current password') || e.message?.includes('Invalid')) {\r\n                alert(\"Incorrect current password.\");\r\n            } else if (e.message?.includes('already registered') || e.message?.includes('already in use')) {\r\n                alert(\"This email is already associated with another account.\");\r\n            } else {\r\n                alert(\"Failed to update: \" + e.message);\r\n            }\r\n        }\r\n        setIsSecurityLoading(false);\r\n    };\r\n\r\n    const handleDataExport = async () => {\r\n        if (!supabase || !user) {\r\n            alert(\"Unable to export data. Please ensure you're logged in.\");\r\n            return;\r\n        }\r\n        \r\n        setExporting(true);\r\n        try {\r\n            const userId = user.id;\r\n            \r\n            const [profile, wallet, bookings, reviews, follows, notifications] = await Promise.all([\r\n                supabase.from('profiles').select('*').eq('id', userId).single(),\r\n                supabase.from('wallets').select('*').eq('user_id', userId).single(),\r\n                supabase.from('bookings').select('*').or(`sender_id.eq.${userId},target_id.eq.${userId}`).limit(1000),\r\n                supabase.from('reviews').select('*').or(`reviewer_id.eq.${userId},target_id.eq.${userId}`).limit(1000),\r\n                supabase.from('follows').select('*').or(`follower_id.eq.${userId},following_id.eq.${userId}`).limit(1000),\r\n                supabase.from('notifications').select('*').eq('user_id', userId).limit(1000)\r\n            ]);\r\n            \r\n            const { data: subProfiles } = await supabase\r\n                .from('sub_profiles')\r\n                .select('*')\r\n                .eq('user_id', userId);\r\n            \r\n            const exportData = {\r\n                exportDate: new Date().toISOString(),\r\n                userId: userId,\r\n                profile: profile.data || null,\r\n                wallet: wallet.data || null,\r\n                subProfiles: subProfiles || [],\r\n                bookings: bookings.data || [],\r\n                reviews: reviews.data || [],\r\n                follows: follows.data || [],\r\n                notifications: notifications.data || []\r\n            };\r\n            \r\n            const jsonString = JSON.stringify(exportData, null, 2);\r\n            const blob = new Blob([jsonString], { type: 'application/json' });\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.download = `seshnx_data_export_${new Date().toISOString().slice(0,10)}.json`;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            URL.revokeObjectURL(url);\r\n            \r\n            alert(\"Your data has been downloaded successfully.\");\r\n        } catch (e) {\r\n            console.error(\"Data export error:\", e);\r\n            alert(\"Failed to export data: \" + (e.message || \"Unknown error\"));\r\n        }\r\n        setExporting(false);\r\n    };\r\n\r\n    const handleDeleteAccount = async () => {\r\n        if (deleteConfirm !== 'DELETE' || !supabase || !user) return;\r\n        setIsDeleting(true);\r\n        const userId = user.id;\r\n        \r\n        try {\r\n            const relatedTables = [\r\n                'profiles', 'wallets', 'notifications', 'saved_posts',\r\n                'followers', 'following', 'posts', 'comments', 'bookings',\r\n                'marketplace_items', 'distribution_releases', 'equipment_submissions',\r\n                'safe_exchange_transactions', 'shipping_transactions'\r\n            ];\r\n            \r\n            for (const table of relatedTables) {\r\n                try {\r\n                    const deleteQueries = [];\r\n                    \r\n                    if (table === 'profiles' || table === 'wallets') {\r\n                        deleteQueries.push(supabase.from(table).delete().eq('id', userId));\r\n                    } else if (table === 'notifications' || table === 'saved_posts') {\r\n                        deleteQueries.push(supabase.from(table).delete().eq('user_id', userId));\r\n                    } else if (table === 'followers') {\r\n                        deleteQueries.push(\r\n                            supabase.from(table).delete().eq('follower_id', userId),\r\n                            supabase.from(table).delete().eq('following_id', userId)\r\n                        );\r\n                    } else if (table === 'following') {\r\n                        deleteQueries.push(\r\n                            supabase.from(table).delete().eq('user_id', userId),\r\n                            supabase.from(table).delete().eq('target_id', userId)\r\n                        );\r\n                    } else if (table === 'posts' || table === 'comments') {\r\n                        deleteQueries.push(supabase.from(table).delete().eq('user_id', userId));\r\n                    } else if (table === 'bookings') {\r\n                        deleteQueries.push(\r\n                            supabase.from(table).delete().eq('sender_id', userId),\r\n                            supabase.from(table).delete().eq('target_id', userId)\r\n                        );\r\n                    } else if (table === 'marketplace_items') {\r\n                        deleteQueries.push(supabase.from(table).delete().eq('seller_id', userId));\r\n                    } else if (table === 'distribution_releases') {\r\n                        deleteQueries.push(supabase.from(table).delete().eq('uploader_id', userId));\r\n                    } else if (table === 'equipment_submissions') {\r\n                        deleteQueries.push(supabase.from(table).delete().eq('submitted_by', userId));\r\n                    } else if (table === 'safe_exchange_transactions') {\r\n                        deleteQueries.push(\r\n                            supabase.from(table).delete().eq('buyer_id', userId),\r\n                            supabase.from(table).delete().eq('seller_id', userId)\r\n                        );\r\n                    } else if (table === 'shipping_transactions') {\r\n                        deleteQueries.push(\r\n                            supabase.from(table).delete().eq('buyer_id', userId),\r\n                            supabase.from(table).delete().eq('seller_id', userId)\r\n                        );\r\n                    }\r\n                    \r\n                    await Promise.all(deleteQueries);\r\n                } catch (tableError) {\r\n                    console.warn(`Could not delete from ${table}:`, tableError);\r\n                }\r\n            }\r\n            \r\n            const { error: deleteError } = await supabase.auth.admin.deleteUser(userId);\r\n            \r\n            if (deleteError) {\r\n                console.warn(\"Admin delete failed, using signOut:\", deleteError);\r\n                await supabase.auth.signOut();\r\n                alert(\"Account data has been deleted. Please contact support to complete account deletion if needed.\");\r\n            } else {\r\n                alert(\"Account successfully deleted.\");\r\n            }\r\n            \r\n            setShowDeleteModal(false);\r\n            setDeleteConfirm('');\r\n            window.location.href = '/';\r\n            \r\n        } catch (error) {\r\n            console.error(\"Deletion Error:\", error);\r\n            alert(\"Failed to delete account: \" + (error.message || \"Unknown error. Please contact support.\"));\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n\r\n    const clearCache = () => {\r\n        if ('caches' in window) {\r\n            caches.keys().then(names => {\r\n                names.forEach(name => caches.delete(name));\r\n            });\r\n        }\r\n        localStorage.clear();\r\n        sessionStorage.clear();\r\n        alert(\"Cache cleared successfully!\");\r\n    };\r\n\r\n    // Helper components\r\n    const ToggleSwitch = ({ checked, onChange, label, description, icon: Icon }) => (\r\n        <div className=\"flex items-center justify-between p-3 border rounded-lg dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition\">\r\n            <div className=\"flex items-center gap-3 flex-1\">\r\n                {Icon && <Icon size={16} className=\"text-gray-400 shrink-0\" />}\r\n                <div className=\"flex-1\">\r\n                    <span className=\"text-sm font-medium dark:text-gray-200 block\">{label}</span>\r\n                    {description && <p className=\"text-xs text-gray-500 mt-0.5\">{description}</p>}\r\n                </div>\r\n            </div>\r\n            <div \r\n                onClick={onChange}\r\n                className={`w-10 h-5 rounded-full p-0.5 flex cursor-pointer transition-colors shrink-0 ${\r\n                    checked ? 'bg-brand-blue justify-end' : 'bg-gray-300 dark:bg-gray-600 justify-start'\r\n                }`}\r\n            >\r\n                <div className=\"w-4 h-4 bg-white rounded-full shadow-sm\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const SelectField = ({ label, value, onChange, options, icon: Icon, description }) => (\r\n        <div className=\"space-y-1\">\r\n            <label className=\"text-xs font-bold text-gray-500 uppercase flex items-center gap-1\">\r\n                {Icon && <Icon size={12} />}\r\n                {label}\r\n            </label>\r\n            {description && <p className=\"text-xs text-gray-500\">{description}</p>}\r\n            <select \r\n                className=\"w-full p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                value={value}\r\n                onChange={e => onChange(e.target.value)}\r\n            >\r\n                {options.map(opt => (\r\n                    <option key={typeof opt === 'object' ? opt.value : opt} value={typeof opt === 'object' ? opt.value : opt}>\r\n                        {typeof opt === 'object' ? opt.label : opt}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n\r\n    const NumberInput = ({ label, value, onChange, min, max, unit, icon: Icon, description }) => (\r\n        <div className=\"space-y-1\">\r\n            <label className=\"text-xs font-bold text-gray-500 uppercase flex items-center gap-1\">\r\n                {Icon && <Icon size={12} />}\r\n                {label}\r\n            </label>\r\n            {description && <p className=\"text-xs text-gray-500\">{description}</p>}\r\n            <div className=\"flex items-center gap-2\">\r\n                <input \r\n                    type=\"number\"\r\n                    className=\"flex-1 p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                    value={value}\r\n                    onChange={e => onChange(Number(e.target.value))}\r\n                    min={min}\r\n                    max={max}\r\n                />\r\n                {unit && <span className=\"text-xs text-gray-500\">{unit}</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const ListManager = ({ title, items, type, icon: Icon }) => (\r\n        <div className=\"mt-4 border-t dark:border-gray-700 pt-4\">\r\n            <h5 className=\"text-sm font-bold dark:text-gray-300 mb-2 flex items-center gap-2\">\r\n                <Icon size={14}/> {title}\r\n            </h5>\r\n            {items && items.length > 0 ? (\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                    {items.map((id, i) => (\r\n                        <span key={i} className=\"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded flex items-center gap-1 text-gray-600 dark:text-gray-300\">\r\n                            {id.substring(0,8)}... <X size={10} className=\"cursor-pointer hover:text-red-500\"/>\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                <p className=\"text-xs text-gray-400 italic\">No active {type}.</p>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const displayedRoles = ACCOUNT_TYPES.filter(role => !HIDDEN_ROLES.includes(role));\r\n    const activeTabInfo = SETTINGS_TABS.find(t => t.id === activeTab);\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-20\">\r\n            {/* Tab Navigation */}\r\n            <div className=\"bg-white dark:bg-[#2c2e36] rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden\">\r\n                <div className=\"flex overflow-x-auto scrollbar-hide border-b dark:border-gray-700\">\r\n                    {SETTINGS_TABS.map(tab => {\r\n                        const TabIcon = tab.icon;\r\n                        return (\r\n                            <button\r\n                                key={tab.id}\r\n                                onClick={() => setActiveTab(tab.id)}\r\n                                className={`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${\r\n                                    activeTab === tab.id\r\n                                        ? 'border-brand-blue text-brand-blue bg-blue-50 dark:bg-blue-900/20'\r\n                                        : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800'\r\n                                }`}\r\n                            >\r\n                                <TabIcon size={16} />\r\n                                {t(tab.labelKey)}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"bg-white dark:bg-[#2c2e36] p-6 rounded-xl border dark:border-gray-700 shadow-sm\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                    <h3 className=\"font-bold text-lg dark:text-white flex items-center gap-2\">\r\n                        {activeTabInfo && <activeTabInfo.icon size={18} className=\"text-brand-blue\" />}\r\n                        {activeTabInfo ? t(activeTabInfo.labelKey) : t('general')}\r\n                    </h3>\r\n                    <button\r\n                        onClick={saveSettings}\r\n                        disabled={saving}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 text-sm font-medium transition\"\r\n                    >\r\n                        {saving ? <Loader2 className=\"animate-spin\" size={16} /> : <Save size={16} />}\r\n                        {t('saveAll')}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* General Tab */}\r\n                {activeTab === 'general' && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Roles & Workflow */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Users size={16} className=\"text-purple-500\"/> {t('rolesWorkflow')}\r\n                            </h4>\r\n                            \r\n                            <div className=\"mb-4\">\r\n                                <label className=\"text-xs font-bold text-gray-500 uppercase block mb-2\">{t('activeAccountTypes')}</label>\r\n                                <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                                    {displayedRoles.map(role => (\r\n                                        <button \r\n                                            key={role} \r\n                                            onClick={() => toggleRole(role)}\r\n                                            className={`px-3 py-1.5 rounded-full text-xs font-bold transition border ${\r\n                                                roles.includes(role) \r\n                                                    ? 'bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-700 dark:text-purple-300' \r\n                                                    : 'bg-gray-50 border-gray-200 text-gray-500 dark:bg-transparent dark:border-gray-600 dark:text-gray-400'\r\n                                            }`}\r\n                                        >\r\n                                            {role}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                                <SelectField\r\n                                    label={t('preferredProfile')}\r\n                                    value={preferredRole}\r\n                                    onChange={setPreferredRole}\r\n                                    options={roles.filter(r => !HIDDEN_ROLES.includes(r))}\r\n                                    icon={Star}\r\n                                />\r\n                                <SelectField\r\n                                    label={t('activeWorkflowContext')}\r\n                                    value={activeRole}\r\n                                    onChange={setActiveRole}\r\n                                    options={roles.filter(r => !HIDDEN_ROLES.includes(r))}\r\n                                    icon={RefreshCw}\r\n                                />\r\n                            </div>\r\n\r\n                            <ToggleSwitch\r\n                                checked={localSettings.preferences?.seeAllProfiles || false}\r\n                                onChange={() => handleToggle('preferences', 'seeAllProfiles')}\r\n                                label={t('seeAllUnfiltered')}\r\n                                description={t('seeAllDescription')}\r\n                                icon={Filter}\r\n                            />\r\n\r\n                            <button \r\n                                onClick={updateAccountTypes} \r\n                                disabled={saving} \r\n                                className=\"mt-4 w-full bg-purple-600 text-white px-4 py-2.5 rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2 shadow-md transition\"\r\n                            >\r\n                                {saving ? <Loader2 className=\"animate-spin\" size={16}/> : <RefreshCw size={16}/>} {t('saveWorkflowSettings')}\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Appearance */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Moon size={16} className=\"text-purple-500\"/> {t('appearance')}\r\n                            </h4>\r\n                            <div className=\"flex bg-gray-100 dark:bg-black/20 p-1 rounded-lg\">\r\n                                {['light', 'dark', 'system'].map(theme => (\r\n                                    <button \r\n                                        key={theme} \r\n                                        onClick={() => handleThemeChange(theme)}\r\n                                        className={`flex-1 py-2 text-xs font-bold rounded-md capitalize transition-all ${\r\n                                            localSettings.theme === theme \r\n                                                ? 'bg-white dark:bg-gray-700 shadow-sm text-brand-blue' \r\n                                                : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'\r\n                                        }`}\r\n                                    >\r\n                                        {t(theme)}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Language & Localization */}\r\n                        <div className=\"space-y-4\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Languages size={16} className=\"text-blue-500\"/> {t('languageLocalization')}\r\n                            </h4>\r\n                            \r\n                            <SelectField\r\n                                label={t('language')}\r\n                                value={localSettings.language || 'en'}\r\n                                onChange={val => {\r\n                                    handleValueChange(null, 'language', val);\r\n                                    // Update language context immediately\r\n                                    if (typeof window !== 'undefined') {\r\n                                        localStorage.setItem('language', val);\r\n                                        document.documentElement.lang = val;\r\n                                    }\r\n                                }}\r\n                                options={[\r\n                                    { value: 'en', label: 'English' },\r\n                                    { value: 'es', label: 'Español' },\r\n                                    { value: 'fr', label: 'Français' },\r\n                                    { value: 'de', label: 'Deutsch' },\r\n                                ]}\r\n                                icon={Globe}\r\n                            />\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <SelectField\r\n                                    label=\"Date Format\"\r\n                                    value={localSettings.dateFormat || 'MM/DD/YYYY'}\r\n                                    onChange={val => handleValueChange(null, 'dateFormat', val)}\r\n                                    options={['MM/DD/YYYY', 'DD/MM/YYYY', 'YYYY-MM-DD']}\r\n                                />\r\n                                <SelectField\r\n                                    label=\"Time Format\"\r\n                                    value={localSettings.timeFormat || '12h'}\r\n                                    onChange={val => handleValueChange(null, 'timeFormat', val)}\r\n                                    options={['12h', '24h']}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <SelectField\r\n                                    label=\"Timezone\"\r\n                                    value={localSettings.timezone || 'auto'}\r\n                                    onChange={val => handleValueChange(null, 'timezone', val)}\r\n                                    options={[\r\n                                        { value: 'auto', label: 'Auto-detect' },\r\n                                        { value: 'America/New_York', label: 'Eastern Time' },\r\n                                        { value: 'America/Chicago', label: 'Central Time' },\r\n                                        { value: 'America/Denver', label: 'Mountain Time' },\r\n                                        { value: 'America/Los_Angeles', label: 'Pacific Time' },\r\n                                    ]}\r\n                                />\r\n                                <SelectField\r\n                                    label=\"Currency\"\r\n                                    value={localSettings.currency || 'USD'}\r\n                                    onChange={val => handleValueChange(null, 'currency', val)}\r\n                                    options={['USD', 'EUR', 'GBP', 'CAD', 'AUD']}\r\n                                    icon={DollarSign}\r\n                                />\r\n                            </div>\r\n\r\n                            <SelectField\r\n                                label=\"Number Format\"\r\n                                value={localSettings.numberFormat || '1,000.00'}\r\n                                onChange={val => handleValueChange(null, 'numberFormat', val)}\r\n                                options={['1,000.00', '1.000,00', '1 000.00']}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Security & Privacy Tab */}\r\n                {activeTab === 'security' && (\r\n                    <div className=\"space-y-6\">\r\n                        {/* Account Security */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Shield size={16} className=\"text-blue-500\"/> Account Security\r\n                            </h4>\r\n                            \r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex items-center justify-between p-3 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full text-blue-600 dark:text-blue-400\">\r\n                                            <Mail size={18}/>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-sm font-bold dark:text-white\">Email Address</div>\r\n                                            <div className=\"text-xs text-gray-500\">{user.email}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button \r\n                                        onClick={() => openSecurityModal('email')}\r\n                                        className=\"text-xs font-bold bg-white dark:bg-gray-700 border dark:border-gray-600 px-3 py-1.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition\"\r\n                                    >\r\n                                        Change Email\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-center justify-between p-3 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full text-blue-600 dark:text-blue-400\">\r\n                                            <Key size={18}/>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-sm font-bold dark:text-white\">Password</div>\r\n                                            <div className=\"text-xs text-gray-500\">Last changed: Unknown</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button \r\n                                        onClick={() => openSecurityModal('password')}\r\n                                        className=\"text-xs font-bold bg-white dark:bg-gray-700 border dark:border-gray-600 px-3 py-1.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition\"\r\n                                    >\r\n                                        Change Password\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.twoFactorEnabled || false}\r\n                                    onChange={() => handleToggle(null, 'twoFactorEnabled')}\r\n                                    label=\"Two-Factor Authentication (2FA)\"\r\n                                    description=\"Add an extra layer of security to your account\"\r\n                                    icon={Lock}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Privacy Settings */}\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Eye size={16} className=\"text-green-500\"/> Privacy & Visibility\r\n                            </h4>\r\n                            \r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.publicProfile !== false}\r\n                                    onChange={() => handleToggle('privacy', 'publicProfile')}\r\n                                    label=\"Public Profile Visibility\"\r\n                                    description=\"Allow others to view your profile\"\r\n                                    icon={Eye}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showLocation !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showLocation')}\r\n                                    label=\"Show Location on Map\"\r\n                                    description=\"Display your location on studio maps\"\r\n                                    icon={MapPin}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.hideProfile || false}\r\n                                    onChange={() => handleToggle('privacy', 'hideProfile')}\r\n                                    label=\"Hide Profile Completely\"\r\n                                    description=\"Make your profile invisible to others\"\r\n                                    icon={EyeOff}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showEmail || false}\r\n                                    onChange={() => handleToggle('privacy', 'showEmail')}\r\n                                    label=\"Show Email Address\"\r\n                                    description=\"Display your email on your profile\"\r\n                                    icon={Mail}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showPhone || false}\r\n                                    onChange={() => handleToggle('privacy', 'showPhone')}\r\n                                    label=\"Show Phone Number\"\r\n                                    description=\"Display your phone on your profile\"\r\n                                    icon={Smartphone}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showOnlineStatus !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showOnlineStatus')}\r\n                                    label=\"Show Online Status\"\r\n                                    description=\"Let others see when you're online\"\r\n                                    icon={Monitor}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showLastSeen !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showLastSeen')}\r\n                                    label=\"Show Last Seen\"\r\n                                    description=\"Display when you were last active\"\r\n                                    icon={Clock}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.allowSearchEngines || false}\r\n                                    onChange={() => handleToggle('privacy', 'allowSearchEngines')}\r\n                                    label=\"Allow Search Engine Indexing\"\r\n                                    description=\"Let search engines index your profile\"\r\n                                    icon={Search}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.allowTagging !== false}\r\n                                    onChange={() => handleToggle('privacy', 'allowTagging')}\r\n                                    label=\"Allow Tagging\"\r\n                                    description=\"Let others tag you in posts\"\r\n                                    icon={Hash}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.reviewTagsBeforeAppear || false}\r\n                                    onChange={() => handleToggle('privacy', 'reviewTagsBeforeAppear')}\r\n                                    label=\"Review Tags Before They Appear\"\r\n                                    description=\"Approve tags before they show on your profile\"\r\n                                    icon={UserCheck}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showFollowingList !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showFollowingList')}\r\n                                    label=\"Show Following List\"\r\n                                    description=\"Let others see who you follow\"\r\n                                    icon={UserPlus}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.privacy?.showFollowersList !== false}\r\n                                    onChange={() => handleToggle('privacy', 'showFollowersList')}\r\n                                    label=\"Show Followers List\"\r\n                                    description=\"Let others see your followers\"\r\n                                    icon={Users}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Content & Safety */}\r\n                        <div>\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Shield size={16} className=\"text-red-500\"/> Content & Safety\r\n                            </h4>\r\n                            \r\n                            <ListManager \r\n                                title=\"Blocked Users\" \r\n                                items={localSettings.social?.blockedUsers || []} \r\n                                type=\"blocks\" \r\n                                icon={UserX}\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Data Export */}\r\n                        <div className=\"pt-4 border-t dark:border-gray-700\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <span className=\"text-sm font-bold dark:text-white\">Your Data</span>\r\n                                    <p className=\"text-xs text-gray-500\">Download a copy of your personal data (GDPR/CCPA).</p>\r\n                                </div>\r\n                                <button \r\n                                    onClick={handleDataExport} \r\n                                    disabled={exporting}\r\n                                    className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-xs font-bold text-gray-700 dark:text-gray-200 transition\"\r\n                                >\r\n                                    {exporting ? <Loader2 size={14} className=\"animate-spin\"/> : <Download size={14}/>}\r\n                                    Download Data\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Danger Zone */}\r\n                        <div className=\"pt-4 border-t dark:border-gray-700\">\r\n                            <h4 className=\"text-sm font-bold text-red-600 dark:text-red-400 mb-2 flex items-center gap-2\">\r\n                                <Lock size={16}/> Danger Zone\r\n                            </h4>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-4\">\r\n                                Deleting your account is permanent. This action will remove your profile, posts, and messages.\r\n                            </p>\r\n                            \r\n                            {!showDeleteModal ? (\r\n                                <button \r\n                                    onClick={() => setShowDeleteModal(true)}\r\n                                    className=\"bg-red-100 hover:bg-red-200 dark:bg-red-900/40 dark:hover:bg-red-900/60 text-red-700 dark:text-red-300 px-4 py-2 rounded-lg text-sm font-bold transition\"\r\n                                >\r\n                                    Delete Account\r\n                                </button>\r\n                            ) : (\r\n                                <div className=\"bg-white dark:bg-[#1f2128] p-4 rounded-xl border border-red-200 dark:border-red-900 shadow-lg\">\r\n                                    <h5 className=\"font-bold text-red-600 dark:text-red-400 mb-2 flex items-center gap-2\">\r\n                                        <AlertTriangle size={16}/> Confirm Deletion\r\n                                    </h5>\r\n                                    <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-3\">\r\n                                        Type <strong>DELETE</strong> below to confirm. This cannot be undone.\r\n                                    </p>\r\n                                    <input \r\n                                        type=\"text\" \r\n                                        className=\"w-full p-2 border border-red-300 dark:border-red-900 rounded mb-3 text-sm focus:ring-2 focus:ring-red-500 outline-none dark:bg-black/20 dark:text-white\"\r\n                                        placeholder=\"Type DELETE\"\r\n                                        value={deleteConfirm}\r\n                                        onChange={(e) => setDeleteConfirm(e.target.value)}\r\n                                    />\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button \r\n                                            onClick={handleDeleteAccount} \r\n                                            disabled={deleteConfirm !== 'DELETE' || isDeleting}\r\n                                            className=\"flex-1 bg-red-600 text-white py-2 rounded font-bold text-xs hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                                        >\r\n                                            {isDeleting ? <Loader2 className=\"animate-spin\" size={14}/> : 'Confirm Delete'}\r\n                                        </button>\r\n                                        <button \r\n                                            onClick={() => { setShowDeleteModal(false); setDeleteConfirm(''); }}\r\n                                            className=\"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 rounded font-bold text-xs hover:opacity-80\"\r\n                                        >\r\n                                            Cancel\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Notifications Tab - Continue in next part due to length */}\r\n                {activeTab === 'notifications' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Bell size={16} className=\"text-brand-blue\"/> General Notifications\r\n                            </h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.email !== false}\r\n                                    onChange={() => handleToggle('notifications', 'email')}\r\n                                    label=\"Email Notifications\"\r\n                                    icon={Mail}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.push !== false}\r\n                                    onChange={() => handleToggle('notifications', 'push')}\r\n                                    label=\"Push Notifications\"\r\n                                    icon={Bell}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketing || false}\r\n                                    onChange={() => handleToggle('notifications', 'marketing')}\r\n                                    label=\"Marketing & Updates\"\r\n                                    icon={Star}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.soundEnabled !== false}\r\n                                    onChange={() => handleToggle('notifications', 'soundEnabled')}\r\n                                    label=\"Sound Notifications\"\r\n                                    icon={Volume2}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.badgeCount !== false}\r\n                                    onChange={() => handleToggle('notifications', 'badgeCount')}\r\n                                    label=\"Badge Count\"\r\n                                    description=\"Show unread count on app icon\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Booking Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.newRequests !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'newRequests')}\r\n                                    label=\"New Booking Requests\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.confirmations !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'confirmations')}\r\n                                    label=\"Booking Confirmations\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.reminders !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'reminders')}\r\n                                    label=\"Booking Reminders\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.booking?.cancellations !== false}\r\n                                    onChange={() => handleToggle('notifications', 'booking', 'cancellations')}\r\n                                    label=\"Booking Cancellations\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Social Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.likes !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'likes')}\r\n                                    label=\"Likes\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.comments !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'comments')}\r\n                                    label=\"Comments\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.follows !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'follows')}\r\n                                    label=\"Follows\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.mentions !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'mentions')}\r\n                                    label=\"Mentions\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.social?.reposts !== false}\r\n                                    onChange={() => handleToggle('notifications', 'social', 'reposts')}\r\n                                    label=\"Reposts\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Marketplace Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketplace?.newOffers !== false}\r\n                                    onChange={() => handleToggle('notifications', 'marketplace', 'newOffers')}\r\n                                    label=\"New Offers\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketplace?.sales !== false}\r\n                                    onChange={() => handleToggle('notifications', 'marketplace', 'sales')}\r\n                                    label=\"Sales\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.marketplace?.messages !== false}\r\n                                    onChange={() => handleToggle('notifications', 'marketplace', 'messages')}\r\n                                    label=\"Messages\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-b dark:border-gray-700 pb-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">System Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.system?.maintenance !== false}\r\n                                    onChange={() => handleToggle('notifications', 'system', 'maintenance')}\r\n                                    label=\"Maintenance Alerts\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.system?.updates !== false}\r\n                                    onChange={() => handleToggle('notifications', 'system', 'updates')}\r\n                                    label=\"Updates\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.notifications?.system?.security !== false}\r\n                                    onChange={() => handleToggle('notifications', 'system', 'security')}\r\n                                    label=\"Security Alerts\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Quiet Hours</h4>\r\n                            <ToggleSwitch\r\n                                checked={localSettings.notifications?.quietHours?.enabled || false}\r\n                                onChange={() => handleToggle('notifications', 'quietHours', 'enabled')}\r\n                                label=\"Enable Quiet Hours\"\r\n                                description=\"Disable notifications during specific times\"\r\n                            />\r\n                            {localSettings.notifications?.quietHours?.enabled && (\r\n                                <div className=\"mt-4 grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">Start Time</label>\r\n                                        <input\r\n                                            type=\"time\"\r\n                                            className=\"w-full p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                                            value={localSettings.notifications?.quietHours?.start || '22:00'}\r\n                                            onChange={e => {\r\n                                                setLocalSettings(prev => ({\r\n                                                    ...prev,\r\n                                                    notifications: {\r\n                                                        ...prev.notifications,\r\n                                                        quietHours: {\r\n                                                            ...prev.notifications?.quietHours,\r\n                                                            start: e.target.value\r\n                                                        }\r\n                                                    }\r\n                                                }));\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">End Time</label>\r\n                                        <input\r\n                                            type=\"time\"\r\n                                            className=\"w-full p-2 text-sm border rounded-lg dark:bg-[#1f2128] dark:border-gray-600 dark:text-white\"\r\n                                            value={localSettings.notifications?.quietHours?.end || '08:00'}\r\n                                            onChange={e => {\r\n                                                setLocalSettings(prev => ({\r\n                                                    ...prev,\r\n                                                    notifications: {\r\n                                                        ...prev.notifications,\r\n                                                        quietHours: {\r\n                                                            ...prev.notifications?.quietHours,\r\n                                                            end: e.target.value\r\n                                                        }\r\n                                                    }\r\n                                                }));\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Messaging Tab */}\r\n                {activeTab === 'messaging' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.readReceipts !== false}\r\n                                onChange={() => handleToggle('messaging', 'readReceipts')}\r\n                                label=\"Read Receipts\"\r\n                                description=\"Show when messages are read\"\r\n                                icon={CheckCircle}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.typingIndicators !== false}\r\n                                onChange={() => handleToggle('messaging', 'typingIndicators')}\r\n                                label=\"Typing Indicators\"\r\n                                description=\"Show when someone is typing\"\r\n                                icon={MessageSquare}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.messageRequests || false}\r\n                                onChange={() => handleToggle('messaging', 'messageRequests')}\r\n                                label=\"Message Requests\"\r\n                                description=\"Require approval for messages from non-contacts\"\r\n                                icon={UserCheck}\r\n                            />\r\n                            <SelectField\r\n                                label=\"Who Can Message You\"\r\n                                value={localSettings.messaging?.whoCanMessage || 'everyone'}\r\n                                onChange={val => handleValueChange('messaging', 'whoCanMessage', val)}\r\n                                options={[\r\n                                    { value: 'everyone', label: 'Everyone' },\r\n                                    { value: 'followers', label: 'Followers Only' },\r\n                                    { value: 'none', label: 'No One' },\r\n                                ]}\r\n                                icon={UserX}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.autoArchive || false}\r\n                                onChange={() => handleToggle('messaging', 'autoArchive')}\r\n                                label=\"Auto-archive Old Conversations\"\r\n                                description=\"Automatically archive conversations older than 30 days\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.soundNotifications !== false}\r\n                                onChange={() => handleToggle('messaging', 'soundNotifications')}\r\n                                label=\"Sound Notifications for Messages\"\r\n                                icon={Volume2}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.messaging?.previewInNotifications !== false}\r\n                                onChange={() => handleToggle('messaging', 'previewInNotifications')}\r\n                                label=\"Message Preview in Notifications\"\r\n                                description=\"Show message content in notifications\"\r\n                            />\r\n                        </div>\r\n\r\n                        <ListManager \r\n                            title=\"Muted Threads\" \r\n                            items={localSettings.messaging?.mutedThreads || []} \r\n                            type=\"mutes\" \r\n                            icon={VolumeX}\r\n                        />\r\n                        <ListManager \r\n                            title=\"Blocked Contacts\" \r\n                            items={localSettings.messaging?.blockedContacts || []} \r\n                            type=\"blocks\" \r\n                            icon={UserX}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Social & Feed Tab */}\r\n                {activeTab === 'social' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Feed Algorithm\"\r\n                                value={localSettings.social?.feedAlgorithm || 'recommended'}\r\n                                onChange={val => handleValueChange('social', 'feedAlgorithm', val)}\r\n                                options={[\r\n                                    { value: 'chronological', label: 'Chronological' },\r\n                                    { value: 'recommended', label: 'Recommended' },\r\n                                    { value: 'following', label: 'Following Only' },\r\n                                ]}\r\n                                icon={RefreshCw}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.autoPlayVideos !== false}\r\n                                onChange={() => handleToggle('social', 'autoPlayVideos')}\r\n                                label=\"Auto-play Videos in Feed\"\r\n                                icon={Video}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.showSensitiveContentWarning !== false}\r\n                                onChange={() => handleToggle('social', 'showSensitiveContentWarning')}\r\n                                label=\"Show Sensitive Content Warning\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.showActivityStatus !== false}\r\n                                onChange={() => handleToggle('social', 'showActivityStatus')}\r\n                                label=\"Show Activity Status\"\r\n                                description=\"Let others see when you're active\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.social?.showSuggestedAccounts !== false}\r\n                                onChange={() => handleToggle('social', 'showSuggestedAccounts')}\r\n                                label=\"Show Suggested Accounts\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Content Filtering</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <SelectField\r\n                                    label=\"Sensitivity Filter\"\r\n                                    value={localSettings.contentFiltering?.sensitivityFilter || 'medium'}\r\n                                    onChange={val => handleValueChange('contentFiltering', 'sensitivityFilter', val)}\r\n                                    options={[\r\n                                        { value: 'off', label: 'Off' },\r\n                                        { value: 'low', label: 'Low' },\r\n                                        { value: 'medium', label: 'Medium' },\r\n                                        { value: 'high', label: 'High' },\r\n                                    ]}\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.contentFiltering?.autoHideReported !== false}\r\n                                    onChange={() => handleToggle('contentFiltering', 'autoHideReported')}\r\n                                    label=\"Auto-hide Reported Content\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.contentFiltering?.showAgeRestricted || false}\r\n                                    onChange={() => handleToggle('contentFiltering', 'showAgeRestricted')}\r\n                                    label=\"Show Age-Restricted Content\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <ListManager \r\n                            title=\"Muted Users\" \r\n                            items={localSettings.social?.mutedUsers || []} \r\n                            type=\"mutes\" \r\n                            icon={VolumeX}\r\n                        />\r\n                        <ListManager \r\n                            title=\"Blocked Users\" \r\n                            items={localSettings.social?.blockedUsers || []} \r\n                            type=\"blocks\" \r\n                            icon={UserX}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Bookings Tab */}\r\n                {activeTab === 'bookings' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.autoAccept || false}\r\n                                onChange={() => handleToggle('bookings', 'autoAccept')}\r\n                                label=\"Auto-accept Bookings\"\r\n                                description=\"Automatically accept bookings that meet your criteria\"\r\n                            />\r\n                            <NumberInput\r\n                                label=\"Default Buffer Time\"\r\n                                value={localSettings.bookings?.defaultBufferTime || 15}\r\n                                onChange={val => handleValueChange('bookings', 'defaultBufferTime', val)}\r\n                                min={0}\r\n                                max={120}\r\n                                unit=\"minutes\"\r\n                                icon={Clock}\r\n                                description=\"Time between sessions\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.showAvailabilityPublicly || false}\r\n                                onChange={() => handleToggle('bookings', 'showAvailabilityPublicly')}\r\n                                label=\"Show Availability Calendar Publicly\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.requireDeposit || false}\r\n                                onChange={() => handleToggle('bookings', 'requireDeposit')}\r\n                                label=\"Require Deposit for Bookings\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.bookings?.autoDeclineExpired !== false}\r\n                                onChange={() => handleToggle('bookings', 'autoDeclineExpired')}\r\n                                label=\"Auto-decline Expired Booking Requests\"\r\n                            />\r\n                            <NumberInput\r\n                                label=\"Default Session Duration\"\r\n                                value={localSettings.bookings?.defaultSessionDuration || 60}\r\n                                onChange={val => handleValueChange('bookings', 'defaultSessionDuration', val)}\r\n                                min={15}\r\n                                max={480}\r\n                                unit=\"minutes\"\r\n                                icon={Clock}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Booking Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.newRequests !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'newRequests')}\r\n                                    label=\"New Booking Requests\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.confirmations !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'confirmations')}\r\n                                    label=\"Booking Confirmations\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.reminders !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'reminders')}\r\n                                    label=\"Booking Reminders\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.bookings?.notifications?.cancellations !== false}\r\n                                    onChange={() => handleToggle('bookings', 'notifications', 'cancellations')}\r\n                                    label=\"Booking Cancellations\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Marketplace Tab */}\r\n                {activeTab === 'marketplace' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.autoListItems || false}\r\n                                onChange={() => handleToggle('marketplace', 'autoListItems')}\r\n                                label=\"Auto-list Items\"\r\n                                description=\"Automatically list items for sale\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.requireApproval !== false}\r\n                                onChange={() => handleToggle('marketplace', 'requireApproval')}\r\n                                label=\"Require Approval\"\r\n                                description=\"Review items before they go live\"\r\n                            />\r\n                            <SelectField\r\n                                label=\"Default Shipping Method\"\r\n                                value={localSettings.marketplace?.defaultShippingMethod || 'standard'}\r\n                                onChange={val => handleValueChange('marketplace', 'defaultShippingMethod', val)}\r\n                                options={['standard', 'express', 'overnight', 'pickup']}\r\n                            />\r\n                            <SelectField\r\n                                label=\"Default Payment Terms\"\r\n                                value={localSettings.marketplace?.defaultPaymentTerms || 'immediate'}\r\n                                onChange={val => handleValueChange('marketplace', 'defaultPaymentTerms', val)}\r\n                                options={[\r\n                                    { value: 'immediate', label: 'Immediate' },\r\n                                    { value: 'net15', label: 'Net 15' },\r\n                                    { value: 'net30', label: 'Net 30' },\r\n                                ]}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.autoAcceptOffersAbove || false}\r\n                                onChange={() => handleToggle('marketplace', 'autoAcceptOffersAbove')}\r\n                                label=\"Auto-accept Offers Above Threshold\"\r\n                            />\r\n                            {localSettings.marketplace?.autoAcceptOffersAbove && (\r\n                                <NumberInput\r\n                                    label=\"Auto-accept Threshold\"\r\n                                    value={localSettings.marketplace?.autoAcceptThreshold || 0}\r\n                                    onChange={val => handleValueChange('marketplace', 'autoAcceptThreshold', val)}\r\n                                    min={0}\r\n                                    unit=\"$\"\r\n                                    icon={DollarSign}\r\n                                />\r\n                            )}\r\n                            <ToggleSwitch\r\n                                checked={localSettings.marketplace?.showSoldItems !== false}\r\n                                onChange={() => handleToggle('marketplace', 'showSoldItems')}\r\n                                label=\"Show Sold Items in Listings\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Marketplace Notifications</h4>\r\n                            <div className=\"space-y-3\">\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.marketplace?.notifications?.newOffers !== false}\r\n                                    onChange={() => handleToggle('marketplace', 'notifications', 'newOffers')}\r\n                                    label=\"New Offers\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.marketplace?.notifications?.sales !== false}\r\n                                    onChange={() => handleToggle('marketplace', 'notifications', 'sales')}\r\n                                    label=\"Sales\"\r\n                                />\r\n                                <ToggleSwitch\r\n                                    checked={localSettings.marketplace?.notifications?.messages !== false}\r\n                                    onChange={() => handleToggle('marketplace', 'notifications', 'messages')}\r\n                                    label=\"Messages\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Content & Media Tab */}\r\n                {activeTab === 'content' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Image Quality\"\r\n                                value={localSettings.content?.imageQuality || 'high'}\r\n                                onChange={val => handleValueChange('content', 'imageQuality', val)}\r\n                                options={[\r\n                                    { value: 'high', label: 'High' },\r\n                                    { value: 'medium', label: 'Medium' },\r\n                                    { value: 'low', label: 'Low (Faster Loading)' },\r\n                                ]}\r\n                                icon={Image}\r\n                            />\r\n                            <SelectField\r\n                                label=\"Video Quality\"\r\n                                value={localSettings.content?.videoQuality || 'high'}\r\n                                onChange={val => handleValueChange('content', 'videoQuality', val)}\r\n                                options={[\r\n                                    { value: 'high', label: 'High' },\r\n                                    { value: 'medium', label: 'Medium' },\r\n                                    { value: 'low', label: 'Low (Faster Loading)' },\r\n                                ]}\r\n                                icon={Video}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.content?.autoSaveUploaded !== false}\r\n                                onChange={() => handleToggle('content', 'autoSaveUploaded')}\r\n                                label=\"Auto-save Uploaded Media\"\r\n                                description=\"Automatically save uploaded images and videos\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.content?.compressImages !== false}\r\n                                onChange={() => handleToggle('content', 'compressImages')}\r\n                                label=\"Compress Images Before Upload\"\r\n                                description=\"Reduce file size for faster uploads\"\r\n                            />\r\n                            <NumberInput\r\n                                label=\"Maximum Upload Size\"\r\n                                value={localSettings.content?.maxUploadSize || 10}\r\n                                onChange={val => handleValueChange('content', 'maxUploadSize', val)}\r\n                                min={1}\r\n                                max={100}\r\n                                unit=\"MB\"\r\n                                icon={FileText}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Accessibility Tab */}\r\n                {activeTab === 'accessibility' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Font Size\"\r\n                                value={localSettings.accessibility?.fontSize || 'medium'}\r\n                                onChange={val => handleValueChange('accessibility', 'fontSize', val)}\r\n                                options={[\r\n                                    { value: 'small', label: 'Small' },\r\n                                    { value: 'medium', label: 'Medium' },\r\n                                    { value: 'large', label: 'Large' },\r\n                                    { value: 'xlarge', label: 'Extra Large' },\r\n                                ]}\r\n                                icon={FileText}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.reducedMotion || false}\r\n                                onChange={() => handleToggle('accessibility', 'reducedMotion')}\r\n                                label=\"Reduced Motion\"\r\n                                description=\"Disable animations for better accessibility\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.highContrast || false}\r\n                                onChange={() => handleToggle('accessibility', 'highContrast')}\r\n                                label=\"High Contrast Mode\"\r\n                                description=\"Increase contrast for better visibility\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.screenReaderAnnouncements !== false}\r\n                                onChange={() => handleToggle('accessibility', 'screenReaderAnnouncements')}\r\n                                label=\"Screen Reader Announcements\"\r\n                                description=\"Enable announcements for screen readers\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.accessibility?.keyboardHints !== false}\r\n                                onChange={() => handleToggle('accessibility', 'keyboardHints')}\r\n                                label=\"Keyboard Navigation Hints\"\r\n                                description=\"Show hints for keyboard navigation\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Performance Tab */}\r\n                {activeTab === 'performance' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"space-y-3\">\r\n                            <SelectField\r\n                                label=\"Data Usage\"\r\n                                value={localSettings.performance?.dataUsage || 'auto'}\r\n                                onChange={val => handleValueChange('performance', 'dataUsage', val)}\r\n                                options={[\r\n                                    { value: 'wifi-only', label: 'WiFi Only (for media)' },\r\n                                    { value: 'auto', label: 'Auto' },\r\n                                    { value: 'never', label: 'Never (save data)' },\r\n                                ]}\r\n                                icon={Wifi}\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.performance?.offlineMode || false}\r\n                                onChange={() => handleToggle('performance', 'offlineMode')}\r\n                                label=\"Offline Mode\"\r\n                                description=\"Enable offline functionality\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.performance?.backgroundSync !== false}\r\n                                onChange={() => handleToggle('performance', 'backgroundSync')}\r\n                                label=\"Background Sync\"\r\n                                description=\"Sync data in the background\"\r\n                            />\r\n                            <ToggleSwitch\r\n                                checked={localSettings.performance?.autoClearOldNotifications !== false}\r\n                                onChange={() => handleToggle('performance', 'autoClearOldNotifications')}\r\n                                label=\"Auto-clear Old Notifications\"\r\n                            />\r\n                            {localSettings.performance?.autoClearOldNotifications && (\r\n                                <NumberInput\r\n                                    label=\"Clear After\"\r\n                                    value={localSettings.performance?.autoClearAfterDays || 30}\r\n                                    onChange={val => handleValueChange('performance', 'autoClearAfterDays', val)}\r\n                                    min={1}\r\n                                    max={365}\r\n                                    unit=\"days\"\r\n                                    icon={Clock}\r\n                                />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"border-t dark:border-gray-700 pt-6\">\r\n                            <h4 className=\"text-sm font-bold dark:text-white mb-4\">Cache Management</h4>\r\n                            <button\r\n                                onClick={clearCache}\r\n                                className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 transition\"\r\n                            >\r\n                                <HardDrive size={16} />\r\n                                Clear Cache\r\n                            </button>\r\n                            <p className=\"text-xs text-gray-500 mt-2\">Clear cached data to free up storage space</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Security Modal */}\r\n            {showSecurityModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4\">\r\n                    <div className=\"bg-white dark:bg-[#2c2e36] w-full max-w-md rounded-xl p-6 shadow-2xl animate-in zoom-in-95 border dark:border-gray-700\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h3 className=\"text-lg font-bold dark:text-white flex items-center gap-2\">\r\n                                {securityAction === 'email' ? <Mail size={20}/> : <Key size={20}/>}\r\n                                Update {securityAction === 'email' ? 'Email' : 'Password'}\r\n                            </h3>\r\n                            <button onClick={() => setShowSecurityModal(false)} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\">\r\n                                <X size={20}/>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">Current Password (Required)</label>\r\n                                <input \r\n                                    type=\"password\"\r\n                                    className=\"w-full p-2.5 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white\"\r\n                                    placeholder=\"Verify your identity\"\r\n                                    value={securityForm.currentPassword}\r\n                                    onChange={e => setSecurityForm({...securityForm, currentPassword: e.target.value})}\r\n                                />\r\n                            </div>\r\n\r\n                            {securityAction === 'email' ? (\r\n                                <div>\r\n                                    <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">New Email Address</label>\r\n                                    <input \r\n                                        type=\"email\"\r\n                                        className=\"w-full p-2.5 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white\"\r\n                                        placeholder=\"name@example.com\"\r\n                                        value={securityForm.newEmail}\r\n                                        onChange={e => setSecurityForm({...securityForm, newEmail: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <label className=\"text-xs font-bold text-gray-500 uppercase mb-1 block\">New Password</label>\r\n                                    <input \r\n                                        type=\"password\"\r\n                                        className=\"w-full p-2.5 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white\"\r\n                                        placeholder=\"Min 6 characters\"\r\n                                        value={securityForm.newPassword}\r\n                                        onChange={e => setSecurityForm({...securityForm, newPassword: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <button \r\n                                onClick={handleSecurityUpdate}\r\n                                disabled={isSecurityLoading}\r\n                                className=\"w-full bg-blue-600 text-white py-2.5 rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg mt-2\"\r\n                            >\r\n                                {isSecurityLoading ? <Loader2 className=\"animate-spin\" size={18}/> : <CheckCircle size={18}/>}\r\n                                Confirm Update\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["HIDDEN_ROLES","SETTINGS_TABS","Settings","Shield","Bell","MessageSquare","Users","Calendar","ShoppingBag","Image","Accessibility","Zap","SettingsTab","user","userData","onUpdate","onRoleSwitch","t","language","useLanguage","activeTab","setActiveTab","useState","localSettings","setLocalSettings","roles","setRoles","preferredRole","setPreferredRole","activeRole","setActiveRole","saving","setSaving","exporting","setExporting","activeSessions","setActiveSessions","isDeleting","setIsDeleting","deleteConfirm","setDeleteConfirm","showDeleteModal","setShowDeleteModal","showSecurityModal","setShowSecurityModal","securityAction","setSecurityAction","securityForm","setSecurityForm","isSecurityLoading","setIsSecurityLoading","useEffect","useSettings","handleToggle","category","key","subKey","prev","updated","_a","_c","_b","_d","handleValueChange","value","handleThemeChange","val","saveSettings","updateAccountTypes","supabase","toggleRole","role","r","openSecurityModal","action","handleSecurityUpdate","handleDataExport","handleDeleteAccount","clearCache","names","name","ToggleSwitch","checked","onChange","label","description","Icon","jsxs","jsx","SelectField","options","e","opt","NumberInput","min","max","unit","ListManager","title","items","type","id","i","X","displayedRoles","ACCOUNT_TYPES","activeTabInfo","tab","TabIcon","Loader2","Save","Star","RefreshCw","Filter","Moon","theme","Languages","Globe","DollarSign","Mail","Key","Lock","Eye","MapPin","EyeOff","_e","_f","Smartphone","_g","Monitor","_h","Clock","_i","Search","_j","Hash","_k","UserCheck","_l","UserPlus","_m","_n","UserX","Download","AlertTriangle","_o","_p","_q","_r","Volume2","_s","_u","_t","_w","_v","_y","_x","_A","_z","_C","_B","_E","_D","_G","_F","_I","_H","_K","_J","_M","_L","_O","_N","_Q","_P","_S","_R","_U","_T","_W","_V","_Y","_X","__","_Z","_aa","_$","_ca","_ba","_da","CheckCircle","_ea","_fa","_ga","_ha","_ia","_ja","_ka","VolumeX","_la","_ma","_na","Video","_oa","_pa","_qa","_ra","_sa","_ta","_ua","_va","_wa","_xa","_ya","_za","_Aa","_Ba","_Da","_Ca","_Fa","_Ea","_Ha","_Ga","_Ja","_Ia","_Ka","_La","_Ma","_Na","_Oa","_Pa","_Qa","_Ra","_Ta","_Sa","_Va","_Ua","_Xa","_Wa","_Ya","_Za","__a","_$a","_ab","FileText","_bb","_cb","_db","_eb","_fb","_gb","Wifi","_hb","_ib","_jb","_kb","_lb","HardDrive"],"mappings":"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"}