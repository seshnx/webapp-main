import{r,j as e,C as lt,c as ct,t as We,a as De,U as he,b as Ke,d as dt,e as ut,u as W,f as oe,g as Le,T as we,P as Ce,A as Qe,X as Q,L as le,h as Ye,S as Ne,i as Pe,k as gt,l as mt,V as ke,m as Ze,n as ve,o as ht,p as Je,q as Xe,s as et,v as tt,M as Ie,F as fe,w as ft,I as pt,x as bt,y as xt,z as yt,R as wt,E as vt,B as Ge,D as Ee,G as Nt,H as Te,J as kt,K as jt,N as At,O as Ue,Q as Fe,W as St,Y as qe,Z as Oe,_ as Mt,$ as Ct,a0 as Rt}from"./vendor-Dl7DtIXW.js";import{m as B,A as re}from"./vendor-framer-CUELlS5e.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"local"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="9ef6ba9f-d280-44fa-adc1-a946cc6fe9bb",t._sentryDebugIdIdentifier="sentry-dbid-9ef6ba9f-d280-44fa-adc1-a946cc6fe9bb")})()}catch{}const me={en:{general:"General",security:"Security & Privacy",notifications:"Notifications",messaging:"Messaging",social:"Social & Feed",bookings:"Bookings",marketplace:"Marketplace",content:"Content & Media",accessibility:"Accessibility",performance:"Performance",rolesWorkflow:"Roles & Workflow",activeAccountTypes:"Active Account Types",preferredProfile:"Preferred Profile",activeWorkflowContext:"Active Workflow Context",seeAllUnfiltered:"See All (Unfiltered View)",seeAllDescription:"Show all content types regardless of active workflow",saveWorkflowSettings:"Save Workflow Settings",appearance:"Appearance",light:"Light",dark:"Dark",system:"System",languageLocalization:"Language & Localization",language:"Language",dateFormat:"Date Format",timeFormat:"Time Format",timezone:"Timezone",currency:"Currency",numberFormat:"Number Format",autoDetect:"Auto-detect",easternTime:"Eastern Time",centralTime:"Central Time",mountainTime:"Mountain Time",pacificTime:"Pacific Time",accountSecurity:"Account Security",emailAddress:"Email Address",password:"Password",changeEmail:"Change Email",changePassword:"Change Password",twoFactorAuth:"Two-Factor Authentication (2FA)",twoFactorDescription:"Add an extra layer of security to your account",lastChanged:"Last changed",unknown:"Unknown",privacyVisibility:"Privacy & Visibility",publicProfileVisibility:"Public Profile Visibility",showLocationOnMap:"Show Location on Map",hideProfileCompletely:"Hide Profile Completely",showEmailAddress:"Show Email Address",showPhoneNumber:"Show Phone Number",showOnlineStatus:"Show Online Status",showLastSeen:"Show Last Seen",allowSearchEngines:"Allow Search Engine Indexing",allowTagging:"Allow Tagging",reviewTagsBeforeAppear:"Review Tags Before They Appear",showFollowingList:"Show Following List",showFollowersList:"Show Followers List",contentSafety:"Content & Safety",blockedUsers:"Blocked Users",mutedThreads:"Muted Threads",noActive:"No active",yourData:"Your Data",downloadDataDescription:"Download a copy of your personal data (GDPR/CCPA).",downloadData:"Download Data",dangerZone:"Danger Zone",deleteAccountWarning:"Deleting your account is permanent. This action will remove your profile, posts, and messages.",deleteAccount:"Delete Account",confirmDeletion:"Confirm Deletion",typeDeleteToConfirm:"Type DELETE below to confirm. This cannot be undone.",confirmDelete:"Confirm Delete",cancel:"Cancel",generalNotifications:"General Notifications",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",marketingUpdates:"Marketing & Updates",soundNotifications:"Sound Notifications",badgeCount:"Badge Count",badgeCountDescription:"Show unread count on app icon",bookingNotifications:"Booking Notifications",newBookingRequests:"New Booking Requests",bookingConfirmations:"Booking Confirmations",bookingReminders:"Booking Reminders",bookingCancellations:"Booking Cancellations",socialNotifications:"Social Notifications",likes:"Likes",comments:"Comments",follows:"Follows",mentions:"Mentions",reposts:"Reposts",marketplaceNotifications:"Marketplace Notifications",newOffers:"New Offers",sales:"Sales",messages:"Messages",systemNotifications:"System Notifications",maintenanceAlerts:"Maintenance Alerts",updates:"Updates",securityAlerts:"Security Alerts",quietHours:"Quiet Hours",enableQuietHours:"Enable Quiet Hours",quietHoursDescription:"Disable notifications during specific times",startTime:"Start Time",endTime:"End Time",readReceipts:"Read Receipts",readReceiptsDescription:"Show when messages are read",typingIndicators:"Typing Indicators",typingIndicatorsDescription:"Show when someone is typing",messageRequests:"Message Requests",messageRequestsDescription:"Require approval for messages from non-contacts",whoCanMessageYou:"Who Can Message You",everyone:"Everyone",followersOnly:"Followers Only",noOne:"No One",autoArchiveOld:"Auto-archive Old Conversations",autoArchiveDescription:"Automatically archive conversations older than 30 days",soundNotificationsMessages:"Sound Notifications for Messages",messagePreview:"Message Preview in Notifications",messagePreviewDescription:"Show message content in notifications",blockedContacts:"Blocked Contacts",feedAlgorithm:"Feed Algorithm",chronological:"Chronological",recommended:"Recommended",followingOnly:"Following Only",autoPlayVideos:"Auto-play Videos in Feed",showSensitiveContentWarning:"Show Sensitive Content Warning",showActivityStatus:"Show Activity Status",showActivityStatusDescription:"Let others see when you're active",showSuggestedAccounts:"Show Suggested Accounts",contentFiltering:"Content Filtering",sensitivityFilter:"Sensitivity Filter",off:"Off",low:"Low",medium:"Medium",high:"High",autoHideReported:"Auto-hide Reported Content",showAgeRestricted:"Show Age-Restricted Content",mutedUsers:"Muted Users",autoAcceptBookings:"Auto-accept Bookings",autoAcceptDescription:"Automatically accept bookings that meet your criteria",defaultBufferTime:"Default Buffer Time",bufferTimeDescription:"Time between sessions",minutes:"minutes",showAvailabilityPublicly:"Show Availability Calendar Publicly",requireDeposit:"Require Deposit for Bookings",autoDeclineExpired:"Auto-decline Expired Booking Requests",defaultSessionDuration:"Default Session Duration",autoListItem:"Auto-list Items",autoListDescription:"Automatically list items for sale",requireApproval:"Require Approval",requireApprovalDescription:"Review items before they go live",defaultShippingMethod:"Default Shipping Method",defaultPaymentTerms:"Default Payment Terms",immediate:"Immediate",net15:"Net 15",net30:"Net 30",autoAcceptOffersAbove:"Auto-accept Offers Above Threshold",autoAcceptThreshold:"Auto-accept Threshold",showSoldItems:"Show Sold Items in Listings",imageQuality:"Image Quality",videoQuality:"Video Quality",high:"High",medium:"Medium",low:"Low (Faster Loading)",autoSaveUploaded:"Auto-save Uploaded Media",autoSaveDescription:"Automatically save uploaded images and videos",compressImages:"Compress Images Before Upload",compressDescription:"Reduce file size for faster uploads",maxUploadSize:"Maximum Upload Size",mb:"MB",fontSize:"Font Size",small:"Small",large:"Large",extraLarge:"Extra Large",reducedMotion:"Reduced Motion",reducedMotionDescription:"Disable animations for better accessibility",highContrast:"High Contrast Mode",highContrastDescription:"Increase contrast for better visibility",screenReaderAnnouncements:"Screen Reader Announcements",screenReaderDescription:"Enable announcements for screen readers",keyboardHints:"Keyboard Navigation Hints",keyboardHintsDescription:"Show hints for keyboard navigation",dataUsage:"Data Usage",wifiOnly:"WiFi Only (for media)",auto:"Auto",never:"Never (save data)",offlineMode:"Offline Mode",offlineModeDescription:"Enable offline functionality",backgroundSync:"Background Sync",backgroundSyncDescription:"Sync data in the background",autoClearOldNotifications:"Auto-clear Old Notifications",clearAfter:"Clear After",days:"days",cacheManagement:"Cache Management",clearCache:"Clear Cache",clearCacheDescription:"Clear cached data to free up storage space",saveAll:"Save All",saving:"Saving...",saved:"Settings saved successfully!",saveFailed:"Failed to save settings.",settingsUpdated:"Settings updated!",dashboard:"Dashboard",socialNx:"SocialNx",messages:"Messages",bookings:"Bookings",marketplace:"Marketplace",techServices:"Tech Services",businessCenter:"Business Center",profile:"Profile",billing:"Billing",settings:"Settings",logout:"Logout",search:"Search",searchPlaceholder:"Search...",notifications:"Notifications",noNotifications:"No notifications",markAllRead:"Mark all as read",clearAll:"Clear all",switchRole:"Switch Role",viewProfile:"View Profile",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",goodNight:"Good night",welcomeBack:"Welcome back",quickActions:"Quick Actions",recentActivity:"Recent Activity",upcomingBookings:"Upcoming Bookings",noUpcomingBookings:"No upcoming bookings",viewAll:"View All",seeMore:"See More",newBooking:"New Booking",viewCalendar:"View Calendar",recentMessages:"Recent Messages",noRecentMessages:"No recent messages",startConversation:"Start Conversation",trendingNow:"Trending Now",viewMarketplace:"View Marketplace",stats:"Stats",followers:"Followers",following:"Following",posts:"Posts",forYou:"For You",following:"Following",discover:"Discover",createPost:"Create Post",whatOnMind:"What's on your mind?",post:"Post",like:"Like",comment:"Comment",share:"Share",save:"Save",repost:"Repost",follow:"Follow",unfollow:"Unfollow",noPosts:"No posts yet",beFirst:"Be the first to share something!",noPostsFollowing:"No recent posts from people you follow",browseForYou:"Browse For You feed →",suggestedForYou:"Suggested for you",startFollowing:"Start following creators",followDescription:"Follow artists, engineers, and studios to see their posts in your Following feed.",selectConversation:"Select a conversation to start chatting",typeMessage:"Type a message...",send:"Send",online:"Online",offline:"Offline",typing:"typing...",newMessage:"New Message",noConversations:"No conversations yet",myBookings:"My Bookings",calendar:"Calendar",findTalent:"Find Talent",broadcasts:"Broadcasts",createBroadcast:"Create Broadcast",newSession:"New Session",manageSessions:"Manage your sessions and bookings",upcoming:"Upcoming",past:"Past",pending:"Pending",confirmed:"Confirmed",cancelled:"Cancelled",noBookings:"No bookings found",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",save:"Save",close:"Close",back:"Back",next:"Next",previous:"Previous",done:"Done",apply:"Apply",reset:"Reset",filter:"Filter",sort:"Sort",refresh:"Refresh",activityFeed:"Activity Feed",allCaughtUp:"All caught up!",noNewNotifications:"No new notifications",viewAllActivity:"View All Activity",studioStatus:"Studio Status",manage:"Manage",noRoomsConfigured:"No rooms configured yet",addFirstRoom:"+ Add Your First Room",new:"New",gearExchange:"Gear Exchange",seshFxStore:"SeshFX Store",searchConversations:"Search conversations...",newGroup:"New Group",groupChat:"Group Chat",directMessage:"Direct Message",addMembers:"Add Members",groupName:"Group Name",createGroup:"Create Group",noMessages:"No messages yet",messageDeleted:"Message deleted",replyingTo:"Replying to",editingMessage:"Editing message",forwardingMessage:"Forwarding message",unknownUser:"Unknown User",dropFiles:"Drop files here",updateMessage:"Update message",noMembersSelected:"No members selected",noUsersFound:"No users found",you:"You",enterGroupName:"Enter group name",active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",cancelled:"Cancelled",declined:"Declined",confirmed:"Confirmed"},es:{general:"General",security:"Seguridad y Privacidad",notifications:"Notificaciones",messaging:"Mensajería",social:"Social y Feed",bookings:"Reservas",marketplace:"Mercado",content:"Contenido y Medios",accessibility:"Accesibilidad",performance:"Rendimiento",rolesWorkflow:"Roles y Flujo de Trabajo",activeAccountTypes:"Tipos de Cuenta Activos",preferredProfile:"Perfil Preferido",activeWorkflowContext:"Contexto de Flujo de Trabajo Activo",seeAllUnfiltered:"Ver Todo (Vista Sin Filtros)",seeAllDescription:"Mostrar todos los tipos de contenido independientemente del flujo de trabajo activo",saveWorkflowSettings:"Guardar Configuración de Flujo de Trabajo",appearance:"Apariencia",light:"Claro",dark:"Oscuro",system:"Sistema",languageLocalization:"Idioma y Localización",language:"Idioma",dateFormat:"Formato de Fecha",timeFormat:"Formato de Hora",timezone:"Zona Horaria",currency:"Moneda",numberFormat:"Formato de Número",autoDetect:"Detección Automática",easternTime:"Hora del Este",centralTime:"Hora Central",mountainTime:"Hora de la Montaña",pacificTime:"Hora del Pacífico",accountSecurity:"Seguridad de la Cuenta",emailAddress:"Dirección de Correo",password:"Contraseña",changeEmail:"Cambiar Correo",changePassword:"Cambiar Contraseña",twoFactorAuth:"Autenticación de Dos Factores (2FA)",twoFactorDescription:"Agrega una capa adicional de seguridad a tu cuenta",lastChanged:"Último cambio",unknown:"Desconocido",privacyVisibility:"Privacidad y Visibilidad",publicProfileVisibility:"Visibilidad del Perfil Público",showLocationOnMap:"Mostrar Ubicación en el Mapa",hideProfileCompletely:"Ocultar Perfil Completamente",showEmailAddress:"Mostrar Dirección de Correo",showPhoneNumber:"Mostrar Número de Teléfono",showOnlineStatus:"Mostrar Estado en Línea",showLastSeen:"Mostrar Última Vez",allowSearchEngines:"Permitir Indexación por Motores de Búsqueda",allowTagging:"Permitir Etiquetado",reviewTagsBeforeAppear:"Revisar Etiquetas Antes de Aparecer",showFollowingList:"Mostrar Lista de Seguidos",showFollowersList:"Mostrar Lista de Seguidores",contentSafety:"Contenido y Seguridad",blockedUsers:"Usuarios Bloqueados",mutedThreads:"Hilos Silenciados",noActive:"Sin activos",yourData:"Tus Datos",downloadDataDescription:"Descarga una copia de tus datos personales (GDPR/CCPA).",downloadData:"Descargar Datos",dangerZone:"Zona de Peligro",deleteAccountWarning:"Eliminar tu cuenta es permanente. Esta acción eliminará tu perfil, publicaciones y mensajes.",deleteAccount:"Eliminar Cuenta",confirmDeletion:"Confirmar Eliminación",typeDeleteToConfirm:"Escribe ELIMINAR a continuación para confirmar. Esto no se puede deshacer.",confirmDelete:"Confirmar Eliminación",cancel:"Cancelar",generalNotifications:"Notificaciones Generales",emailNotifications:"Notificaciones por Correo",pushNotifications:"Notificaciones Push",marketingUpdates:"Marketing y Actualizaciones",soundNotifications:"Notificaciones de Sonido",badgeCount:"Contador de Insignias",badgeCountDescription:"Mostrar conteo de no leídos en el icono de la app",bookingNotifications:"Notificaciones de Reservas",newBookingRequests:"Nuevas Solicitudes de Reserva",bookingConfirmations:"Confirmaciones de Reserva",bookingReminders:"Recordatorios de Reserva",bookingCancellations:"Cancelaciones de Reserva",socialNotifications:"Notificaciones Sociales",likes:"Me Gusta",comments:"Comentarios",follows:"Seguimientos",mentions:"Menciones",reposts:"Republicaciones",marketplaceNotifications:"Notificaciones del Mercado",newOffers:"Nuevas Ofertas",sales:"Ventas",messages:"Mensajes",systemNotifications:"Notificaciones del Sistema",maintenanceAlerts:"Alertas de Mantenimiento",updates:"Actualizaciones",securityAlerts:"Alertas de Seguridad",quietHours:"Horas Silenciosas",enableQuietHours:"Habilitar Horas Silenciosas",quietHoursDescription:"Desactivar notificaciones durante horas específicas",startTime:"Hora de Inicio",endTime:"Hora de Fin",readReceipts:"Confirmaciones de Lectura",readReceiptsDescription:"Mostrar cuando los mensajes son leídos",typingIndicators:"Indicadores de Escritura",typingIndicatorsDescription:"Mostrar cuando alguien está escribiendo",messageRequests:"Solicitudes de Mensaje",messageRequestsDescription:"Requerir aprobación para mensajes de no contactos",whoCanMessageYou:"Quién Puede Enviarte Mensajes",everyone:"Todos",followersOnly:"Solo Seguidores",noOne:"Nadie",autoArchiveOld:"Archivar Automáticamente Conversaciones Antiguas",autoArchiveDescription:"Archivar automáticamente conversaciones mayores de 30 días",soundNotificationsMessages:"Notificaciones de Sonido para Mensajes",messagePreview:"Vista Previa de Mensaje en Notificaciones",messagePreviewDescription:"Mostrar contenido del mensaje en notificaciones",blockedContacts:"Contactos Bloqueados",searchConversations:"Buscar conversaciones...",newGroup:"Nuevo Grupo",groupChat:"Chat Grupal",directMessage:"Mensaje Directo",addMembers:"Agregar Miembros",groupName:"Nombre del Grupo",createGroup:"Crear Grupo",noMessages:"Aún no hay mensajes",messageDeleted:"Mensaje eliminado",replyingTo:"Respondiendo a",editingMessage:"Editando mensaje",forwardingMessage:"Reenviando mensaje",unknownUser:"Usuario Desconocido",dropFiles:"Suelta archivos aquí",updateMessage:"Actualizar mensaje",noMembersSelected:"No hay miembros seleccionados",noUsersFound:"No se encontraron usuarios",you:"Tú",enterGroupName:"Ingresa el nombre del grupo",feedAlgorithm:"Algoritmo del Feed",chronological:"Cronológico",recommended:"Recomendado",followingOnly:"Solo Seguidos",autoPlayVideos:"Reproducción Automática de Videos en el Feed",showSensitiveContentWarning:"Mostrar Advertencia de Contenido Sensible",showActivityStatus:"Mostrar Estado de Actividad",showActivityStatusDescription:"Permitir que otros vean cuando estás activo",showSuggestedAccounts:"Mostrar Cuentas Sugeridas",contentFiltering:"Filtrado de Contenido",sensitivityFilter:"Filtro de Sensibilidad",off:"Desactivado",low:"Bajo",medium:"Medio",high:"Alto",autoHideReported:"Ocultar Automáticamente Contenido Reportado",showAgeRestricted:"Mostrar Contenido con Restricción de Edad",mutedUsers:"Usuarios Silenciados",autoAcceptBookings:"Aceptar Automáticamente Reservas",autoAcceptDescription:"Aceptar automáticamente reservas que cumplan tus criterios",defaultBufferTime:"Tiempo de Búfer Predeterminado",bufferTimeDescription:"Tiempo entre sesiones",minutes:"minutos",showAvailabilityPublicly:"Mostrar Calendario de Disponibilidad Públicamente",requireDeposit:"Requerir Depósito para Reservas",autoDeclineExpired:"Rechazar Automáticamente Solicitudes de Reserva Expiradas",defaultSessionDuration:"Duración de Sesión Predeterminada",autoListItem:"Listar Automáticamente Artículos",autoListDescription:"Listar automáticamente artículos para la venta",requireApproval:"Requerir Aprobación",requireApprovalDescription:"Revisar artículos antes de que se publiquen",defaultShippingMethod:"Método de Envío Predeterminado",defaultPaymentTerms:"Términos de Pago Predeterminados",immediate:"Inmediato",net15:"Neto 15",net30:"Neto 30",autoAcceptOffersAbove:"Aceptar Automáticamente Ofertas por Encima del Umbral",autoAcceptThreshold:"Umbral de Aceptación Automática",showSoldItems:"Mostrar Artículos Vendidos en Listados",imageQuality:"Calidad de Imagen",videoQuality:"Calidad de Video",high:"Alta",medium:"Media",low:"Baja (Carga Más Rápida)",autoSaveUploaded:"Guardar Automáticamente Medios Subidos",autoSaveDescription:"Guardar automáticamente imágenes y videos subidos",compressImages:"Comprimir Imágenes Antes de Subir",compressDescription:"Reducir el tamaño del archivo para subidas más rápidas",maxUploadSize:"Tamaño Máximo de Subida",mb:"MB",fontSize:"Tamaño de Fuente",small:"Pequeño",large:"Grande",extraLarge:"Extra Grande",reducedMotion:"Movimiento Reducido",reducedMotionDescription:"Desactivar animaciones para mejor accesibilidad",highContrast:"Modo de Alto Contraste",highContrastDescription:"Aumentar el contraste para mejor visibilidad",screenReaderAnnouncements:"Anuncios de Lector de Pantalla",screenReaderDescription:"Habilitar anuncios para lectores de pantalla",keyboardHints:"Pistas de Navegación por Teclado",keyboardHintsDescription:"Mostrar pistas para navegación por teclado",dataUsage:"Uso de Datos",wifiOnly:"Solo WiFi (para medios)",auto:"Automático",never:"Nunca (ahorrar datos)",offlineMode:"Modo Sin Conexión",offlineModeDescription:"Habilitar funcionalidad sin conexión",backgroundSync:"Sincronización en Segundo Plano",backgroundSyncDescription:"Sincronizar datos en segundo plano",autoClearOldNotifications:"Limpiar Automáticamente Notificaciones Antiguas",clearAfter:"Limpiar Después de",days:"días",cacheManagement:"Gestión de Caché",clearCache:"Limpiar Caché",clearCacheDescription:"Limpiar datos en caché para liberar espacio de almacenamiento",saveAll:"Guardar Todo",saving:"Guardando...",saved:"¡Configuración guardada exitosamente!",saveFailed:"Error al guardar la configuración.",settingsUpdated:"¡Configuración actualizada!",dashboard:"Panel",socialNx:"SocialNx",messages:"Mensajes",bookings:"Reservas",marketplace:"Mercado",techServices:"Servicios Técnicos",businessCenter:"Centro de Negocios",profile:"Perfil",billing:"Facturación",settings:"Configuración",logout:"Cerrar Sesión",search:"Buscar",searchPlaceholder:"Buscar...",notifications:"Notificaciones",noNotifications:"No hay notificaciones",markAllRead:"Marcar todas como leídas",clearAll:"Limpiar todo",switchRole:"Cambiar Rol",viewProfile:"Ver Perfil",goodMorning:"Buenos días",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",goodNight:"Buenas noches",welcomeBack:"Bienvenido de nuevo",quickActions:"Acciones Rápidas",recentActivity:"Actividad Reciente",upcomingBookings:"Reservas Próximas",noUpcomingBookings:"No hay reservas próximas",viewAll:"Ver Todo",seeMore:"Ver Más",newBooking:"Nueva Reserva",viewCalendar:"Ver Calendario",recentMessages:"Mensajes Recientes",noRecentMessages:"No hay mensajes recientes",startConversation:"Iniciar Conversación",trendingNow:"Tendencias",viewMarketplace:"Ver Mercado",stats:"Estadísticas",followers:"Seguidores",following:"Siguiendo",posts:"Publicaciones",forYou:"Para Ti",following:"Siguiendo",discover:"Descubrir",createPost:"Crear Publicación",whatOnMind:"¿En qué estás pensando?",post:"Publicar",like:"Me Gusta",comment:"Comentar",share:"Compartir",save:"Guardar",repost:"Republicar",follow:"Seguir",unfollow:"Dejar de Seguir",noPosts:"Aún no hay publicaciones",beFirst:"¡Sé el primero en compartir algo!",noPostsFollowing:"No hay publicaciones recientes de personas que sigues",browseForYou:"Explorar feed Para Ti →",suggestedForYou:"Sugerido para ti",startFollowing:"Comienza a seguir creadores",followDescription:"Sigue artistas, ingenieros y estudios para ver sus publicaciones en tu feed de Siguiendo.",selectConversation:"Selecciona una conversación para comenzar a chatear",typeMessage:"Escribe un mensaje...",send:"Enviar",online:"En Línea",offline:"Desconectado",typing:"escribiendo...",newMessage:"Nuevo Mensaje",noConversations:"Aún no hay conversaciones",myBookings:"Mis Reservas",calendar:"Calendario",findTalent:"Buscar Talento",broadcasts:"Transmisiones",createBroadcast:"Crear Transmisión",newSession:"Nueva Sesión",manageSessions:"Gestiona tus sesiones y reservas",upcoming:"Próximas",past:"Pasadas",pending:"Pendientes",confirmed:"Confirmadas",cancelled:"Canceladas",noBookings:"No se encontraron reservas",loading:"Cargando...",error:"Error",success:"Éxito",cancel:"Cancelar",confirm:"Confirmar",delete:"Eliminar",edit:"Editar",save:"Guardar",close:"Cerrar",back:"Atrás",next:"Siguiente",previous:"Anterior",done:"Hecho",apply:"Aplicar",reset:"Restablecer",filter:"Filtrar",sort:"Ordenar",refresh:"Actualizar"},fr:{general:"Général",security:"Sécurité et Confidentialité",notifications:"Notifications",messaging:"Messagerie",social:"Social et Fil d'Actualité",bookings:"Réservations",marketplace:"Marché",content:"Contenu et Médias",accessibility:"Accessibilité",performance:"Performances",rolesWorkflow:"Rôles et Flux de Travail",activeAccountTypes:"Types de Compte Actifs",preferredProfile:"Profil Préféré",activeWorkflowContext:"Contexte de Flux de Travail Actif",seeAllUnfiltered:"Voir Tout (Vue Non Filtrée)",seeAllDescription:"Afficher tous les types de contenu indépendamment du flux de travail actif",saveWorkflowSettings:"Enregistrer les Paramètres de Flux de Travail",appearance:"Apparence",light:"Clair",dark:"Sombre",system:"Système",languageLocalization:"Langue et Localisation",language:"Langue",dateFormat:"Format de Date",timeFormat:"Format d'Heure",timezone:"Fuseau Horaire",currency:"Devise",numberFormat:"Format de Nombre",autoDetect:"Détection Automatique",easternTime:"Heure de l'Est",centralTime:"Heure du Centre",mountainTime:"Heure des Rocheuses",pacificTime:"Heure du Pacifique",accountSecurity:"Sécurité du Compte",emailAddress:"Adresse E-mail",password:"Mot de Passe",changeEmail:"Changer l'E-mail",changePassword:"Changer le Mot de Passe",twoFactorAuth:"Authentification à Deux Facteurs (2FA)",twoFactorDescription:"Ajoutez une couche supplémentaire de sécurité à votre compte",lastChanged:"Dernière modification",unknown:"Inconnu",privacyVisibility:"Confidentialité et Visibilité",publicProfileVisibility:"Visibilité du Profil Public",showLocationOnMap:"Afficher l'Emplacement sur la Carte",hideProfileCompletely:"Masquer Complètement le Profil",showEmailAddress:"Afficher l'Adresse E-mail",showPhoneNumber:"Afficher le Numéro de Téléphone",showOnlineStatus:"Afficher le Statut en Ligne",showLastSeen:"Afficher la Dernière Connexion",allowSearchEngines:"Autoriser l'Indexation par les Moteurs de Recherche",allowTagging:"Autoriser le Marquage",reviewTagsBeforeAppear:"Réviser les Tags Avant qu'Ils Apparaissent",showFollowingList:"Afficher la Liste des Abonnements",showFollowersList:"Afficher la Liste des Abonnés",contentSafety:"Contenu et Sécurité",blockedUsers:"Utilisateurs Bloqués",mutedThreads:"Fils de Discussion Silencieux",noActive:"Aucun actif",yourData:"Vos Données",downloadDataDescription:"Téléchargez une copie de vos données personnelles (RGPD/CCPA).",downloadData:"Télécharger les Données",dangerZone:"Zone de Danger",deleteAccountWarning:"Supprimer votre compte est permanent. Cette action supprimera votre profil, vos publications et vos messages.",deleteAccount:"Supprimer le Compte",confirmDeletion:"Confirmer la Suppression",typeDeleteToConfirm:"Tapez SUPPRIMER ci-dessous pour confirmer. Cela ne peut pas être annulé.",confirmDelete:"Confirmer la Suppression",cancel:"Annuler",generalNotifications:"Notifications Générales",emailNotifications:"Notifications par E-mail",pushNotifications:"Notifications Push",marketingUpdates:"Marketing et Mises à Jour",soundNotifications:"Notifications Sonores",badgeCount:"Compteur de Badges",badgeCountDescription:"Afficher le nombre de non lus sur l'icône de l'application",bookingNotifications:"Notifications de Réservations",newBookingRequests:"Nouvelles Demandes de Réservation",bookingConfirmations:"Confirmations de Réservation",bookingReminders:"Rappels de Réservation",bookingCancellations:"Annulations de Réservation",socialNotifications:"Notifications Sociales",likes:"J'aime",comments:"Commentaires",follows:"Abonnements",mentions:"Mentions",reposts:"Repartages",marketplaceNotifications:"Notifications du Marché",newOffers:"Nouvelles Offres",sales:"Ventes",messages:"Messages",systemNotifications:"Notifications Système",maintenanceAlerts:"Alertes de Maintenance",updates:"Mises à Jour",securityAlerts:"Alertes de Sécurité",quietHours:"Heures Silencieuses",enableQuietHours:"Activer les Heures Silencieuses",quietHoursDescription:"Désactiver les notifications pendant des heures spécifiques",startTime:"Heure de Début",endTime:"Heure de Fin",readReceipts:"Accusés de Réception",readReceiptsDescription:"Afficher quand les messages sont lus",typingIndicators:"Indicateurs de Frappe",typingIndicatorsDescription:"Afficher quand quelqu'un est en train d'écrire",messageRequests:"Demandes de Message",messageRequestsDescription:"Exiger une approbation pour les messages de non contacts",whoCanMessageYou:"Qui Peut Vous Envoyer des Messages",everyone:"Tout le Monde",followersOnly:"Abonnés Uniquement",noOne:"Personne",autoArchiveOld:"Archiver Automatiquement les Anciennes Conversations",autoArchiveDescription:"Archiver automatiquement les conversations de plus de 30 jours",soundNotificationsMessages:"Notifications Sonores pour les Messages",messagePreview:"Aperçu du Message dans les Notifications",messagePreviewDescription:"Afficher le contenu du message dans les notifications",blockedContacts:"Contacts Bloqués",searchConversations:"Rechercher des conversations...",newGroup:"Nouveau Groupe",groupChat:"Chat de Groupe",directMessage:"Message Direct",addMembers:"Ajouter des Membres",groupName:"Nom du Groupe",createGroup:"Créer un Groupe",noMessages:"Aucun message pour le moment",messageDeleted:"Message supprimé",replyingTo:"Répondre à",editingMessage:"Modification du message",forwardingMessage:"Transfert du message",unknownUser:"Utilisateur Inconnu",dropFiles:"Déposer les fichiers ici",updateMessage:"Mettre à jour le message",noMembersSelected:"Aucun membre sélectionné",noUsersFound:"Aucun utilisateur trouvé",you:"Vous",enterGroupName:"Entrer le nom du groupe",feedAlgorithm:"Algorithme du Fil d'Actualité",chronological:"Chronologique",recommended:"Recommandé",followingOnly:"Abonnements Uniquement",autoPlayVideos:"Lecture Automatique des Vidéos dans le Fil",showSensitiveContentWarning:"Afficher l'Avertissement de Contenu Sensible",showActivityStatus:"Afficher le Statut d'Activité",showActivityStatusDescription:"Permettre aux autres de voir quand vous êtes actif",showSuggestedAccounts:"Afficher les Comptes Suggérés",contentFiltering:"Filtrage de Contenu",sensitivityFilter:"Filtre de Sensibilité",off:"Désactivé",low:"Faible",medium:"Moyen",high:"Élevé",autoHideReported:"Masquer Automatiquement le Contenu Signalé",showAgeRestricted:"Afficher le Contenu avec Restriction d'Âge",mutedUsers:"Utilisateurs Silencieux",autoAcceptBookings:"Accepter Automatiquement les Réservations",autoAcceptDescription:"Accepter automatiquement les réservations qui répondent à vos critères",defaultBufferTime:"Temps de Tampon par Défaut",bufferTimeDescription:"Temps entre les sessions",minutes:"minutes",showAvailabilityPublicly:"Afficher le Calendrier de Disponibilité Publiquement",requireDeposit:"Exiger un Dépôt pour les Réservations",autoDeclineExpired:"Refuser Automatiquement les Demandes de Réservation Expirées",defaultSessionDuration:"Durée de Session par Défaut",autoListItem:"Lister Automatiquement les Articles",autoListDescription:"Lister automatiquement les articles à vendre",requireApproval:"Exiger une Approbation",requireApprovalDescription:"Réviser les articles avant qu'ils ne soient publiés",defaultShippingMethod:"Méthode d'Expédition par Défaut",defaultPaymentTerms:"Conditions de Paiement par Défaut",immediate:"Immédiat",net15:"Net 15",net30:"Net 30",autoAcceptOffersAbove:"Accepter Automatiquement les Offres au-Dessus du Seuil",autoAcceptThreshold:"Seuil d'Acceptation Automatique",showSoldItems:"Afficher les Articles Vendus dans les Listings",imageQuality:"Qualité d'Image",videoQuality:"Qualité Vidéo",high:"Élevée",medium:"Moyenne",low:"Faible (Chargement Plus Rapide)",autoSaveUploaded:"Enregistrer Automatiquement les Médias Téléchargés",autoSaveDescription:"Enregistrer automatiquement les images et vidéos téléchargées",compressImages:"Compresser les Images Avant le Téléchargement",compressDescription:"Réduire la taille du fichier pour des téléchargements plus rapides",maxUploadSize:"Taille Maximale de Téléchargement",mb:"Mo",fontSize:"Taille de Police",small:"Petite",large:"Grande",extraLarge:"Très Grande",reducedMotion:"Mouvement Réduit",reducedMotionDescription:"Désactiver les animations pour une meilleure accessibilité",highContrast:"Mode Contraste Élevé",highContrastDescription:"Augmenter le contraste pour une meilleure visibilité",screenReaderAnnouncements:"Annonces de Lecteur d'Écran",screenReaderDescription:"Activer les annonces pour les lecteurs d'écran",keyboardHints:"Indices de Navigation au Clavier",keyboardHintsDescription:"Afficher les indices pour la navigation au clavier",dataUsage:"Utilisation des Données",wifiOnly:"WiFi Uniquement (pour les médias)",auto:"Automatique",never:"Jamais (économiser les données)",offlineMode:"Mode Hors Ligne",offlineModeDescription:"Activer la fonctionnalité hors ligne",backgroundSync:"Synchronisation en Arrière-Plan",backgroundSyncDescription:"Synchroniser les données en arrière-plan",autoClearOldNotifications:"Effacer Automatiquement les Anciennes Notifications",clearAfter:"Effacer Après",days:"jours",cacheManagement:"Gestion du Cache",clearCache:"Effacer le Cache",clearCacheDescription:"Effacer les données en cache pour libérer de l'espace de stockage",saveAll:"Tout Enregistrer",saving:"Enregistrement...",saved:"Paramètres enregistrés avec succès !",saveFailed:"Échec de l'enregistrement des paramètres.",settingsUpdated:"Paramètres mis à jour !",dashboard:"Tableau de Bord",socialNx:"SocialNx",messages:"Messages",bookings:"Réservations",marketplace:"Marché",techServices:"Services Techniques",businessCenter:"Centre d'Affaires",profile:"Profil",billing:"Facturation",settings:"Paramètres",logout:"Déconnexion",search:"Rechercher",searchPlaceholder:"Rechercher...",notifications:"Notifications",noNotifications:"Aucune notification",markAllRead:"Tout marquer comme lu",clearAll:"Tout effacer",switchRole:"Changer de Rôle",viewProfile:"Voir le Profil",goodMorning:"Bonjour",goodAfternoon:"Bon après-midi",goodEvening:"Bonsoir",goodNight:"Bonne nuit",welcomeBack:"Bon retour",quickActions:"Actions Rapides",recentActivity:"Activité Récente",upcomingBookings:"Réservations à Venir",noUpcomingBookings:"Aucune réservation à venir",viewAll:"Voir Tout",seeMore:"Voir Plus",newBooking:"Nouvelle Réservation",viewCalendar:"Voir le Calendrier",recentMessages:"Messages Récents",noRecentMessages:"Aucun message récent",startConversation:"Démarrer une Conversation",trendingNow:"Tendances",viewMarketplace:"Voir le Marché",stats:"Statistiques",followers:"Abonnés",following:"Abonnements",posts:"Publications",forYou:"Pour Vous",following:"Abonnements",discover:"Découvrir",createPost:"Créer une Publication",whatOnMind:"À quoi pensez-vous ?",post:"Publier",like:"J'aime",comment:"Commenter",share:"Partager",save:"Enregistrer",repost:"Repartager",follow:"Suivre",unfollow:"Ne Plus Suivre",noPosts:"Aucune publication pour le moment",beFirst:"Soyez le premier à partager quelque chose !",noPostsFollowing:"Aucune publication récente des personnes que vous suivez",browseForYou:"Parcourir le fil Pour Vous →",suggestedForYou:"Suggéré pour vous",startFollowing:"Commencer à suivre des créateurs",followDescription:"Suivez des artistes, des ingénieurs et des studios pour voir leurs publications dans votre fil d'Abonnements.",selectConversation:"Sélectionnez une conversation pour commencer à discuter",typeMessage:"Tapez un message...",send:"Envoyer",online:"En Ligne",offline:"Hors Ligne",typing:"en train d'écrire...",newMessage:"Nouveau Message",noConversations:"Aucune conversation pour le moment",myBookings:"Mes Réservations",calendar:"Calendrier",findTalent:"Trouver un Talent",broadcasts:"Diffusions",createBroadcast:"Créer une Diffusion",newSession:"Nouvelle Session",manageSessions:"Gérez vos sessions et réservations",upcoming:"À Venir",past:"Passées",pending:"En Attente",confirmed:"Confirmées",cancelled:"Annulées",noBookings:"Aucune réservation trouvée",loading:"Chargement...",error:"Erreur",success:"Succès",cancel:"Annuler",confirm:"Confirmer",delete:"Supprimer",edit:"Modifier",save:"Enregistrer",close:"Fermer",back:"Retour",next:"Suivant",previous:"Précédent",done:"Terminé",apply:"Appliquer",reset:"Réinitialiser",filter:"Filtrer",sort:"Trier",refresh:"Actualiser",activityFeed:"Flux d'Activité",allCaughtUp:"Tout est à jour !",noNewNotifications:"Aucune nouvelle notification",viewAllActivity:"Voir Toute l'Activité",studioStatus:"Statut du Studio",manage:"Gérer",noRoomsConfigured:"Aucune salle configurée pour le moment",addFirstRoom:"+ Ajouter Votre Première Salle",new:"Nouveau",gearExchange:"Échange d'Équipement",seshFxStore:"Boutique SeshFX",searchConversations:"Rechercher des conversations...",newGroup:"Nouveau Groupe",groupChat:"Chat de Groupe",directMessage:"Message Direct",addMembers:"Ajouter des Membres",groupName:"Nom du Groupe",createGroup:"Créer un Groupe",noMessages:"Aucun message pour le moment",messageDeleted:"Message supprimé",replyingTo:"Répondre à",editingMessage:"Modification du message",forwardingMessage:"Transfert du message",unknownUser:"Utilisateur Inconnu",dropFiles:"Déposer les fichiers ici",updateMessage:"Mettre à jour le message",noMembersSelected:"Aucun membre sélectionné",noUsersFound:"Aucun utilisateur trouvé",you:"Vous",enterGroupName:"Entrer le nom du groupe",active:"Actif",inactive:"Inactif",pending:"En Attente",completed:"Terminé",cancelled:"Annulé",declined:"Refusé",confirmed:"Confirmé"},de:{general:"Allgemein",security:"Sicherheit & Datenschutz",notifications:"Benachrichtigungen",messaging:"Nachrichten",social:"Social & Feed",bookings:"Buchungen",marketplace:"Marktplatz",content:"Inhalt & Medien",accessibility:"Barrierefreiheit",performance:"Leistung",rolesWorkflow:"Rollen & Arbeitsablauf",activeAccountTypes:"Aktive Kontotypen",preferredProfile:"Bevorzugtes Profil",activeWorkflowContext:"Aktiver Arbeitsablauf-Kontext",seeAllUnfiltered:"Alles Anzeigen (Ungefilterte Ansicht)",seeAllDescription:"Alle Inhaltstypen unabhängig vom aktiven Arbeitsablauf anzeigen",saveWorkflowSettings:"Arbeitsablauf-Einstellungen Speichern",appearance:"Erscheinungsbild",light:"Hell",dark:"Dunkel",system:"System",languageLocalization:"Sprache & Lokalisierung",language:"Sprache",dateFormat:"Datumsformat",timeFormat:"Zeitformat",timezone:"Zeitzone",currency:"Währung",numberFormat:"Zahlenformat",autoDetect:"Automatisch Erkennen",easternTime:"Östliche Zeit",centralTime:"Zentrale Zeit",mountainTime:"Bergzeit",pacificTime:"Pazifische Zeit",accountSecurity:"Kontosicherheit",emailAddress:"E-Mail-Adresse",password:"Passwort",changeEmail:"E-Mail Ändern",changePassword:"Passwort Ändern",twoFactorAuth:"Zwei-Faktor-Authentifizierung (2FA)",twoFactorDescription:"Fügen Sie eine zusätzliche Sicherheitsebene zu Ihrem Konto hinzu",lastChanged:"Zuletzt geändert",unknown:"Unbekannt",privacyVisibility:"Datenschutz & Sichtbarkeit",publicProfileVisibility:"Öffentliche Profilsichtbarkeit",showLocationOnMap:"Standort auf Karte Anzeigen",hideProfileCompletely:"Profil Vollständig Ausblenden",showEmailAddress:"E-Mail-Adresse Anzeigen",showPhoneNumber:"Telefonnummer Anzeigen",showOnlineStatus:"Online-Status Anzeigen",showLastSeen:"Zuletzt Gesehen Anzeigen",allowSearchEngines:"Suchmaschinen-Indexierung Erlauben",allowTagging:"Tagging Erlauben",reviewTagsBeforeAppear:"Tags Vor dem Erscheinen Überprüfen",showFollowingList:"Folge-Liste Anzeigen",showFollowersList:"Follower-Liste Anzeigen",contentSafety:"Inhalt & Sicherheit",blockedUsers:"Blockierte Benutzer",mutedThreads:"Stummgeschaltete Threads",noActive:"Keine aktiven",yourData:"Ihre Daten",downloadDataDescription:"Laden Sie eine Kopie Ihrer persönlichen Daten herunter (DSGVO/CCPA).",downloadData:"Daten Herunterladen",dangerZone:"Gefahrenzone",deleteAccountWarning:"Das Löschen Ihres Kontos ist dauerhaft. Diese Aktion löscht Ihr Profil, Ihre Beiträge und Nachrichten.",deleteAccount:"Konto Löschen",confirmDeletion:"Löschung Bestätigen",typeDeleteToConfirm:"Geben Sie LÖSCHEN unten ein, um zu bestätigen. Dies kann nicht rückgängig gemacht werden.",confirmDelete:"Löschung Bestätigen",cancel:"Abbrechen",generalNotifications:"Allgemeine Benachrichtigungen",emailNotifications:"E-Mail-Benachrichtigungen",pushNotifications:"Push-Benachrichtigungen",marketingUpdates:"Marketing & Updates",soundNotifications:"Tonbenachrichtigungen",badgeCount:"Badge-Zähler",badgeCountDescription:"Ungelesene Anzahl auf App-Symbol anzeigen",bookingNotifications:"Buchungsbenachrichtigungen",newBookingRequests:"Neue Buchungsanfragen",bookingConfirmations:"Buchungsbestätigungen",bookingReminders:"Buchungserinnerungen",bookingCancellations:"Buchungsstornierungen",socialNotifications:"Soziale Benachrichtigungen",likes:"Gefällt mir",comments:"Kommentare",follows:"Folgen",mentions:"Erwähnungen",reposts:"Weiterleitungen",marketplaceNotifications:"Marktplatz-Benachrichtigungen",newOffers:"Neue Angebote",sales:"Verkäufe",messages:"Nachrichten",systemNotifications:"Systembenachrichtigungen",maintenanceAlerts:"Wartungsbenachrichtigungen",updates:"Updates",securityAlerts:"Sicherheitswarnungen",quietHours:"Ruhezeiten",enableQuietHours:"Ruhezeiten Aktivieren",quietHoursDescription:"Benachrichtigungen während bestimmter Zeiten deaktivieren",startTime:"Startzeit",endTime:"Endzeit",readReceipts:"Lesebestätigungen",readReceiptsDescription:"Anzeigen, wenn Nachrichten gelesen wurden",typingIndicators:"Tippindikatoren",typingIndicatorsDescription:"Anzeigen, wenn jemand tippt",messageRequests:"Nachrichtenanfragen",messageRequestsDescription:"Genehmigung für Nachrichten von Nicht-Kontakten erforderlich",whoCanMessageYou:"Wer Kann Ihnen Nachrichten Senden",everyone:"Jeder",followersOnly:"Nur Follower",noOne:"Niemand",autoArchiveOld:"Alte Unterhaltungen Automatisch Archivieren",autoArchiveDescription:"Unterhaltungen älter als 30 Tage automatisch archivieren",soundNotificationsMessages:"Tonbenachrichtigungen für Nachrichten",messagePreview:"Nachrichtenvorschau in Benachrichtigungen",messagePreviewDescription:"Nachrichteninhalt in Benachrichtigungen anzeigen",blockedContacts:"Blockierte Kontakte",searchConversations:"Unterhaltungen suchen...",newGroup:"Neue Gruppe",groupChat:"Gruppenchat",directMessage:"Direktnachricht",addMembers:"Mitglieder Hinzufügen",groupName:"Gruppenname",createGroup:"Gruppe Erstellen",noMessages:"Noch keine Nachrichten",messageDeleted:"Nachricht gelöscht",replyingTo:"Antworten an",editingMessage:"Nachricht bearbeiten",forwardingMessage:"Nachricht weiterleiten",unknownUser:"Unbekannter Benutzer",dropFiles:"Dateien hier ablegen",updateMessage:"Nachricht aktualisieren",noMembersSelected:"Keine Mitglieder ausgewählt",noUsersFound:"Keine Benutzer gefunden",you:"Du",enterGroupName:"Gruppenname eingeben",feedAlgorithm:"Feed-Algorithmus",chronological:"Chronologisch",recommended:"Empfohlen",followingOnly:"Nur Gefolgte",autoPlayVideos:"Videos im Feed Automatisch Abspielen",showSensitiveContentWarning:"Warnung für Sensiblen Inhalt Anzeigen",showActivityStatus:"Aktivitätsstatus Anzeigen",showActivityStatusDescription:"Anderen erlauben zu sehen, wann Sie aktiv sind",showSuggestedAccounts:"Vorgeschlagene Konten Anzeigen",contentFiltering:"Inhaltsfilterung",sensitivityFilter:"Empfindlichkeitsfilter",off:"Aus",low:"Niedrig",medium:"Mittel",high:"Hoch",autoHideReported:"Gemeldeten Inhalt Automatisch Ausblenden",showAgeRestricted:"Altersbeschränkten Inhalt Anzeigen",mutedUsers:"Stummgeschaltete Benutzer",autoAcceptBookings:"Buchungen Automatisch Akzeptieren",autoAcceptDescription:"Buchungen automatisch akzeptieren, die Ihren Kriterien entsprechen",defaultBufferTime:"Standard-Pufferzeit",bufferTimeDescription:"Zeit zwischen Sitzungen",minutes:"Minuten",showAvailabilityPublicly:"Verfügbarkeitskalender Öffentlich Anzeigen",requireDeposit:"Anzahlung für Buchungen Erfordern",autoDeclineExpired:"Abgelaufene Buchungsanfragen Automatisch Ablehnen",defaultSessionDuration:"Standard-Sitzungsdauer",autoListItem:"Artikel Automatisch Auflisten",autoListDescription:"Artikel automatisch zum Verkauf auflisten",requireApproval:"Genehmigung Erfordern",requireApprovalDescription:"Artikel überprüfen, bevor sie veröffentlicht werden",defaultShippingMethod:"Standard-Versandmethode",defaultPaymentTerms:"Standard-Zahlungsbedingungen",immediate:"Sofort",net15:"Netto 15",net30:"Netto 30",autoAcceptOffersAbove:"Angebote Über dem Schwellenwert Automatisch Akzeptieren",autoAcceptThreshold:"Automatischer Akzeptanz-Schwellenwert",showSoldItems:"Verkaufte Artikel in Auflistungen Anzeigen",imageQuality:"Bildqualität",videoQuality:"Videoqualität",high:"Hoch",medium:"Mittel",low:"Niedrig (Schnelleres Laden)",autoSaveUploaded:"Hochgeladene Medien Automatisch Speichern",autoSaveDescription:"Hochgeladene Bilder und Videos automatisch speichern",compressImages:"Bilder Vor dem Hochladen Komprimieren",compressDescription:"Dateigröße für schnellere Uploads reduzieren",maxUploadSize:"Maximale Upload-Größe",mb:"MB",fontSize:"Schriftgröße",small:"Klein",large:"Groß",extraLarge:"Extra Groß",reducedMotion:"Reduzierte Bewegung",reducedMotionDescription:"Animationen für bessere Barrierefreiheit deaktivieren",highContrast:"Hoher Kontrast Modus",highContrastDescription:"Kontrast für bessere Sichtbarkeit erhöhen",screenReaderAnnouncements:"Bildschirmleser-Ankündigungen",screenReaderDescription:"Ankündigungen für Bildschirmleser aktivieren",keyboardHints:"Tastaturnavigations-Hinweise",keyboardHintsDescription:"Hinweise für Tastaturnavigation anzeigen",dataUsage:"Datenverbrauch",wifiOnly:"Nur WiFi (für Medien)",auto:"Automatisch",never:"Niemals (Daten sparen)",offlineMode:"Offline-Modus",offlineModeDescription:"Offline-Funktionalität aktivieren",backgroundSync:"Hintergrund-Synchronisation",backgroundSyncDescription:"Daten im Hintergrund synchronisieren",autoClearOldNotifications:"Alte Benachrichtigungen Automatisch Löschen",clearAfter:"Löschen Nach",days:"Tagen",cacheManagement:"Cache-Verwaltung",clearCache:"Cache Löschen",clearCacheDescription:"Gecachte Daten löschen, um Speicherplatz freizugeben",saveAll:"Alles Speichern",saving:"Speichern...",saved:"Einstellungen erfolgreich gespeichert!",saveFailed:"Fehler beim Speichern der Einstellungen.",settingsUpdated:"Einstellungen aktualisiert!",dashboard:"Dashboard",socialNx:"SocialNx",messages:"Nachrichten",bookings:"Buchungen",marketplace:"Marktplatz",techServices:"Technische Dienste",businessCenter:"Business Center",profile:"Profil",billing:"Abrechnung",settings:"Einstellungen",logout:"Abmelden",search:"Suchen",searchPlaceholder:"Suchen...",notifications:"Benachrichtigungen",noNotifications:"Keine Benachrichtigungen",markAllRead:"Alle als gelesen markieren",clearAll:"Alle löschen",switchRole:"Rolle Wechseln",viewProfile:"Profil Anzeigen",goodMorning:"Guten Morgen",goodAfternoon:"Guten Tag",goodEvening:"Guten Abend",goodNight:"Gute Nacht",welcomeBack:"Willkommen zurück",quickActions:"Schnellaktionen",recentActivity:"Letzte Aktivität",upcomingBookings:"Anstehende Buchungen",noUpcomingBookings:"Keine anstehenden Buchungen",viewAll:"Alle Anzeigen",seeMore:"Mehr Anzeigen",newBooking:"Neue Buchung",viewCalendar:"Kalender Anzeigen",recentMessages:"Letzte Nachrichten",noRecentMessages:"Keine letzten Nachrichten",startConversation:"Unterhaltung Starten",trendingNow:"Trending",viewMarketplace:"Marktplatz Anzeigen",stats:"Statistiken",followers:"Follower",following:"Folgen",posts:"Beiträge",forYou:"Für Dich",following:"Folgen",discover:"Entdecken",createPost:"Beitrag Erstellen",whatOnMind:"Woran denkst du?",post:"Beitrag",like:"Gefällt mir",comment:"Kommentieren",share:"Teilen",save:"Speichern",repost:"Weiterleiten",follow:"Folgen",unfollow:"Nicht Mehr Folgen",noPosts:"Noch keine Beiträge",beFirst:"Sei der Erste, der etwas teilt!",noPostsFollowing:"Keine letzten Beiträge von Personen, denen du folgst",browseForYou:"Für Dich Feed durchsuchen →",suggestedForYou:"Vorgeschlagen für dich",startFollowing:"Beginne, Kreativen zu folgen",followDescription:"Folge Künstlern, Ingenieuren und Studios, um ihre Beiträge in deinem Folgen-Feed zu sehen.",selectConversation:"Wähle eine Unterhaltung aus, um zu chatten",typeMessage:"Nachricht eingeben...",send:"Senden",online:"Online",offline:"Offline",typing:"tippt...",newMessage:"Neue Nachricht",noConversations:"Noch keine Unterhaltungen",searchConversations:"Unterhaltungen suchen...",newGroup:"Neue Gruppe",groupChat:"Gruppenchat",directMessage:"Direktnachricht",addMembers:"Mitglieder Hinzufügen",groupName:"Gruppenname",createGroup:"Gruppe Erstellen",noMessages:"Noch keine Nachrichten",messageDeleted:"Nachricht gelöscht",replyingTo:"Antworten an",editingMessage:"Nachricht bearbeiten",forwardingMessage:"Nachricht weiterleiten",unknownUser:"Unbekannter Benutzer",dropFiles:"Dateien hier ablegen",updateMessage:"Nachricht aktualisieren",noMembersSelected:"Keine Mitglieder ausgewählt",noUsersFound:"Keine Benutzer gefunden",you:"Du",enterGroupName:"Gruppenname eingeben",myBookings:"Meine Buchungen",calendar:"Kalender",findTalent:"Talent Finden",broadcasts:"Übertragungen",createBroadcast:"Übertragung Erstellen",newSession:"Neue Sitzung",manageSessions:"Verwalte deine Sitzungen und Buchungen",upcoming:"Anstehend",past:"Vergangen",pending:"Ausstehend",confirmed:"Bestätigt",cancelled:"Abgesagt",noBookings:"Keine Buchungen gefunden",loading:"Laden...",error:"Fehler",success:"Erfolg",cancel:"Abbrechen",confirm:"Bestätigen",delete:"Löschen",edit:"Bearbeiten",save:"Speichern",close:"Schließen",back:"Zurück",next:"Weiter",previous:"Zurück",done:"Fertig",apply:"Anwenden",reset:"Zurücksetzen",filter:"Filtern",sort:"Sortieren",refresh:"Aktualisieren"}};function Dt(t,s="en"){return(me[s]||me.en)[t]||me.en[t]||t}function st(t="en"){return me[t]||me.en}const nt=r.createContext();function is({children:t,userData:s}){var b;const[n,a]=r.useState(()=>{var f;if(typeof window<"u"){const v=localStorage.getItem("language");return v||((f=s==null?void 0:s.settings)==null?void 0:f.language)||"en"}return"en"});r.useEffect(()=>{var f;(f=s==null?void 0:s.settings)!=null&&f.language&&(a(s.settings.language),localStorage.setItem("language",s.settings.language),document.documentElement.lang=s.settings.language)},[(b=s==null?void 0:s.settings)==null?void 0:b.language]),r.useEffect(()=>{document.documentElement.lang=n,localStorage.setItem("language",n)},[n]);const i=f=>Dt(f,n),o=st(n);return e.jsx(nt.Provider,{value:{language:n,setLanguage:a,t:i,translations:o},children:t})}function Be(){const t=r.useContext(nt);return t||{language:"en",setLanguage:()=>{},t:s=>s,translations:st("en")}}const ze="https://brainy-basilisk-921.convex.cloud",at=ze.trim()!==""?ze.trim():"https://placeholder.convex.cloud",os=new lt(at),K=()=>ze.trim()!==""&&at!=="https://placeholder.convex.cloud",Tt="https://jifhavvwftrdubyriugu.supabase.co",Ft="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImppZmhhdnZ3ZnRyZHVieXJpdWd1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4MTUyNjksImV4cCI6MjA4MTM5MTI2OX0.iUWR-VCczogEqmJ8XVKYH232SiYlN0569MKpcvuITCE",J=ct(Tt,Ft,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1,storage:void 0},global:{headers:{"x-client-info":"seshnx-webapp@1.0.0"}}}),zt=t=>{var n,a;if(!t)return"";const s=t.trim().split(" ").filter(Boolean);return s.length>=2?(s[0][0]+s[1][0]).toUpperCase():s.length===1&&s[0].length>=2?s[0].substring(0,2).toUpperCase():((a=(n=s[0])==null?void 0:n[0])==null?void 0:a.toUpperCase())||""},Pt=t=>{if(!t)return"from-brand-blue to-purple-600";const s=["from-brand-blue to-purple-600","from-emerald-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-indigo-500 to-blue-600","from-amber-500 to-orange-600","from-cyan-500 to-blue-600","from-violet-500 to-purple-600"],n=t.split("").reduce((a,i)=>a+i.charCodeAt(0),0);return s[n%s.length]};function ce({src:t,name:s,size:n="md",className:a,onClick:i,status:o,isGroup:b=!1,square:f=!1}){const[v,p]=r.useState(!1),S=We(De("relative overflow-hidden flex items-center justify-center shrink-0 bg-gray-200 dark:bg-gray-700 border border-transparent transition-all select-none",f?"rounded-xl":"rounded-full",{xs:"h-6 w-6 text-[10px]",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-14 w-14 text-lg","2xl":"h-24 w-24 text-2xl","3xl":"h-32 w-32 text-4xl"}[n],i&&"cursor-pointer hover:opacity-90",a)),u=!t||v,d=zt(s),m=Pt(s);return e.jsxs("div",{className:S,onClick:i,role:i?"button":void 0,tabIndex:i?0:void 0,"aria-label":s?`${s}'s avatar`:"User avatar",children:[u?e.jsx("div",{className:`h-full w-full flex items-center justify-center bg-gradient-to-br ${m} text-white font-bold`,children:b?e.jsx(he,{className:"w-1/2 h-1/2","aria-hidden":"true"}):d?e.jsx("span",{"aria-hidden":"true",children:d}):e.jsx(Ke,{className:"w-1/2 h-1/2","aria-hidden":"true"})}):e.jsx("img",{src:t,alt:s||"Avatar",className:"h-full w-full object-cover",onError:()=>p(!0),loading:"lazy"}),o&&e.jsx("span",{className:De("absolute bottom-0 right-0 rounded-full border-2 border-white dark:border-gray-900",o==="online"?"bg-green-500":"bg-gray-400",n==="xs"||n==="sm"?"h-2 w-2":"h-3.5 w-3.5"),"aria-label":o==="online"?"Online":"Offline"})]})}const G=dt;ut();function ls(t){const s=r.useRef(!1),n=W(G.presence.updatePresence);r.useEffect(()=>{if(!t||!K())return;n({userId:t,online:!0,lastSeen:Date.now()}).then(()=>{s.current=!0}).catch(i=>{console.error("Presence online error:",i)});const a=setInterval(()=>{s.current&&n({userId:t,online:!0,lastSeen:Date.now()}).catch(console.error)},3e4);return()=>{clearInterval(a),s.current&&(n({userId:t,online:!1,lastSeen:Date.now()}).catch(console.error),s.current=!1)}},[t])}function rt(t){const s=K(),n=r.useMemo(()=>t&&s?{userId:t}:"skip",[t,s]),a=oe(G.presence.getPresence,n);return a?{online:a.online===!0,lastSeen:a.lastSeen,loading:!1}:{online:!1,lastSeen:null,loading:!K()}}function Et(t){if(!t)return"Never";const s=t,a=Date.now()-s,i=Math.floor(a/6e4),o=Math.floor(i/60),b=Math.floor(o/24);return i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:b<7?`${b}d ago`:new Date(s).toLocaleDateString()}function it({online:t,lastSeen:s,showText:n=!1,size:a="sm"}){const i={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5"},o={xs:"text-[10px]",sm:"text-xs",md:"text-sm"};return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:`${i[a]} ${t?"fill-green-500 text-green-500":"fill-gray-400 text-gray-400"}`}),t&&e.jsx("div",{className:"absolute inset-0 animate-ping",children:e.jsx(Le,{className:`${i[a]} fill-green-500 opacity-75`})})]}),n&&e.jsx("span",{className:`${o[a]} ${t?"text-green-500":"text-gray-400"} font-medium`,children:t?"Online":Et(s)})]})}function Bt({conversation:t,activeChat:s,currentUserId:n,onSelect:a,onDelete:i}){const o=t.type==="direct"?t.uid||(t.id.includes("_")?t.id.split("_").find(v=>v!==n):null):null,{online:b,lastSeen:f}=rt(o||"");return e.jsxs("div",{onClick:()=>a(t),className:`group relative flex gap-3 p-4 cursor-pointer transition border-b dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5 ${(s==null?void 0:s.id)===t.id?"bg-blue-50 dark:bg-blue-900/10 border-l-4 border-l-brand-blue":""}`,children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx(ce,{src:t.photo,name:t.n,size:"lg",isGroup:t.type==="group"}),t.type==="direct"&&o&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5",children:e.jsx(it,{online:b,lastSeen:f,size:"xs"})}),t.uc>0&&e.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-brand-blue text-white text-[10px] font-bold flex items-center justify-center rounded-full border-2 border-white dark:border-[#2c2e36]",children:t.uc>99?"99+":t.uc})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[e.jsx("h4",{className:`text-sm truncate ${t.uc>0?"font-extrabold text-gray-900 dark:text-white":"font-bold text-gray-700 dark:text-gray-300"}`,children:t.n}),e.jsx("span",{className:"text-[10px] text-gray-400 shrink-0 ml-2",children:t.lmt?new Date(t.lmt).toLocaleDateString():""})]}),e.jsxs("p",{className:`text-xs truncate ${t.uc>0?"text-gray-800 dark:text-gray-200 font-medium":"text-gray-500"}`,children:[t.ls===n?"You: ":"",t.lm]})]}),e.jsx("button",{onClick:v=>{v.stopPropagation(),i==null||i(t.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white dark:bg-gray-800 shadow-md rounded-full text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all z-10",children:e.jsx(we,{size:16})})]})}function cs({user:t,conversations:s=[],activeChat:n,onSelectChat:a}){const{t:i}=Be(),[o,b]=r.useState(!1),[f,v]=r.useState(!1),[p,k]=r.useState("direct"),[S,u]=r.useState(!1),[d,m]=r.useState(""),[l,j]=r.useState([]),[x,g]=r.useState(""),[h,M]=r.useState([]),N=W(G.conversations.createGroupChat),P=W(G.conversations.deleteConversation),V=async A=>{g(A);const D=A.trim();if(D.length>1&&J){const F=(t==null?void 0:t.id)||(t==null?void 0:t.uid);try{const{data:_,error:X}=await J.from("profiles").select("id, first_name, last_name, avatar_url, active_role").or(`first_name.ilike.%${D}%,last_name.ilike.%${D}%`).neq("id",F).limit(20);if(X)throw X;const q=(_||[]).map($=>({id:$.id,firstName:$.first_name,lastName:$.last_name,photoURL:$.avatar_url,role:$.active_role}));M(q)}catch(_){console.error("Search error:",_),M([])}}else M([])},L=A=>{const D=(t==null?void 0:t.id)||(t==null?void 0:t.uid);if(p==="direct"){const F=[D,A.id].sort().join("_");a({id:F,uid:A.id,name:`${A.firstName} ${A.lastName}`,type:"direct"}),T()}else p==="add_member"&&(l.find(F=>F.id===A.id)||j(F=>[...F,A]),T())},T=()=>{b(!1),g(""),M([])},U=()=>{m(""),j([]),v(!0)},Y=()=>{k("add_member"),b(!0)},Z=async()=>{if(!d||l.length===0)return alert("Name and members required.");if(!K()){alert("Chat functionality is not available. Convex is not configured.");return}u(!0);try{const A=(t==null?void 0:t.id)||(t==null?void 0:t.uid),D=l.map(_=>_.id),{chatId:F}=await N({creatorId:A,chatName:d,memberIds:D});v(!1),a({id:F,name:d,type:"group"})}catch(A){console.error("Group creation failed",A),alert("Group creation failed: "+A.message)}finally{u(!1)}},te=async(A,D)=>{if(window.confirm("Delete this conversation?")){if(!K()){alert("Chat functionality is not available. Convex is not configured.");return}try{const F=(t==null?void 0:t.id)||(t==null?void 0:t.uid);await P({userId:F,chatId:D}),(n==null?void 0:n.id)===D&&a(null)}catch(F){console.error(F)}}};return e.jsxs("div",{className:"flex flex-col h-full relative overflow-hidden bg-white dark:bg-[#1f2128]",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-[#23262f] shrink-0",children:[e.jsx("h2",{className:"font-extrabold text-lg dark:text-white tracking-tight",children:i("messages")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:U,className:"p-2 bg-white dark:bg-gray-700 rounded-full shadow-sm hover:text-brand-blue transition",title:i("newGroup"),children:e.jsx(he,{size:18})}),e.jsx("button",{onClick:()=>{k("direct"),b(!0)},className:"p-2 bg-white dark:bg-gray-700 rounded-full shadow-sm hover:text-brand-blue transition",title:i("newMessage"),children:e.jsx(Ce,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:s.map(A=>e.jsx(Bt,{conversation:A,activeChat:n,currentUserId:(t==null?void 0:t.id)||(t==null?void 0:t.uid),onSelect:a,onDelete:D=>{window.confirm("Delete this conversation?")&&te({},D)}},A.id))}),f&&e.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-[#1f2128] z-20 flex flex-col animate-in slide-in-from-right-10 duration-200",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center gap-3 bg-gray-50 dark:bg-[#23262f]",children:[e.jsx("button",{onClick:()=>v(!1),className:"hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded-full",children:e.jsx(Qe,{size:20})}),e.jsx("h3",{className:"font-bold dark:text-white",children:i("newGroup")})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase mb-2 block",children:["1. ",i("groupName")]}),e.jsx("input",{className:"w-full p-3 border rounded-xl dark:bg-black/20 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-brand-blue outline-none",placeholder:i("groupName")+"...",value:d,onChange:A=>m(A.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase",children:["2. ",i("addMembers")," (",l.length,")"]}),e.jsxs("button",{onClick:Y,className:"text-xs font-bold text-brand-blue flex items-center gap-1 hover:underline",children:[e.jsx(Ce,{size:14})," ",i("addMembers")]})]}),e.jsx("div",{className:"space-y-2",children:l.length===0?e.jsx("div",{className:"text-center py-8 border-2 border-dashed dark:border-gray-700 rounded-xl text-gray-400 text-sm",children:i("noMembersSelected")}):l.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg border dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{src:A.photoURL,name:A.firstName,size:"sm"}),e.jsxs("span",{className:"text-sm font-bold dark:text-white",children:[A.firstName," ",A.lastName]})]}),e.jsx("button",{onClick:()=>j(D=>D.filter(F=>F.id!==A.id)),className:"text-gray-400 hover:text-red-500",children:e.jsx(Q,{size:16})})]},A.id))})]})]}),e.jsx("div",{className:"p-4 border-t dark:border-gray-700",children:e.jsx("button",{onClick:Z,disabled:!d||l.length===0||S,className:"w-full bg-brand-blue text-white py-3.5 rounded-xl font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-lg flex justify-center items-center gap-2",children:S?e.jsx(le,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[i("createGroup")," ",e.jsx(Ye,{size:18})]})})})]}),o&&e.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-[#1f2128] z-30 flex flex-col animate-in fade-in duration-200",children:[e.jsxs("div",{className:"p-3 border-b dark:border-gray-700 flex items-center gap-2 bg-white dark:bg-[#1f2128]",children:[e.jsx(Ne,{size:18,className:"text-gray-400 ml-2"}),e.jsx("input",{autoFocus:!0,className:"flex-1 p-2 bg-transparent outline-none dark:text-white placeholder-gray-400",placeholder:i("search")+"...",value:x,onChange:A=>V(A.target.value)}),e.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:e.jsx(Q,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[h.length===0&&x.length>1&&e.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:[i("noUsersFound"),"."]}),h.map(A=>{const D=p==="add_member"&&l.find(F=>F.id===A.id);return e.jsxs("div",{onClick:()=>L(A),className:`flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl cursor-pointer transition mb-1 ${D?"opacity-50 pointer-events-none":""}`,children:[e.jsx(ce,{src:A.photoURL,name:A.firstName,size:"md"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm font-bold dark:text-white",children:[A.firstName," ",A.lastName]}),e.jsx("div",{className:"text-xs text-gray-500",children:A.role||"User"})]}),p==="add_member"&&e.jsx(Ce,{size:18,className:"text-brand-blue"})]},A.id)})]})]})]})}const Ve="public",Lt=()=>{const[t,s]=r.useState(!1),[n,a]=r.useState(null);return{uploadMedia:async(o,b="general")=>{if(!o)return null;if(!J)return a("Supabase is not configured. Please set environment variables."),console.error("Supabase Storage is not available."),null;s(!0),a(null);try{const f=Date.now(),v=o.name.replace(/[^a-zA-Z0-9.-]/g,"_"),p=`${f}_${v}`,k=`${b}/${p}`,{data:S,error:u}=await J.storage.from(Ve).upload(k,o,{upsert:!0,cacheControl:"3600",contentType:o.type});if(u)throw u;const{data:d}=J.storage.from(Ve).getPublicUrl(k),m=d.publicUrl;let l="file";return o.type.startsWith("video/")?l="video":o.type.startsWith("audio/")?l="audio":o.type.startsWith("image/")&&(l="image"),s(!1),{url:m,previewUrl:m,storageRef:k,type:l,name:o.name,size:o.size,mimeType:o.type}}catch(f){return console.error("Upload failed:",f),a(f.message||"An unknown error occurred during upload."),s(!1),null}},uploading:t,error:n}},xe={Recent:["👍","❤️","😂","😮","😢","🔥","🎉","👏"],Smileys:["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😌","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮"],Gestures:["👋","🤚","🖐️","✋","🖖","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏"],Hearts:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","💕","💞","💓","💗","💖","💘","💝","💟"],Objects:["💎","🔔","🔕","🎵","🎶","🎤","🎧","📻","🎷","🎺","🎸","🎹","🎮","🕹️","🎯","🎲","🎳","🎴","🃏","🀄","🎰","📱","📞","☎️","📟","📠","💻","🖥️","🖨️","⌨️","🖱️","🖲️","🕹️","🗜️","💾","💿","📀"],Flags:["🏳️","🏴","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🇺🇸","🇬🇧","🇨🇦","🇦🇺","🇫🇷","🇩🇪","🇮🇹","🇪🇸","🇯🇵","🇰🇷","🇨🇳","🇮🇳","🇧🇷","🇲🇽"],Music:["🎵","🎶","🎤","🎧","📻","🎷","🎺","🎸","🎹","🥁","🪘","🎻","🎪","🎭","🎨","🎬","🎤","🎧","🎼","🎹"],Reactions:["👍","👎","❤️","🔥","😂","😮","😢","👏","🙌","🤝","🤗","🤔","🤦","🤷","🙏","👀","💪","🤘","✌️","🤞"]},It=Object.values(xe).flat();function Gt({onSelect:t,onClose:s,position:n="bottom"}){const[a,i]=r.useState("Recent"),[o,b]=r.useState(""),[f,v]=r.useState(()=>{const u=localStorage.getItem("recentEmojis");return u?JSON.parse(u):xe.Recent}),p=r.useMemo(()=>o.trim()?It.filter(u=>u.includes(o)||o.includes(u)):a==="Recent"?f:xe[a]||[],[o,a,f]),k=u=>{const d=[u,...f.filter(m=>m!==u)].slice(0,8);v(d),localStorage.setItem("recentEmojis",JSON.stringify(d)),t(u),s&&s()},S=Object.keys(xe);return e.jsxs(B.div,{initial:{opacity:0,scale:.95,y:n==="bottom"?-10:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},className:`
                absolute ${n==="bottom"?"bottom-full mb-2":"top-full mt-2"} 
                left-0
                w-[340px] bg-white dark:bg-gray-800 
                rounded-2xl shadow-2xl border dark:border-gray-700
                z-50 overflow-hidden
            `,children:[e.jsxs("div",{className:"p-3 border-b dark:border-gray-700",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ne,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search emojis...",value:o,onChange:u=>b(u.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-blue dark:text-white"}),o&&e.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Q,{size:16})})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:S.map(u=>e.jsxs("button",{onClick:()=>i(u),className:`
                                px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition
                                ${a===u?"bg-brand-blue text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                            `,children:[u==="Recent"?e.jsx(Pe,{size:12,className:"inline mr-1"}):null,u]},u))})]}),e.jsx("div",{className:"h-[280px] overflow-y-auto custom-scrollbar p-3",children:p.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:e.jsx("p",{className:"text-sm",children:"No emojis found"})}):e.jsx("div",{className:"grid grid-cols-8 gap-1",children:p.map((u,d)=>e.jsx(B.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>k(u),className:"w-10 h-10 flex items-center justify-center text-xl rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:u},`${u}-${d}`))})})]})}const He="demo_key",$e="https://api.giphy.com/v1/gifs";function Ut({onSelect:t,onClose:s,position:n="bottom"}){const[a,i]=r.useState(""),[o,b]=r.useState([]),[f,v]=r.useState([]),[p,k]=r.useState(!1),[S,u]=r.useState("trending"),d=r.useRef(null);r.useEffect(()=>{m()},[]),r.useEffect(()=>(a.trim()?(u("search"),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{l(a)},500)):(u("trending"),b([])),()=>{d.current&&clearTimeout(d.current)}),[a]);const m=async()=>{k(!0);try{const h=await(await fetch(`${$e}/trending?api_key=${He}&limit=24&rating=g`)).json();h.data&&v(h.data)}catch(g){console.error("Giphy trending error:",g)}k(!1)},l=async g=>{if(g.trim()){k(!0);try{const M=await(await fetch(`${$e}/search?api_key=${He}&q=${encodeURIComponent(g)}&limit=24&rating=g`)).json();M.data&&b(M.data)}catch(h){console.error("Giphy search error:",h)}k(!1)}},j=g=>{t==null||t({url:g.images.fixed_height.url||g.images.original.url,previewUrl:g.images.preview_gif.url||g.images.fixed_height_small.url,width:g.images.fixed_height.width,height:g.images.fixed_height.height,title:g.title||"GIF"}),s&&s()},x=S==="trending"?f:o;return e.jsxs(B.div,{initial:{opacity:0,scale:.95,y:n==="bottom"?-10:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},className:`
                absolute ${n==="bottom"?"bottom-full mb-2":"top-full mt-2"} 
                left-0
                w-[380px] bg-white dark:bg-gray-800 
                rounded-2xl shadow-2xl border dark:border-gray-700
                z-50 overflow-hidden
            `,children:[e.jsx("div",{className:"p-3 border-b dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search GIFs...",value:a,onChange:g=>i(g.target.value),className:"w-full pl-9 pr-10 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-blue dark:text-white"}),a&&e.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Q,{size:16})})]})}),e.jsx("div",{className:"h-[320px] overflow-y-auto custom-scrollbar p-3",children:p?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(le,{className:"animate-spin text-brand-blue mb-2",size:24}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading GIFs..."})]}):x.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(gt,{size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:S==="search"?"No GIFs found. Try a different search.":"Loading trending GIFs..."})]}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map(g=>e.jsxs(B.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(g),className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer bg-gray-100 dark:bg-gray-700 group",children:[e.jsx("img",{src:g.images.fixed_height_small.url||g.images.preview_gif.url,alt:g.title,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition"})]},g.id))})}),e.jsx("div",{className:"p-2 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center",children:e.jsxs("p",{className:"text-[10px] text-gray-400",children:["Powered by ",e.jsx("span",{className:"font-bold",children:"GIPHY"})]})})]})}function qt({onRecorded:t,onClose:s,maxDuration:n=60}){const[a,i]=r.useState(!1),[o,b]=r.useState(null),[f,v]=r.useState(0),[p,k]=r.useState(null),[S,u]=r.useState(null),d=r.useRef(null),m=r.useRef(null),l=r.useRef(null),j=r.useRef([]),x=r.useRef(null);r.useEffect(()=>(g(),()=>{h()}),[]);const g=async()=>{try{const T=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0});m.current=T,d.current&&(d.current.srcObject=T),k(!0),u(null)}catch(T){console.error("Permission error:",T),k(!1),u("Camera/microphone access denied")}},h=()=>{m.current&&(m.current.getTracks().forEach(T=>T.stop()),m.current=null),x.current&&clearInterval(x.current)},M=async()=>{if(!m.current){await g();return}try{j.current=[];const T={mimeType:"video/webm;codecs=vp9,opus",videoBitsPerSecond:25e5};l.current=new MediaRecorder(m.current,T),l.current.ondataavailable=U=>{U.data.size>0&&j.current.push(U.data)},l.current.onstop=()=>{const U=new Blob(j.current,{type:"video/webm"});b(U),i(!1),v(0),x.current&&clearInterval(x.current)},l.current.start(),i(!0),v(0),x.current=setInterval(()=>{v(U=>{const Y=U+1;return Y>=n&&N(),Y})},1e3)}catch(T){console.error("Recording error:",T),u("Failed to start recording")}},N=()=>{l.current&&a&&l.current.stop()},P=()=>{b(null),v(0),i(!1)},V=()=>{if(o){const T=new File([o],`video_${Date.now()}.webm`,{type:"video/webm"});t==null||t(T),h(),s==null||s()}},L=T=>{const U=Math.floor(T/60),Y=T%60;return`${U}:${Y.toString().padStart(2,"0")}`};return!p&&p!==null?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[80] p-4",children:e.jsx(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-[#2c2e36] rounded-2xl p-6 max-w-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx(mt,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold dark:text-white mb-2",children:"Camera Access Required"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Please allow camera and microphone access to record video messages."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-200 transition",children:"Cancel"}),e.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-brand-blue text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition",children:"Allow Access"})]})]})})}):e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-[80]",children:e.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative w-full max-w-2xl aspect-video bg-black rounded-2xl overflow-hidden",children:[e.jsx("video",{ref:d,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),a&&e.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-bold",children:L(f)})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("div",{className:"flex items-center justify-center gap-4",children:o?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:P,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition",children:e.jsx(Q,{size:24})}),e.jsx("button",{onClick:V,className:"p-4 bg-green-500 hover:bg-green-600 rounded-full text-white transition shadow-lg",children:e.jsx(ve,{size:28})}),e.jsx("div",{className:"w-12"})," "]}):e.jsx(e.Fragment,{children:a?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:P,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition",children:e.jsx(Q,{size:24})}),e.jsx("button",{onClick:N,className:"p-4 bg-red-500 hover:bg-red-600 rounded-full text-white transition shadow-lg animate-pulse",children:e.jsx(Ze,{size:28})}),e.jsx("div",{className:"w-12"})," "]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s,className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition",children:e.jsx(Q,{size:24})}),e.jsx("button",{onClick:M,className:"p-4 bg-red-500 hover:bg-red-600 rounded-full text-white transition shadow-lg",children:e.jsx(ke,{size:28})}),e.jsx("div",{className:"w-12"})," "]})})})}),S&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-4 py-2 rounded-lg text-sm",children:S})]})})}function Ot(t,s,n){const a=r.useRef(null),i=r.useRef(!1),o=K(),b=r.useMemo(()=>t&&o?{chatId:t}:"skip",[t,o]),f=oe(G.presence.getTypingIndicators,b),v=W(G.presence.updateTypingIndicator),p=W(G.presence.clearTypingIndicator),k=r.useMemo(()=>f?f.filter(d=>d.userId!==s&&d.isTyping).map(d=>({id:d.userId,name:d.userName})):[],[f,s]),S=r.useCallback(()=>{!t||!s||!o||(i.current||(i.current=!0,v({chatId:t,userId:s,userName:n,isTyping:!0}).catch(console.error)),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{i.current&&(i.current=!1,p({chatId:t,userId:s}).catch(console.error))},3e3))},[t,s,n,o,v,p]),u=r.useCallback(()=>{!t||!s||!o||(a.current&&clearTimeout(a.current),i.current&&(i.current=!1,p({chatId:t,userId:s}).catch(console.error)))},[t,s,o,p]);return r.useEffect(()=>()=>{a.current&&clearTimeout(a.current),t&&s&&i.current&&o&&p({chatId:t,userId:s}).catch(console.error)},[t,s,o,p]),{typingUsers:k,setTyping:S,clearTyping:u}}function Vt(t){return!t||t.length===0?"":t.length===1?`${t[0].name} is typing...`:t.length===2?`${t[0].name} and ${t[1].name} are typing...`:`${t[0].name} and ${t.length-1} others are typing...`}function Ht({activeChatId:t,uid:s,onSend:n,replyingTo:a,editingMessage:i,onCancelReply:o,onCancelEdit:b,typingUsers:f=[],onTyping:v,onStopTyping:p}){const{t:k}=Be(),[S,u]=r.useState(""),[d,m]=r.useState(null),[l,j]=r.useState(!1),[x,g]=r.useState(0),[h,M]=r.useState(!1),[N,P]=r.useState(!1),[V,L]=r.useState(!1),[T,U]=r.useState(!1),[Y,Z]=r.useState(!1),te=r.useRef(null),A=r.useRef(null),D=r.useRef(null),F=r.useRef([]),_=r.useRef(null),X=r.useRef(null),q=r.useRef(null),$=r.useRef(null),{uploadMedia:ee,uploading:O}=Lt();r.useEffect(()=>{var c;i&&(u(i.b||""),(c=A.current)==null||c.focus())},[i]),r.useEffect(()=>{var c;a&&((c=A.current)==null||c.focus())},[a]),r.useEffect(()=>{const c=w=>{_.current&&!_.current.contains(w.target)&&P(!1),X.current&&!X.current.contains(w.target)&&L(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const E=async c=>{try{const C=await(await fetch(c.url)).blob(),z=new File([C],`gif_${Date.now()}.gif`,{type:"image/gif"}),R=await ee(z,`chat_media/${t}`);if(R){const I={url:R.url,type:"image",name:c.title||"GIF",gif:!0};n("",I)}}catch(w){console.error("GIF upload error:",w),alert("Failed to send GIF")}L(!1)},H=async c=>{try{const w=await ee(c,`chat_media/${t}`);if(w){const C={url:w.url,type:"video",name:c.name};n("",C)}}catch(w){console.error("Video upload error:",w),alert("Failed to send video")}U(!1)},ne=c=>{u(c.target.value),v&&c.target.value.trim()&&v()},ie=c=>{const w=A.current;if(w){const C=w.selectionStart,z=w.selectionEnd,R=S.substring(0,C)+c+S.substring(z);u(R),setTimeout(()=>{w.selectionStart=w.selectionEnd=C+c.length,w.focus()},0)}else u(C=>C+c)},je=async()=>{try{const c=await navigator.mediaDevices.getUserMedia({audio:!0});D.current=new MediaRecorder(c),F.current=[],g(0),D.current.ondataavailable=w=>F.current.push(w.data),D.current.onstop=()=>{const w=new Blob(F.current,{type:"audio/webm"}),C=new File([w],`voice_note_${Date.now()}.webm`,{type:"audio/webm"});m({file:C,type:"audio",previewUrl:URL.createObjectURL(w),duration:x}),c.getTracks().forEach(z=>z.stop()),q.current&&clearInterval(q.current)},D.current.start(),j(!0),q.current=setInterval(()=>{g(w=>w+1)},1e3)}catch{alert("Microphone access denied. Please allow microphone permissions.")}},ae=()=>{D.current&&l&&(D.current.stop(),j(!1),q.current&&clearInterval(q.current))},de=()=>{var c;D.current&&l&&(D.current.stop(),F.current=[],j(!1),g(0),q.current&&clearInterval(q.current),(c=D.current.stream)==null||c.getTracks().forEach(w=>w.stop()))},ue=c=>{const w=Math.floor(c/60),C=c%60;return`${w}:${C.toString().padStart(2,"0")}`},Ae=()=>{!$.current||!(d!=null&&d.previewUrl)||(Y?($.current.pause(),Z(!1)):($.current.play(),Z(!0)))};r.useEffect(()=>()=>{q.current&&clearInterval(q.current),D.current&&l&&D.current.stop()},[]);const ge=c=>{c.preventDefault(),c.stopPropagation(),c.type==="dragenter"||c.type==="dragover"?M(!0):M(!1)},Se=c=>{c.preventDefault(),c.stopPropagation(),M(!1),c.dataTransfer.files&&c.dataTransfer.files[0]&&pe(c.dataTransfer.files[0])},pe=c=>{const w=c.type.startsWith("image/")?"image":c.type.startsWith("video/")?"video":c.type.startsWith("audio/")?"audio":"file";m({file:c,type:w,previewUrl:URL.createObjectURL(c)})},be=async c=>{if(c.preventDefault(),!S.trim()&&!d||O)return;let w=null;if(d){const C=await ee(d.file,`chat_media/${t}`);C&&(w={url:C.url,type:C.type,name:C.name,duration:d.duration})}n(S,w),u(""),m(null),Z(!1),p&&p()},Me=()=>{i?(u(""),b==null||b()):o==null||o()},y=()=>{var c,w;return i?((c=i.b)==null?void 0:c.substring(0,50))||"Message":a?((w=a.b)==null?void 0:w.substring(0,50))||"Media":""};return e.jsxs("div",{className:`p-3 bg-white dark:bg-[#2c2e36] border-t dark:border-gray-700 shrink-0 transition-colors ${h?"bg-blue-50 dark:bg-blue-900/20 border-blue-400":""}`,onDragEnter:ge,onDragLeave:ge,onDragOver:ge,onDrop:Se,children:[e.jsx(re,{children:f.length>0&&e.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mb-2 px-2 flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce"}),e.jsx("span",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("span",{className:"w-1.5 h-1.5 bg-brand-blue rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Vt(f)})]})}),e.jsx(re,{children:l&&e.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-red-700 dark:text-red-400",children:"Recording..."}),e.jsx("span",{className:"font-mono text-red-600 dark:text-red-300 text-sm",children:ue(x)})]}),e.jsx("div",{className:"flex items-center gap-0.5 mx-4",children:[...Array(20)].map((c,w)=>e.jsx(B.div,{className:"w-1 bg-red-400 rounded-full",animate:{height:[8,Math.random()*20+8,8]},transition:{duration:.5,repeat:1/0,delay:w*.05}},w))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:de,className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-full transition",title:"Cancel recording",children:e.jsx(we,{size:18})}),e.jsx("button",{type:"button",onClick:ae,className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition",title:"Stop recording",children:e.jsx(ht,{size:16,fill:"white"})})]})]})})}),e.jsx(re,{children:(a||i)&&e.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-2.5 px-4 rounded-xl border-l-4 border-brand-blue mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i?e.jsx(Je,{size:16,className:"text-brand-blue shrink-0"}):e.jsx(Xe,{size:16,className:"text-brand-blue shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-xs font-bold text-brand-blue block",children:i?"Editing Message":`Replying to ${(a==null?void 0:a.n)||"User"}`}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate block",children:y()})]})]}),e.jsx("button",{onClick:Me,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:e.jsx(Q,{size:16,className:"text-gray-400 hover:text-red-500"})})]})}),e.jsx(re,{children:d&&e.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-800 rounded-xl mb-2 border dark:border-gray-700",children:[d.type==="image"?e.jsx("img",{src:d.previewUrl,className:"h-14 w-14 object-cover rounded-lg"}):d.type==="video"?e.jsx("video",{src:d.previewUrl,className:"h-14 w-14 object-cover rounded-lg"}):d.type==="audio"?e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("button",{type:"button",onClick:Ae,className:"h-12 w-12 bg-purple-500 text-white flex items-center justify-center rounded-full hover:bg-purple-600 transition shrink-0",children:Y?e.jsx(et,{size:20}):e.jsx(tt,{size:20,className:"ml-0.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{size:14,className:"text-purple-500"}),e.jsx("span",{className:"text-sm font-bold dark:text-white",children:"Voice Message"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex items-center gap-0.5 flex-1",children:[...Array(30)].map((c,w)=>e.jsx("div",{className:"w-1 bg-purple-300 dark:bg-purple-700 rounded-full",style:{height:`${Math.random()*12+4}px`}},w))}),e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:d.duration?ue(d.duration):"0:00"})]})]}),e.jsx("audio",{ref:$,src:d.previewUrl,onEnded:()=>Z(!1),className:"hidden"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-14 w-14 bg-gray-200 dark:bg-gray-700 text-gray-500 flex items-center justify-center rounded-lg",children:e.jsx(fe,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold dark:text-white truncate",children:d.file.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(d.file.size/1024).toFixed(1)," KB"]})]})]}),e.jsx("button",{onClick:()=>{m(null),Z(!1)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition shrink-0",children:e.jsx(Q,{size:18,className:"text-gray-400 hover:text-red-500"})})]})}),e.jsxs("form",{onSubmit:be,className:"flex items-end gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",ref:te,className:"hidden",accept:"image/*,audio/*,video/*,.pdf,.doc,.docx,.txt,.zip",onChange:c=>pe(c.target.files[0])}),e.jsx("button",{type:"button",onClick:()=>{var c;return(c=te.current)==null?void 0:c.click()},className:"p-2.5 text-gray-500 hover:text-brand-blue hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition shrink-0",title:"Attach file",children:e.jsx(ft,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-1 border-r dark:border-gray-700 pr-2",children:[e.jsx("button",{type:"button",onClick:()=>{U(!0),P(!1),L(!1)},className:"p-2 text-gray-500 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",title:"Record video",children:e.jsx(ke,{size:18})}),e.jsxs("button",{type:"button",onClick:()=>{L(!V),P(!1)},className:"p-2 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition relative",title:"GIF",ref:X,children:[e.jsx(pt,{size:18}),V&&e.jsx(Ut,{onSelect:E,onClose:()=>L(!1),position:"bottom"})]})]}),e.jsxs("div",{className:"flex-1 bg-gray-100 dark:bg-[#1f2128] rounded-2xl border dark:border-gray-700 focus-within:ring-2 focus-within:ring-brand-blue transition-all flex items-end relative",children:[e.jsx("textarea",{ref:A,className:"w-full bg-transparent p-3 max-h-32 min-h-[44px] text-sm resize-none outline-none dark:text-white custom-scrollbar pr-20",placeholder:i?k("editingMessage")+"...":h?k("dropFiles")+"...":k("typeMessage"),value:S,onChange:ne,onKeyDown:c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),be(c))},rows:1}),e.jsxs("div",{className:"absolute right-2 bottom-1.5 flex items-center gap-1",children:[e.jsxs("div",{className:"relative",ref:_,children:[e.jsx("button",{type:"button",onClick:()=>{P(!N),L(!1)},className:`p-1.5 rounded-full transition ${N?"bg-brand-blue/20 text-brand-blue":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,title:"Emoji",children:e.jsx(bt,{size:18})}),e.jsx(re,{children:N&&e.jsx(Gt,{onSelect:ie,onClose:()=>P(!1),position:"bottom"})})]}),e.jsx("button",{type:"button",onClick:l?ae:je,className:`p-1.5 rounded-full transition ${l?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:l?e.jsx(Ze,{size:18}):e.jsx(Ie,{size:18})})]})]}),e.jsx("button",{type:"submit",disabled:!S.trim()&&!d||O,className:`p-2.5 text-white rounded-full shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shrink-0 ${i?"bg-green-600 hover:bg-green-700":"bg-brand-blue hover:bg-blue-600"}`,children:O?e.jsx(le,{size:20,className:"animate-spin"}):i?e.jsx(xt,{size:20}):e.jsx(yt,{size:20})})]}),T&&e.jsx(qt,{onRecorded:H,onClose:()=>U(!1),maxDuration:60})]})}function $t(...t){return We(De(t))}const ye=wt.forwardRef(({className:t,variant:s="default",size:n="default",...a},i)=>{const o={default:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-sm",outline:"border border-gray-200 bg-transparent hover:bg-gray-100 text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900 text-gray-600",link:"text-blue-600 underline-offset-4 hover:underline"},b={default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"};return e.jsx("button",{ref:i,className:$t("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50",o[s],b[n],t),...a})});ye.displayName="Button";function _t({url:t,isOpen:s,onClose:n,previewData:a}){if(!s||!t)return null;const i=new URL(t).pathname;let o="Content";i.startsWith("/profile/")?o="User Profile":i.startsWith("/session/")?o="Session Details":i.startsWith("/studio/")&&(o="Studio Listing");const b=(a==null?void 0:a.title)||`${o} Preview`;return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black bg-opacity-70 backdrop-blur-sm",onClick:n,children:e.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-2xl h-3/4 max-h-[800px] flex flex-col transform transition-all duration-300 scale-100 opacity-100",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-800 rounded-t-xl sticky top-0",children:[e.jsx("h3",{className:"text-xl font-bold text-white truncate max-w-[80%]",children:b}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:e.jsx(ye,{variant:"ghost",size:"icon",className:"text-blue-400 hover:text-blue-300",children:e.jsx(vt,{className:"w-5 h-5"})})}),e.jsx(ye,{onClick:n,variant:"ghost",size:"icon",className:"text-white hover:bg-gray-700",children:e.jsx(Q,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar text-gray-400 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"mb-4 text-lg font-medium text-white",children:"Embedded Content Simulation"}),e.jsx("p",{className:"mb-2",children:"This is where the actual SeshNx content (e.g., profile card, session details) would be rendered, based on the URL:"}),e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline break-all p-2 bg-gray-700 rounded-lg text-sm",children:t}),e.jsx("p",{className:"mt-4 text-sm",children:'In a real implementation, you would use a dedicated component (e.g., `ProfileCard id="..."`) here instead of an iframe to display the content securely and natively.'})]}),e.jsx("div",{className:"p-3 border-t border-gray-700 bg-gray-800 rounded-b-xl flex justify-end",children:e.jsx(ye,{onClick:n,variant:"secondary",children:"Done"})})]})})}function Wt({status:t="sent",size:s=12,className:n=""}){const a={sending:{icon:Pe,color:"text-gray-400",animate:!0},sent:{icon:ve,color:"text-gray-400",animate:!1},delivered:{icon:Ge,color:"text-gray-400",animate:!1},read:{icon:Ge,color:"text-brand-blue",animate:!1}},i=a[t]||a.sent,o=i.icon;return e.jsx(B.div,{animate:i.animate?{rotate:[0,360]}:{},transition:i.animate?{duration:2,repeat:1/0,ease:"linear"}:{},className:`inline-flex items-center ${i.color} ${n}`,children:e.jsx(o,{size:s,className:t==="read"?"fill-current":""})})}function Kt({audioUrl:t,color:s="brand-blue",height:n=40}){const a=r.useRef(null),i=r.useRef(null),o=r.useRef(null),b=r.useRef(null),f=r.useRef(null),[v,p]=r.useState(!1);r.useEffect(()=>{if(!t||!a.current)return;const u=a.current,d=u.getContext("2d"),m=new Audio(t);i.current=m,u.width=u.offsetWidth,u.height=n;const l=new(window.AudioContext||window.webkitAudioContext),j=l.createAnalyser(),x=l.createMediaElementSource(m);j.fftSize=256,x.connect(j),j.connect(l.destination),b.current=l,f.current=j;const g=j.frequencyBinCount,h=new Uint8Array(g),M=()=>{if(m.paused){k(d,u.width,u.height);return}o.current=requestAnimationFrame(M),j.getByteFrequencyData(h),d.clearRect(0,0,u.width,u.height);const N=u.width/g*2;let P=0;for(let V=0;V<g;V++){const L=h[V]/255*u.height,T=d.createLinearGradient(0,0,0,u.height);T.addColorStop(0,"#3b82f6"),T.addColorStop(1,"#8b5cf6"),d.fillStyle=T,d.fillRect(P,u.height-L,N-1,L),P+=N}};return m.addEventListener("play",()=>{p(!0),M()}),m.addEventListener("pause",()=>{p(!1),o.current&&cancelAnimationFrame(o.current),k(d,u.width,u.height)}),m.addEventListener("ended",()=>{p(!1),o.current&&cancelAnimationFrame(o.current),k(d,u.width,u.height)}),k(d,u.width,u.height),()=>{var N;o.current&&cancelAnimationFrame(o.current),m.pause(),(N=b.current)==null||N.close()}},[t,n,v]);const k=(u,d,m)=>{u.clearRect(0,0,d,m),u.fillStyle="#3b82f6";const l=50,j=d/l,x=2;for(let g=0;g<l;g++){const h=Math.random()*m*.3+m*.1,M=g*j;u.fillRect(M,m-h,j-x,h)}},S=()=>{i.current&&(v?i.current.pause():i.current.play())};return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:S,className:"w-10 h-10 flex items-center justify-center bg-brand-blue text-white rounded-full hover:bg-blue-600 transition shrink-0",children:v?e.jsx(et,{size:16}):e.jsx(tt,{size:16,className:"ml-0.5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("canvas",{ref:a,className:"w-full rounded",style:{height:`${n}px`}}),e.jsx("audio",{ref:i,src:t})]})]})}const Qt=["👍","❤️","😂","😮","😢","🔥"];function Yt({message:t,isCurrentUser:s,previousMessage:n,currentUserId:a,chatId:i,linkPreviewData:o,messageStatus:b="sent",onReaction:f,onReply:v,onEdit:p,onDelete:k,onForward:S,onSeshNxLinkClick:u,onUserClick:d}){var O;const[m,l]=r.useState(!1),[j,x]=r.useState(!1),[g,h]=r.useState(!1),M=r.useRef(null),N=r.useRef(null),P=!n||n.s!==t.s,V=n&&new Date(t.t).toDateString()===new Date(n.t).toDateString(),L=t.t||Date.now(),T=(n==null?void 0:n.t)||0,U=n&&L-T>3e5,Y=!V||!n,Z=P||U,te=!s&&P,A=new Date(t.t||Date.now());r.useEffect(()=>{const E=H=>{M.current&&!M.current.contains(H.target)&&(l(!1),x(!1))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const D=()=>{navigator.clipboard.writeText(t.b||""),h(!0),setTimeout(()=>h(!1),2e3),l(!1)},F=E=>{f==null||f(t.id,E),x(!1),l(!1)},_=t.reactions?Object.entries(t.reactions).reduce((E,[H,ne])=>{const ie=typeof ne=="object"?Object.keys(ne).length:0;return ie>0&&(E[H]=ie),E},{}):{},X=Object.keys(_).length>0,q=t.reactions?(O=Object.entries(t.reactions).find(([E,H])=>typeof H=="object"&&H[a]))==null?void 0:O[0]:null,$=s?"bg-brand-blue text-white rounded-br-sm":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-sm";if(t.deleted||t.deletedForAll)return e.jsx("div",{className:`flex ${s?"justify-end":"justify-start"} ${P?"mt-3":"mt-0.5"}`,children:e.jsx("div",{className:"px-4 py-2 rounded-2xl bg-gray-100 dark:bg-gray-800 text-gray-400 italic text-sm",children:"🚫 This message was deleted"})});if(t.deletedFor&&t.deletedFor[a])return null;const ee=()=>{var H;if(!o)return null;const E=(H=o.url)==null?void 0:H.includes("app.seshnx.com");return e.jsx("div",{className:"mt-2 block border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-white dark:bg-gray-800 max-w-[280px]",children:E?e.jsxs("button",{onClick:()=>u==null?void 0:u(o),className:"w-full text-left",children:[o.image&&e.jsx("div",{className:"h-28 w-full bg-cover bg-center",style:{backgroundImage:`url(${o.image})`}}),e.jsxs("div",{className:"p-2",children:[e.jsxs("p",{className:"font-semibold text-xs text-brand-blue truncate flex items-center",children:[e.jsx(kt,{className:"w-3 h-3 mr-1"}),o.title||"SeshNx Link"]}),o.description&&e.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5 line-clamp-2",children:o.description})]})]}):e.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:[o.image&&e.jsx("div",{className:"h-28 w-full bg-cover bg-center",style:{backgroundImage:`url(${o.image})`}}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"font-semibold text-xs text-brand-blue truncate",children:o.title||o.url}),o.description&&e.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5 line-clamp-2",children:o.description}),e.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 flex items-center",children:[e.jsx(jt,{className:"w-2.5 h-2.5 mr-1"}),new URL(o.url).hostname]})]})]})})};return e.jsxs(e.Fragment,{children:[Y&&e.jsx("div",{className:"text-center my-4",children:e.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:A.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})}),e.jsxs("div",{className:`group flex items-end gap-2 ${s?"flex-row-reverse":"flex-row"} ${P?"mt-3":"mt-0.5"}`,ref:N,children:[!s&&e.jsx("div",{className:"w-8 shrink-0",children:te&&e.jsx(ce,{src:t.photo,name:t.n,size:"xs",className:"cursor-pointer",onClick:()=>d==null?void 0:d(t.s)})}),e.jsxs("div",{className:`relative max-w-[75%] ${s?"items-end":"items-start"}`,children:[!s&&P&&t.n&&e.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 mb-1 ml-1",children:t.n}),t.replyTo&&e.jsxs("div",{className:`mb-1 px-3 py-1.5 rounded-lg text-xs border-l-2 border-brand-blue ${s?"bg-blue-400/30 text-blue-100":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:[e.jsx("p",{className:"font-bold text-[10px] mb-0.5",children:t.replyTo.sender}),e.jsx("p",{className:"truncate opacity-80",children:t.replyTo.text})]}),e.jsxs("div",{className:`relative px-3 py-2 rounded-2xl shadow-sm ${$} cursor-pointer transition-all hover:shadow-md`,onClick:()=>l(!m),children:[t.media&&e.jsxs("div",{className:"mb-2",children:[t.media.type==="image"&&e.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[t.media.gif&&e.jsx("span",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full font-bold",children:"GIF"}),e.jsx("img",{src:t.media.url,alt:"Shared",className:"max-w-full h-auto rounded-lg max-h-60 object-cover"})]}),t.media.type==="video"&&e.jsx("video",{controls:!0,src:t.media.url,className:"max-w-full h-auto rounded-lg max-h-60"}),t.media.type==="audio"&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 max-w-[280px]",children:e.jsx(Kt,{audioUrl:t.media.url,height:50})}),t.media.type==="file"&&e.jsxs("a",{href:t.media.url,target:"_blank",rel:"noopener noreferrer",download:t.media.name,className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition group",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(fe,{size:20,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold dark:text-white truncate",children:t.media.name||"File"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to download"})]}),e.jsx(Ee,{size:18,className:"text-gray-400 group-hover:text-brand-blue transition shrink-0"})]})]}),t.b&&e.jsx("p",{className:"text-sm break-words whitespace-pre-wrap leading-relaxed",children:t.b}),t.b&&ee(),t.edited&&e.jsx("span",{className:`text-[9px] ${s?"text-blue-200":"text-gray-400"} ml-1`,children:"(edited)"})]}),X&&e.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${s?"justify-end":"justify-start"}`,children:Object.entries(_).map(([E,H])=>e.jsxs(B.button,{initial:{scale:0},animate:{scale:1},onClick:()=>F(E),className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-xs border transition-all ${q===E?"bg-brand-blue/20 border-brand-blue text-brand-blue":"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-gray-300"}`,children:[e.jsx("span",{children:E}),e.jsx("span",{className:"text-[10px] font-bold",children:H})]},E))}),Z&&e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${s?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:A.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}),s&&e.jsx(Wt,{status:b,size:10,className:"ml-0.5"})]}),e.jsx(re,{children:m&&e.jsxs(B.div,{ref:M,initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:`absolute z-50 ${s?"right-0":"left-0"} bottom-full mb-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border dark:border-gray-700 overflow-hidden min-w-[180px]`,children:[e.jsx("div",{className:"flex justify-center gap-1 p-2 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:Qt.map(E=>e.jsx(B.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>F(E),className:`text-lg p-1 rounded-full transition ${q===E?"bg-brand-blue/20":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:E},E))}),e.jsxs("div",{className:"p-1",children:[e.jsxs("button",{onClick:()=>{v==null||v(t),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Xe,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Reply"})]}),e.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Nt,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:g?"Copied!":"Copy"})]}),e.jsxs("button",{onClick:()=>{S==null||S(t),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Te,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Forward"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{p==null||p(t),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:[e.jsx(Je,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"dark:text-gray-200",children:"Edit"})]}),e.jsxs("button",{onClick:()=>{k==null||k(t,"everyone"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition text-red-500",children:[e.jsx(we,{size:16}),e.jsx("span",{children:"Delete for Everyone"})]})]}),e.jsxs("button",{onClick:()=>{k==null||k(t,"me"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition text-gray-500",children:[e.jsx(we,{size:16}),e.jsx("span",{children:"Delete for Me"})]})]})]})})]}),s&&e.jsx("div",{className:"w-8 shrink-0"})]})]})}function Zt({message:t,conversations:s,currentUserId:n,onForward:a,onClose:i}){const[o,b]=r.useState(""),[f,v]=r.useState([]),[p,k]=r.useState(!1),S=o.trim()?s.filter(l=>{var j;return(j=l.n)==null?void 0:j.toLowerCase().includes(o.toLowerCase())}):s,u=l=>{v(j=>j.includes(l)?j.filter(x=>x!==l):[...j,l])},d=async()=>{if(f.length!==0){k(!0);try{await a(t,f),i()}catch(l){console.error("Forward error:",l),alert("Failed to forward message")}k(!1)}},m=()=>{var l;return t.media?t.media.type==="image"?"📷 Image":t.media.type==="video"?"🎥 Video":t.media.type==="audio"?"🎵 Audio":"📎 File":((l=t.b)==null?void 0:l.substring(0,100))||"Message"};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[80] p-4",children:e.jsxs(B.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white dark:bg-[#2c2e36] rounded-2xl shadow-2xl w-full max-w-md max-h-[80vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"text-brand-blue",size:20}),e.jsx("h3",{className:"font-bold text-lg dark:text-white",children:"Forward Message"})]}),e.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition",children:e.jsx(Q,{size:20})})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700 shrink-0",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Forwarding:"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg border dark:border-gray-600",children:e.jsx("p",{className:"text-sm dark:text-gray-200 line-clamp-2",children:m()})})]}),e.jsx("div",{className:"px-4 py-3 border-b dark:border-gray-700 shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:o,onChange:l=>b(l.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-blue dark:text-white transition"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:S.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No conversations found"})}):S.map(l=>{const j=f.includes(l.id);return e.jsxs(B.div,{whileTap:{scale:.98},onClick:()=>u(l.id),className:`
                                        flex items-center gap-3 p-4 cursor-pointer transition
                                        border-b dark:border-gray-700/50
                                        ${j?"bg-brand-blue/10 dark:bg-brand-blue/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}
                                    `,children:[e.jsxs("div",{className:"relative",children:[e.jsx(ce,{src:l.photo,name:l.n,size:"md",isGroup:l.type==="group"}),j&&e.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:"absolute -bottom-1 -right-1 w-5 h-5 bg-brand-blue rounded-full flex items-center justify-center",children:e.jsx(ve,{size:12,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm dark:text-white truncate",children:l.n}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:l.type==="group"?"Group":"Direct message"})]}),e.jsx("div",{className:`
                                        w-5 h-5 rounded-full border-2 transition
                                        ${j?"border-brand-blue bg-brand-blue":"border-gray-300 dark:border-gray-600"}
                                    `,children:j&&e.jsx(ve,{size:12,className:"text-white m-auto"})})]},l.id)})}),e.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-[#23262f] shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[f.length," conversation",f.length!==1?"s":""," selected"]}),f.length>0&&e.jsx("button",{onClick:()=>v([]),className:"text-xs text-brand-blue hover:underline",children:"Clear all"})]}),e.jsx("button",{onClick:d,disabled:f.length===0||p,className:"w-full bg-brand-blue text-white py-3 rounded-xl font-bold hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center gap-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"animate-spin",size:18}),"Forwarding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{size:18}),"Forward"]})})]})]})})}function Jt(t,s){var d;const n=K(),a=r.useMemo(()=>t&&s&&n?{chatId:t}:"skip",[t,s,n]),i=oe(G.readReceipts.getReadReceipts,a),o=W(G.readReceipts.markAsRead),b=W(G.readReceipts.markMultipleAsRead),f=r.useMemo(()=>{if(!i)return{};const m={};return i.forEach(l=>{m[l.userId]?l.readAt>m[l.userId].readAt&&(m[l.userId]={lastReadMessageId:l.messageId,readAt:l.readAt}):m[l.userId]={lastReadMessageId:l.messageId,readAt:l.readAt}}),m},[i]),v=((d=f[s])==null?void 0:d.lastReadMessageId)||null,p=r.useCallback(async m=>{if(!(!t||!s||!m||!K()||!o||!b))try{const l=Array.isArray(m)?m:[m];l.length===1?await o({chatId:t,messageId:l[0],userId:s}):await b({chatId:t,messageIds:l,userId:s})}catch(l){console.error("Mark as read error:",l)}},[t,s,o,b]),k=r.useCallback((m,l,j=null)=>{if(!m||!l)return!1;const x=f[l];if(!x||!x.lastReadMessageId)return!1;const g=x.lastReadMessageId;if(g===m)return!0;if(j&&Array.isArray(j)){const h=j.find(N=>N.id===m),M=j.find(N=>N.id===g);if(h&&M&&h.t&&M.t)return h.t<=M.t}return g>=m},[f]),S=r.useCallback(m=>{var l;return((l=f[m])==null?void 0:l.lastReadMessageId)||null},[f]),u=r.useCallback(m=>v===m||v&&v>=m,[v]);return{readReceipts:f,myLastRead:v,markAsRead:p,isMessageRead:k,getLastReadMessage:S,hasCurrentUserRead:u}}const _e=new Map,Xt=5*60*1e3;async function es(t){const s=t.match(/(https?:\/\/[^\s]+)/);if(!s)return null;const n=s[0],a=_e.get(n);if(a&&Date.now()-a.timestamp<Xt)return a.data;const i=await ts(n);return _e.set(n,{data:i,timestamp:Date.now()}),i}async function ts(t){try{const n=await fetch(t,{method:"HEAD",mode:"no-cors"})}catch{}const s={url:t,title:null,description:null,image:null,siteName:null};try{const n=new URL(t),a=n.hostname.toLowerCase();if(a.includes("youtube.com")||a.includes("youtu.be")){let i=null;a.includes("youtu.be")?i=n.pathname.slice(1):i=n.searchParams.get("v"),s.siteName="YouTube",s.title="YouTube Video",s.description="Watch this video on YouTube",i&&(s.image=`https://img.youtube.com/vi/${i}/mqdefault.jpg`)}else if(a.includes("spotify.com"))s.siteName="Spotify",s.title="Spotify Content",s.description="Listen on Spotify",s.image="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_Green.png";else if(a.includes("soundcloud.com"))s.siteName="SoundCloud",s.title="SoundCloud Track",s.description="Listen on SoundCloud",s.image="https://soundcloud.com/press/assets/press-kit/soundcloud-logo.png";else if(a.includes("github.com")){const i=n.pathname.split("/").filter(o=>o);s.siteName="GitHub",s.title=i.length>=2?`${i[0]}/${i[1]}`:"GitHub Repository",s.description="View on GitHub",i.length>=2&&(s.image=`https://opengraph.githubassets.com/1/${i[0]}/${i[1]}`)}else if(a.includes("twitter.com")||a.includes("x.com"))s.siteName="X (Twitter)",s.title="Tweet",s.description="View on X";else if(a.includes("instagram.com"))s.siteName="Instagram",s.title="Instagram Post",s.description="View on Instagram";else if(a.includes("app.seshnx.com")||a.includes("seshnx.com"))s.siteName="SeshNx",s.title="SeshNx Link",s.description="View on SeshNx platform",s.image="https://app.seshnx.com/pwa-512x512.png";else if(a.includes("linkedin.com"))s.siteName="LinkedIn",s.title="LinkedIn Post",s.description="View on LinkedIn";else if(a.includes("music.apple.com"))s.siteName="Apple Music",s.title="Apple Music",s.description="Listen on Apple Music";else if(a.includes("tiktok.com"))s.siteName="TikTok",s.title="TikTok Video",s.description="Watch on TikTok";else if(a.includes("vimeo.com"))s.siteName="Vimeo",s.title="Vimeo Video",s.description="Watch on Vimeo";else if(a.includes("bandcamp.com")){const i=a.split(".")[0];s.siteName="Bandcamp",s.title=i!=="bandcamp"?`${i} on Bandcamp`:"Bandcamp",s.description="Listen on Bandcamp"}else s.siteName=a.replace("www.",""),s.title=a.replace("www.",""),s.description=`Visit ${a}`;return s}catch(n){return console.warn("Link preview parsing error:",n),{url:t,title:t,description:null,image:null}}}function ds({user:t,userData:s,activeChat:n,conversations:a,onBack:i,toggleDetails:o,openPublicProfile:b}){const{t:f}=Be(),[v,p]=r.useState({}),[k,S]=r.useState({isOpen:!1,url:"",previewData:null}),[u,d]=r.useState(null),[m,l]=r.useState(null),[j,x]=r.useState(null),g=r.useRef(null),h=n==null?void 0:n.id,M=(n==null?void 0:n.name)||(n==null?void 0:n.n)||f("unknownUser"),N=(t==null?void 0:t.id)||(t==null?void 0:t.uid),P=r.useMemo(()=>(n==null?void 0:n.type)==="group"?null:n!=null&&n.uid?n.uid:h&&h.includes("_")?h.split("_").find(c=>c!==N):null,[n,h,N]),{online:V,lastSeen:L,loading:T}=rt(P),{markAsRead:U,hasCurrentUserRead:Y,isMessageRead:Z}=Jt(h,N),{typingUsers:te,setTyping:A,clearTyping:D}=Ot(h,N,(s==null?void 0:s.firstName)||"User"),F=K(),_=r.useMemo(()=>h&&F?{chatId:h,limit:100}:"skip",[h,F]),X=r.useMemo(()=>h&&F&&(n==null?void 0:n.type)==="group"?{chatId:h}:"skip",[h,F,n==null?void 0:n.type]),q=oe(G.conversations.getChatMembers,X),$=r.useMemo(()=>q?q.map(y=>y.userId):[],[q]),ee=oe(G.messages.getMessages,_),O=r.useMemo(()=>ee?ee.map(y=>({id:y._id,b:y.content||"",s:y.senderId,n:y.senderName,photo:y.senderPhoto||"",t:y.timestamp,edited:y.edited||!1,editedAt:y.editedAt,deleted:y.deleted||!1,deletedForAll:y.deletedForAll||!1,media:y.media,replyTo:y.replyTo,reactions:y.reactions||{}})):[],[ee]),E=W(G.messages.sendMessage),H=W(G.messages.editMessage),ne=W(G.messages.deleteMessage),ie=W(G.messages.addReaction),je=W(G.messages.removeReaction),ae=W(G.conversations.updateConversation),de=W(G.conversations.updateUnreadCount);r.useEffect(()=>{g.current&&O.length>0&&g.current.scrollIntoView({behavior:"smooth"})},[O]);const ue=r.useRef(0);r.useEffect(()=>{if(h&&N&&O.length>0){const y=O.map(w=>w.id),c=y.length;c!==ue.current&&(ue.current=c,U(y))}},[h,N,O.length,U]),r.useEffect(()=>{O.forEach(y=>{if(y.b){const c=y.b.match(/(https?:\/\/[^\s]+)/);if(c){const w=c[0];v[y.id]||es(w).then(C=>p(z=>({...z,[y.id]:C}))).catch(C=>console.error(C))}}})},[O]);const Ae=async(y,c)=>{var w,C;if(!(!h||!N||!K()))try{const z=O.find(I=>I.id===y);if(!z)return;((C=(w=z.reactions)==null?void 0:w[c])==null?void 0:C.includes(N))?await je({messageId:y,userId:N,emoji:c}):await ie({messageId:y,userId:N,emoji:c})}catch(z){console.error("Reaction error:",z)}},ge=async(y,c)=>{if(!K()||!E||!ae){alert("Chat functionality is not available. Convex is not configured.");return}const w=y.b||"",C=y.media||null;for(const z of c)try{await E({chatId:z,senderId:N,senderName:s.firstName||"User",senderPhoto:s.photoURL||void 0,content:`竊ｪ Forwarded: ${w}`,media:C||void 0});const R=a==null?void 0:a.find(se=>se.id===z),I=w||(C?`Forwarded ${C.type}`:"Forwarded message");await ae({userId:N,chatId:z,lastMessage:`↪ ${I}`,lastMessageTime:Date.now(),lastSenderId:N,chatName:(R==null?void 0:R.name)||(R==null?void 0:R.n),chatPhoto:(R==null?void 0:R.photo)||"",chatType:(R==null?void 0:R.type)||"direct",otherUserId:R==null?void 0:R.uid})}catch(R){console.error("Forward error for chat:",z,R)}},Se=async(y,c)=>{var C;if(!h||!(y!=null&&y.trim())&&!c||!K()||!E||!H||!ae||!de)return;let w=y?y.trim():"";if(w.length===0&&c&&(w=c.type==="image"?"📷 Image":c.type==="video"?"🎥 Video":c.type==="audio"?"🎵 Audio":"📎 File"),m)try{await H({messageId:m.id,content:w,senderId:N}),l(null);return}catch(z){console.error("Edit error:",z);return}try{await E({chatId:h,senderId:N,senderName:s.firstName||"User",senderPhoto:s.photoURL||void 0,content:w||void 0,media:c||void 0,replyTo:u?{messageId:u.id,text:((C=u.b)==null?void 0:C.substring(0,100))||"Media",sender:u.n||"User"}:void 0});const z=w||(c?`Sent ${c.type}`:"Message");let R=[],I=n.uid;!I&&n.type!=="group"&&h&&h.includes("_")&&(I=h.split("_").find(ot=>ot!==N)),n.type==="group"?R=$.length>0?[...new Set([N,...$])]:[N]:I?R=[N,I]:R=[N];for(const se of R)await ae({userId:se,chatId:h,lastMessage:z,lastMessageTime:Date.now(),lastSenderId:N,chatName:n.type==="group"?M:n.name||n.n,chatPhoto:n.photo||"",chatType:n.type||"direct",otherUserId:n.type==="direct"?se===N?I:N:void 0}),se===N?await de({userId:se,chatId:h,setTo:0}):await de({userId:se,chatId:h,increment:1});d(null)}catch(z){console.error("Send message error:",z)}},pe=async(y,c=!1)=>{if(!(!h||!N||!K()||!ne))try{await ne({messageId:y,senderId:N,forEveryone:c})}catch(w){console.error("Delete error:",w)}},be=r.useMemo(()=>{var y;return e.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-800 bg-white dark:bg-[#1f2128]",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("button",{onClick:i,className:"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(Qe,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>b==null?void 0:b(P?{uid:P}:null),children:[e.jsx(ce,{src:(n==null?void 0:n.photo)||((y=n==null?void 0:n.n)==null?void 0:y.photo)||"",name:M,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:M}),(n==null?void 0:n.type)!=="group"&&e.jsx(it,{online:V,lastSeen:L,loading:T})]}),(n==null?void 0:n.type)!=="group"&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:V?"Online":L?`Last seen ${Me(L)}`:"Offline"})]})]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(At,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})},[n,M,V,L,T,P,i,o,b]),Me=y=>{if(!y)return"Never";const c=y,C=Date.now()-c,z=Math.floor(C/6e4),R=Math.floor(z/60),I=Math.floor(R/24);return z<1?"Just now":z<60?`${z}m ago`:R<24?`${R}h ago`:I<7?`${I}d ago`:new Date(c).toLocaleDateString()};return!n||!h?e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#1f2128] items-center justify-center text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(he,{size:64,className:"text-gray-200 dark:text-gray-700 mb-2"})}),e.jsx("p",{children:"Select a conversation to start chatting"})]}):e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#1f2128]",children:[be,e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:[O.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:e.jsxs("p",{children:[f("noMessages"),". ",f("startConversation"),"!"]})}):O.map((y,c)=>{const w=c>0?O[c-1]:null,C=y.s===N,z=Z(y.id),R=Y(y.id);return e.jsx(Yt,{message:y,isCurrentUser:C,previousMessage:w,currentUserId:N,chatId:h,linkPreviewData:v[y.id],messageStatus:z?"read":R?"delivered":"sent",onReaction:I=>Ae(y.id,I),onReply:()=>d(y),onEdit:()=>l(y),onDelete:I=>pe(y.id,I),onForward:()=>x(y),onSeshNxLinkClick:I=>S({isOpen:!0,url:I,previewData:null}),onUserClick:()=>b==null?void 0:b({uid:y.s})},y.id)}),e.jsx("div",{ref:g})]}),e.jsx(Ht,{activeChatId:h,uid:N,onSend:Se,replyingTo:u,editingMessage:m,onCancelReply:()=>d(null),onCancelEdit:()=>l(null),typingUsers:te,onTyping:A,onStopTyping:D}),j&&e.jsx(Zt,{message:j,conversations:a,onClose:()=>x(null),onForward:ge}),k.isOpen&&e.jsx(_t,{url:k.url,previewData:k.previewData,onClose:()=>S({isOpen:!1,url:"",previewData:null})})]})}function Re({title:t,value:s,icon:n,sub:a,bg:i="bg-white dark:bg-[#2c2e36]",text:o="text-gray-900 dark:text-white"}){return e.jsxs("div",{className:`${i} p-5 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-between h-28`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${o==="text-white"?"text-blue-100":"text-gray-500"}`,children:t}),e.jsx("div",{className:`text-2xl font-extrabold ${o}`,children:s})]}),e.jsx("div",{className:"opacity-80",children:n})]}),a&&e.jsx("div",{className:"text-xs mt-auto opacity-75",children:a})]})}function ss({chatId:t,onClose:s,onMediaSelect:n}){const[a,i]=r.useState([]),[o,b]=r.useState(!0),[f,v]=r.useState(null),[p,k]=r.useState("all"),S=K(),u=t&&S?{chatId:t,limit:500}:"skip",d=oe(G.messages.getMediaMessages,u);r.useEffect(()=>{if(!t||!S){i([]),b(!1);return}if(!d)return;const x=(d||[]).filter(g=>g.media&&!g.deleted&&!g.deletedForAll).map(g=>({id:g._id,...g.media||{},messageId:g._id,timestamp:g.timestamp,sender:g.senderName})).sort((g,h)=>(g.timestamp||0)-(h.timestamp||0));i(x),b(!1)},[t,S,d]);const m=p==="all"?a:a.filter(x=>p==="images"?x.type==="image":p==="videos"?x.type==="video":p==="audio"?x.type==="audio":p==="files"?x.type==="file":!0),l=x=>{v(x),n&&n(x)},j=x=>{const g=document.createElement("a");g.href=x.url,g.download=x.name||"download",g.target="_blank",document.body.appendChild(g),g.click(),document.body.removeChild(g)};return e.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[80] p-4",children:[e.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#2c2e36] rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex items-center justify-between shrink-0",children:[e.jsx("h3",{className:"font-bold text-lg dark:text-white",children:"Media Gallery"}),e.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition",children:e.jsx(Q,{size:20})})]}),e.jsx("div",{className:"p-3 border-b dark:border-gray-700 flex gap-2 overflow-x-auto scrollbar-hide shrink-0",children:[{key:"all",label:"All",icon:null},{key:"images",label:"Images",icon:Ue},{key:"videos",label:"Videos",icon:ke},{key:"audio",label:"Audio",icon:Fe},{key:"files",label:"Files",icon:fe}].map(x=>e.jsxs("button",{onClick:()=>k(x.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition ${p===x.key?"bg-brand-blue text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200"}`,children:[x.icon&&e.jsx(x.icon,{size:16}),x.label,e.jsxs("span",{className:"text-xs opacity-70",children:["(",m.filter(g=>x.key==="all"||g.type===x.key).length,")"]})]},x.key))}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:o?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-brand-blue border-t-transparent rounded-full animate-spin mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading media..."})]}):m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(Ue,{size:48,className:"mb-4 opacity-30"}),e.jsx("p",{className:"text-sm",children:"No media found"})]}):e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:m.map(x=>e.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(x),className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 cursor-pointer group",children:[x.type==="image"?e.jsx("img",{src:x.url,alt:"Media",className:"w-full h-full object-cover"}):x.type==="video"?e.jsx("video",{src:x.url,className:"w-full h-full object-cover"}):x.type==="audio"?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Fe,{size:32,className:"text-purple-600 dark:text-purple-400"})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/30",children:e.jsx(fe,{size:32,className:"text-blue-600 dark:text-blue-400"})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition flex items-center justify-center",children:e.jsx(Ee,{size:20,className:"text-white opacity-0 group-hover:opacity-100 transition"})})]},x.id))})})]}),e.jsx(re,{children:f&&e.jsx(ns,{media:f,onClose:()=>v(null),onDownload:j})})]})}function ns({media:t,onClose:s,onDownload:n}){const[a,i]=r.useState([]),[o,b]=r.useState(0);r.useEffect(()=>{i([t]),b(0)},[t]);const f=()=>{o<a.length-1&&b(o+1)},v=()=>{o>0&&b(o-1)},p=a[o]||t;return e.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-[90] flex items-center justify-center",onClick:s,children:e.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center p-4",onClick:k=>k.stopPropagation(),children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition z-10",children:e.jsx(Q,{size:24})}),p.type==="image"&&e.jsx("img",{src:p.url,alt:"Media",className:"max-w-full max-h-full object-contain rounded-lg"}),p.type==="video"&&e.jsx("video",{src:p.url,controls:!0,className:"max-w-full max-h-full rounded-lg",autoPlay:!0}),p.type==="audio"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md",children:[e.jsx("div",{className:"w-32 h-32 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Fe,{size:48,className:"text-purple-600 dark:text-purple-400"})}),e.jsx("audio",{src:p.url,controls:!0,className:"w-full",autoPlay:!0}),e.jsx("p",{className:"text-center mt-4 text-sm text-gray-500",children:p.name})]}),p.type==="file"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md text-center",children:[e.jsx(fe,{size:64,className:"text-blue-600 dark:text-blue-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-bold dark:text-white mb-2",children:p.name}),e.jsx("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-4 px-6 py-2 bg-brand-blue text-white rounded-lg hover:bg-blue-600 transition",children:"Open File"})]}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:v,disabled:o===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 text-white rounded-full hover:bg-black/70 disabled:opacity-30 transition",children:e.jsx(St,{size:24})}),e.jsx("button",{onClick:f,disabled:o===a.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 text-white rounded-full hover:bg-black/70 disabled:opacity-30 transition",children:e.jsx(Ye,{size:24})})]}),e.jsx("button",{onClick:()=>n(p),className:"absolute bottom-4 left-1/2 -translate-x-1/2 p-3 bg-black/50 text-white rounded-full hover:bg-black/70 transition",children:e.jsx(Ee,{size:20})})]})})}function us({activeChat:t,onClose:s,currentUser:n}){const[a,i]=r.useState([]),[o,b]=r.useState({sessions:0,rating:0,responseTime:"N/A"}),[f,v]=r.useState(!0),[p,k]=r.useState(!1),[S,u]=r.useState(!1),d=t.type==="group",m=t.uid,l=t.name||t.n||"Unknown";r.useEffect(()=>{const g=async()=>{v(!0);try{if(i([]),!d&&m&&J){const h=(n==null?void 0:n.id)||(n==null?void 0:n.uid),{data:M}=await J.from("profiles").select("rating, response_time").eq("id",m).single(),{count:N}=await J.from("bookings").select("*",{count:"exact",head:!0}).eq("sender_id",h).eq("target_id",m).eq("status","Completed");b({sessions:N||0,rating:(M==null?void 0:M.rating)||"New",responseTime:(M==null?void 0:M.response_time)||"~1hr"})}}catch(h){console.error("Failed to load details:",h)}v(!1)};t!=null&&t.id&&g()},[t.id,m,d,(n==null?void 0:n.id)||(n==null?void 0:n.uid)]);const j=async()=>{var g;if(!(d||!m||!n||!J)&&confirm(`Are you sure you want to block ${l}?`)){k(!0);try{const h=(n==null?void 0:n.id)||(n==null?void 0:n.uid),{data:M}=await J.from("profiles").select("settings").eq("id",h).single(),N=(M==null?void 0:M.settings)||{},P=((g=N.social)==null?void 0:g.blockedUsers)||[];P.includes(m)||await J.from("profiles").update({settings:{...N,social:{...N.social,blockedUsers:[...P,m]}}}).eq("id",h),alert("User blocked."),s()}catch(h){console.error("Block failed:",h),alert("Failed to block user.")}k(!1)}},x=()=>{alert("Please use the report option on their profile page for full moderation tools.")};return e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full md:w-80 bg-gray-800 shadow-xl z-20 flex flex-col transition-transform duration-300 ease-in-out border-l border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-900",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Details"}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full transition duration-150","aria-label":"Close details",children:e.jsx(Q,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 flex flex-col items-center border-b border-gray-700 bg-gray-800",children:[e.jsxs("div",{className:"relative w-24 h-24 rounded-full overflow-hidden mb-4 bg-gray-700 flex items-center justify-center shadow-lg border-4 border-gray-600",children:[e.jsx("img",{src:t.photo,className:"w-full h-full object-cover",onError:g=>g.target.src="",alt:l}),!t.photo&&(d?e.jsx(he,{className:"w-10 h-10 text-gray-500"}):e.jsx(Ke,{className:"w-10 h-10 text-gray-500"}))]}),e.jsx("h4",{className:"text-xl font-bold text-white text-center leading-tight",children:l}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center px-3 py-1 bg-gray-700 rounded-full",children:[d?e.jsx(he,{className:"w-3 h-3 mr-1"}):e.jsx(qe,{className:"w-3 h-3 mr-1"}),d?"Group Chat":t.role||"Creative"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:[!d&&e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("h5",{className:"text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider",children:"Performance"}),f?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(le,{className:"animate-spin text-brand-blue"})}):e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(Re,{title:"Sessions",value:o.sessions,icon:qe,color:"text-blue-400"}),e.jsx(Re,{title:"Rating",value:o.rating,icon:Oe,color:"text-yellow-400"}),e.jsx(Re,{title:"Reply Time",value:o.responseTime,icon:Pe,color:"text-green-400"})]})]}),e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Shared Media"}),e.jsx("button",{onClick:()=>u(!0),className:"text-xs text-brand-blue hover:underline font-medium",children:"View All"})]}),a.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.slice(0,6).map((g,h)=>e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-700 cursor-pointer hover:opacity-80 transition",children:[g.type==="image"&&e.jsx("img",{src:g.url,className:"w-full h-full object-cover",alt:"Media"}),g.type==="video"&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ke,{size:20,className:"text-gray-400"})})]},h))}):e.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"No shared media yet"})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition",children:[e.jsx(Mt,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:"Mute Notifications"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition",children:[e.jsx(Ct,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Media Gallery"})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:j,disabled:p,className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-red-400 hover:bg-red-900/20 hover:text-red-300 rounded-lg transition disabled:opacity-50",children:[p?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsx(Rt,{className:"w-4 h-4"}),e.jsx("span",{children:"Block User"})]}),e.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-red-400 hover:bg-red-900/20 hover:text-red-300 rounded-lg transition",children:[e.jsx(Oe,{className:"w-4 h-4"}),e.jsx("span",{children:"Report User"})]})]})]})]}),S&&e.jsx(ss,{chatId:t.id,onClose:()=>u(!1)})]})}export{cs as C,is as L,Re as S,ce as U,G as a,ls as b,os as c,ds as d,us as e,Lt as f,K as i,J as s,Be as u};
