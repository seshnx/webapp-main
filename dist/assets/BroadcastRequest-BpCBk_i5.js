import{r as l,j as e,a0 as le,ch as x,bW as se,H as ne,P as oe,ap as ie,cj as A,O as de,h as ce,dd as ge,T as ue}from"./vendor-CBQkcJic.js";import{ACCOUNT_TYPES as xe,INSTRUMENT_DATA as be,GENRE_DATA as pe}from"./config-yUl3KxdD.js";import{S as me}from"./StudioMap-CQmv33dD.js";import{L as he}from"./LocationPicker-D94q7Zgv.js";import{u as ye}from"./useEquipmentDatabase-DReumthJ.js";import{f as ve}from"./edu-DZWLcEtQ.js";import"./vendor-maps-fAlV2vXI.js";import"./chat-DHXQrQts.js";import"./vendor-framer-CtwjM_uu.js";function Ee({user:je,userData:i,onBack:E,onSuccess:fe}){const{loading:B,data:c,categories:D}=ye(),[m,q]=l.useState(2),h=[5,10,15,25,50,100,250,500],y=h[m],[v,b]=l.useState({lat:34.0522,lng:-118.2437,name:"Default"});l.useEffect(()=>{(async()=>{if(i!=null&&i.zip){const t=await ve(i.zip);if(t){b({lat:t.lat,lng:t.lng,name:t.cityState});return}}navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{b({lat:t.coords.latitude,lng:t.coords.longitude,name:"Current Location"})})})()},[i]);const z=a=>{a.lat&&a.lng&&b({lat:a.lat,lng:a.lng,name:a.cityState||"Selected Location"})},[p,G]=l.useState("Talent"),[j,f]=l.useState("Play"),[k,M]=l.useState(""),[N,I]=l.useState(""),[S,F]=l.useState(""),[O,V]=l.useState(""),[H,W]=l.useState(""),[_,J]=l.useState(""),[U,Z]=l.useState(""),[Y,$]=l.useState("Any"),[K,Q]=l.useState("Flat Rate"),[d,g]=l.useState([{id:Date.now(),type:"General",value:""}]),X=xe.filter(a=>a!=="Technician"),w=a=>{switch(a){case"Talent":return["Sing Lead Vocals","Sing Background/Harmonies","Feature on Track","Write Topline/Melody","Play Instrument","Session Recording","Live Performance","Tour Support","DJ Set","DJ Private Event","DJ Club Night","Record Demo","Collaborate","Improvise","Teach/Lesson"];case"Engineer":return["Mix Track","Mix Album/EP","Master Track","Master Album","Record/Track Session","Edit/Comp","Tune Vocals","Sound Design","Dolby Atmos Mix","Live Sound/FOH"];case"Producer":return["Produce Full Track","Co-Produce","Remix","Create Custom Beat","Arrange/Program","Vocal Production","Toplining","Beat Lease","Beat Exclusive","Sound Design"];case"Studio":return["Host Recording Session","Host Mixing Session","Rent Rehearsal Space","Rent Gear/Backline","Full Day Lockout","Podcast Recording"];case"Composer":return["Compose Original Score","Arrange Song","Orchestrate","Write Library Music","Create Jingle","Score Film/TV","Score Video Game","Ghostwrite"];case"Label":return["Sign Artist","Distribution Deal","Licensing"];case"Agent":return["Book Artist","Negotiate Deal","Represent"];default:return["Work","Collaborate","Consult"]}},ee=()=>g([...d,{id:Date.now(),type:"Gear",value:"",gearSelection:{}}]),ae=a=>{d.length!==1&&g(d.filter(t=>t.id!==a))},C=(a,t,s)=>g(d.map(n=>n.id===a?{...n,[t]:s}:n)),u=(a,t,s)=>{g(d.map(n=>{if(n.id!==a)return n;const o={...n.gearSelection,[t]:s};return t==="category"&&(delete o.subCategory,delete o.type,delete o.item),t==="subCategory"&&(delete o.type,delete o.item),t==="type"&&delete o.item,{...n,gearSelection:o,value:s}}))},T=p==="Talent"&&["Play Instrument","Session Work"].includes(j),re=async()=>{if(!S||!N)return alert("Please complete the request sentence.");if(T&&!k)return alert("Please select an instrument.");d.filter(a=>a.value.trim()!=="");{alert("Database unavailable.");return}},te=[{label:"Gear / Equipment",value:"Gear",icon:ie},{label:"Technique / Skill",value:"Technique",icon:A},{label:"Feel / Vibe",value:"Vibe",icon:de},{label:"Logistics",value:"Logistics",icon:ce},{label:"General Note",value:"General",icon:ge}];return e.jsxs("div",{className:"max-w-5xl mx-auto bg-white dark:bg-[#2c2e36] p-6 rounded-xl border dark:border-gray-700 animate-in fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg text-brand-blue",children:e.jsx(le,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold dark:text-white",children:"Broadcast Builder"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reach professionals in your area."})]})]}),e.jsx("button",{onClick:E,className:"text-sm font-medium text-gray-500 hover:text-brand-blue transition",children:"Cancel & Exit"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-4 space-y-5",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1f2128] p-5 rounded-2xl border dark:border-gray-700",children:[e.jsx(he,{initialZip:i==null?void 0:i.zip,onLocationChange:z,label:"Broadcast Center"}),e.jsxs("div",{className:"mt-4 flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-xs font-extrabold text-gray-400 uppercase tracking-wider",children:"Range"}),e.jsxs("span",{className:"bg-brand-blue text-white text-xs font-bold px-2 py-1 rounded-md",children:[y," Miles"]})]}),e.jsx("div",{className:"mb-5 rounded-xl overflow-hidden border dark:border-gray-600 shadow-md relative h-48",children:e.jsx(me,{center:[v.lat,v.lng],zoom:9,height:"100%",drawRadius:!0,radiusMiles:y})}),e.jsx("input",{type:"range",min:"0",max:h.length-1,value:m,onChange:a=>q(parseInt(a.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-blue"})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border-2 border-blue-100 dark:border-gray-700 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-brand-blue"}),e.jsx("label",{className:"text-xs font-extrabold text-brand-blue uppercase tracking-widest mb-4 block",children:"Step 1: Core Request"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-lg md:text-xl text-gray-700 dark:text-gray-200 leading-relaxed font-medium",children:[e.jsx("span",{children:"I need a"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("select",{value:p,onChange:a=>{G(a.target.value),f(w(a.target.value)[0])},className:"appearance-none bg-blue-50 dark:bg-gray-700 text-blue-700 dark:text-white font-bold py-1 pl-3 pr-8 rounded-lg border-b-2 border-blue-200 dark:border-gray-600 focus:outline-none cursor-pointer hover:bg-blue-100 dark:hover:bg-gray-600 transition",children:X.map(a=>e.jsx("option",{value:a,children:a},a))}),e.jsx(x,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-blue-500 dark:text-gray-400 pointer-events-none",size:16})]}),e.jsx("span",{children:"that can"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("select",{value:j,onChange:a=>f(a.target.value),className:"appearance-none bg-purple-50 dark:bg-gray-700 text-purple-700 dark:text-white font-bold py-1 pl-3 pr-8 rounded-lg border-b-2 border-purple-200 dark:border-gray-600 focus:outline-none cursor-pointer hover:bg-purple-100 dark:hover:bg-gray-600 transition",children:w(p).map(a=>e.jsx("option",{value:a,children:a},a))}),e.jsx(x,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-purple-500 dark:text-gray-400 pointer-events-none",size:16})]}),T&&e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("select",{value:k,onChange:a=>M(a.target.value),className:"appearance-none bg-green-50 dark:bg-gray-700 text-green-700 dark:text-white font-bold py-1 pl-3 pr-8 rounded-lg border-b-2 border-green-200 dark:border-gray-600 focus:outline-none cursor-pointer hover:bg-green-100 dark:hover:bg-gray-600 transition",children:[e.jsx("option",{value:"",children:"(Select Instrument)"}),Object.entries(be).map(([a,t])=>e.jsx("optgroup",{label:a,children:t.map(s=>e.jsx("option",{value:s,children:s},s))},a))]}),e.jsx(x,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-green-500 dark:text-gray-400 pointer-events-none",size:16})]}),e.jsx("span",{children:"for a song in the"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("select",{value:N,onChange:a=>I(a.target.value),className:"appearance-none bg-orange-50 dark:bg-gray-700 text-orange-700 dark:text-white font-bold py-1 pl-3 pr-8 rounded-lg border-b-2 border-orange-200 dark:border-gray-600 focus:outline-none cursor-pointer hover:bg-orange-100 dark:hover:bg-gray-600 transition",children:[e.jsx("option",{value:"",children:"(Select Genre)"}),pe.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx(x,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-orange-500 dark:text-gray-400 pointer-events-none",size:16})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t dark:border-gray-700",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Project Title"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-black/20 border-none rounded-lg p-3 text-gray-700 dark:text-gray-200 font-medium placeholder-gray-400 focus:ring-2 focus:ring-brand-blue",placeholder:"e.g. Summer Hit Single - Drum Tracking",value:S,onChange:a=>F(a.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-[#1f2128] p-5 rounded-xl border dark:border-gray-700",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-3 block",children:"Logistics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase",children:"Date"}),e.jsx("input",{type:"date",className:"w-full p-2 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white text-sm",value:O,onChange:a=>V(a.target.value)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase",children:"Time"}),e.jsx("input",{type:"time",className:"w-full p-2 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white text-sm",value:H,onChange:a=>W(a.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase",children:"Budget ($)"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-2.5 text-green-500",size:14}),e.jsx("input",{type:"number",className:"w-full pl-8 p-2 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white text-sm font-bold",placeholder:"Flexible",value:_,onChange:a=>J(a.target.value)})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1f2128] p-5 rounded-xl border dark:border-gray-700",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-3 block",children:"Project Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase",children:"Payment Type"}),e.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white text-sm",value:K,onChange:a=>Q(a.target.value),children:[e.jsx("option",{children:"Flat Rate"}),e.jsx("option",{children:"Hourly"}),e.jsx("option",{children:"Royalty Split"}),e.jsx("option",{children:"Trade / Barter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase",children:"Experience Required"}),e.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white text-sm",value:Y,onChange:a=>$(a.target.value),children:[e.jsx("option",{children:"Any"}),e.jsx("option",{children:"Intermediate"}),e.jsx("option",{children:"Pro / Expert"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase",children:"Reference Link"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-2.5 text-gray-400",size:14}),e.jsx("input",{className:"w-full pl-8 p-2 border rounded-lg dark:bg-black/20 dark:border-gray-600 dark:text-white text-sm",placeholder:"Spotify / SoundCloud...",value:U,onChange:a=>Z(a.target.value)})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1f2128] p-6 rounded-2xl border dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("label",{className:"text-xs font-extrabold text-brand-blue uppercase tracking-widest",children:"Step 2: Specific Needs"}),e.jsxs("button",{onClick:ee,className:"text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-white px-3 py-1.5 rounded-full font-bold flex items-center gap-1 transition",children:[e.jsx(oe,{size:14})," Add Condition"]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:d.map(a=>{var t,s,n,o,R,L,P;return e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 bg-gray-50 dark:bg-black/20 p-3 rounded-xl border dark:border-gray-700 animate-in slide-in-from-bottom-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 min-w-[140px]",children:e.jsx("select",{className:"w-full p-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-[#2c2e36] dark:text-white focus:ring-2 focus:ring-brand-blue outline-none",value:a.type,onChange:r=>C(a.id,"type",r.target.value),children:te.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[a.type==="Gear"&&!B?e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("select",{className:"w-full p-2 text-xs border rounded bg-white dark:bg-[#2c2e36] dark:border-gray-600 dark:text-white",value:((t=a.gearSelection)==null?void 0:t.category)||"",onChange:r=>u(a.id,"category",r.target.value),children:[e.jsx("option",{value:"",children:"Select Category..."}),D.map(r=>e.jsx("option",{value:r.id,children:r.label},r.id))]}),((s=a.gearSelection)==null?void 0:s.category)&&c[a.gearSelection.category]&&e.jsxs("select",{className:"w-full p-2 text-xs border rounded bg-white dark:bg-[#2c2e36] dark:border-gray-600 dark:text-white",value:((n=a.gearSelection)==null?void 0:n.subCategory)||"",onChange:r=>u(a.id,"subCategory",r.target.value),children:[e.jsx("option",{value:"",children:"Select Type..."}),Object.keys(c[a.gearSelection.category]).map(r=>e.jsx("option",{value:r,children:r.replace(/_/g," ")},r))]}),((o=a.gearSelection)==null?void 0:o.subCategory)&&e.jsxs("select",{className:"w-full p-2 text-xs border rounded bg-white dark:bg-[#2c2e36] dark:border-gray-600 dark:text-white",value:((R=a.gearSelection)==null?void 0:R.type)||"",onChange:r=>u(a.id,"type",r.target.value),children:[e.jsx("option",{value:"",children:"Select Subtype..."}),Object.keys(c[a.gearSelection.category][a.gearSelection.subCategory]).map(r=>e.jsx("option",{value:r,children:r.replace(/_/g," ")},r))]}),((L=a.gearSelection)==null?void 0:L.type)&&e.jsxs("select",{className:"w-full p-2 text-sm font-bold border-l-4 border-brand-blue rounded bg-white dark:bg-[#2c2e36] dark:border-gray-600 dark:text-white shadow-sm",value:((P=a.gearSelection)==null?void 0:P.item)||"",onChange:r=>u(a.id,"item",r.target.value),children:[e.jsx("option",{value:"",children:"Select Specific Item..."}),c[a.gearSelection.category][a.gearSelection.subCategory][a.gearSelection.type].map(r=>e.jsx("option",{value:r,children:r},r))]})]}):e.jsx("input",{className:"w-full p-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-[#2c2e36] dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-brand-blue",placeholder:"Describe requirement...",value:a.value,onChange:r=>C(a.id,"value",r.target.value)}),e.jsx("button",{onClick:()=>ae(a.id),className:"text-gray-400 hover:text-red-500 px-2",children:e.jsx(ue,{size:18})})]})]},a.id)})}),e.jsx("div",{className:"h-6 w-0.5 bg-gray-200 dark:bg-gray-700 mx-auto my-2"}),e.jsxs("button",{className:"w-full bg-gradient-to-r from-brand-blue to-blue-600 text-white py-4 rounded-xl font-bold shadow-lg hover:scale-[1.01] transition-all text-lg flex items-center justify-center gap-2",onClick:re,children:[e.jsx(A,{fill:"currentColor",size:20})," Broadcast Opportunity"]})]})]})]})]})}export{Ee as default};
