{"version":3,"file":"LabelDashboard-Do7yNz67.js","sources":["../../src/components/labels/ExternalArtistManager.jsx","../../src/components/labels/LabelDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getExternalArtists, createExternalArtist } from '../../config/neonQueries';\r\nimport { UserPlus, Mail, Music, Edit2, Trash2 } from 'lucide-react';\r\n\r\n/**\r\n * ExternalArtistManager - Manage artists not yet on the platform\r\n *\r\n * Features:\r\n * - Add external artists with basic info\r\n * - View external artists list with status tracking\r\n * - Invitation status (invited, active, platform, terminated)\r\n */\r\nexport default function ExternalArtistManager({ user }) {\r\n  const [artists, setArtists] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    stage_name: '',\r\n    primary_role: '',\r\n    genre: [],\r\n    contract_type: '',\r\n    notes: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadArtists();\r\n  }, [user?.id]);\r\n\r\n  const loadArtists = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await getExternalArtists(user?.id);\r\n      setArtists(data || []);\r\n    } catch (error) {\r\n      console.error('Error loading external artists:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!user?.id) return;\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      await createExternalArtist(user.id, {\r\n        name: formData.name,\r\n        email: formData.email || null,\r\n        stage_name: formData.stage_name || null,\r\n        genre: formData.genre,\r\n        primary_role: formData.primary_role || null,\r\n        contract_type: formData.contract_type || null,\r\n        signed_date: new Date().toISOString().split('T')[0]\r\n      });\r\n\r\n      // Reset form and reload\r\n      setFormData({\r\n        name: '',\r\n        email: '',\r\n        stage_name: '',\r\n        primary_role: '',\r\n        genre: [],\r\n        contract_type: '',\r\n        notes: ''\r\n      });\r\n      setShowForm(false);\r\n      loadArtists();\r\n    } catch (error) {\r\n      console.error('Error creating external artist:', error);\r\n      alert('Failed to add artist. Please try again.');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'invited':\r\n        return 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300';\r\n      case 'active':\r\n        return 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300';\r\n      case 'platform':\r\n        return 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300';\r\n      case 'terminated':\r\n        return 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300';\r\n      default:\r\n        return 'bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold dark:text-white\">External Artists</h2>\r\n          <p className=\"text-gray-500 text-sm mt-1\">\r\n            Artists not yet on the platform\r\n          </p>\r\n        </div>\r\n        {!showForm && (\r\n          <button\r\n            onClick={() => setShowForm(true)}\r\n            className=\"bg-purple-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:bg-purple-700 transition\"\r\n          >\r\n            <UserPlus size={18} />\r\n            Add External Artist\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add Form */}\r\n      {showForm && (\r\n        <div className=\"bg-white dark:bg-[#2c2e36] rounded-xl border dark:border-gray-700 p-6 shadow-sm animate-in slide-in-from-top-4\">\r\n          <h3 className=\"font-bold dark:text-white mb-4 text-lg\">Add External Artist</h3>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Artist Name *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  placeholder=\"Legal name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-[#1f2128] dark:text-white focus:ring-2 focus:ring-purple-500 outline-none\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Stage Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Performance name\"\r\n                  value={formData.stage_name}\r\n                  onChange={(e) => setFormData({...formData, stage_name: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-[#1f2128] dark:text-white focus:ring-2 focus:ring-purple-500 outline-none\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Email (for invitation)\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"artist@example.com\"\r\n                  value={formData.email}\r\n                  onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-[#1f2128] dark:text-white focus:ring-2 focus:ring-purple-500 outline-none\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Primary Role\r\n                </label>\r\n                <select\r\n                  value={formData.primary_role}\r\n                  onChange={(e) => setFormData({...formData, primary_role: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-[#1f2128] dark:text-white focus:ring-2 focus:ring-purple-500 outline-none\"\r\n                >\r\n                  <option value=\"\">Select role...</option>\r\n                  <option value=\"Singer\">Singer</option>\r\n                  <option value=\"Rapper\">Rapper</option>\r\n                  <option value=\"Producer\">Producer</option>\r\n                  <option value=\"Songwriter\">Songwriter</option>\r\n                  <option value=\"DJ\">DJ</option>\r\n                  <option value=\"Engineer\">Engineer</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Contract Type\r\n                </label>\r\n                <select\r\n                  value={formData.contract_type}\r\n                  onChange={(e) => setFormData({...formData, contract_type: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-[#1f2128] dark:text-white focus:ring-2 focus:ring-purple-500 outline-none\"\r\n                >\r\n                  <option value=\"\">Select contract type...</option>\r\n                  <option value=\"Recording\">Recording</option>\r\n                  <option value=\"Distribution\">Distribution</option>\r\n                  <option value=\"Publishing\">Publishing</option>\r\n                  <option value=\"Management\">Management</option>\r\n                  <option value=\"Full Service\">Full Service</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Genre (comma separated)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Hip-Hop, R&B, Pop\"\r\n                  value={formData.genre.join(', ')}\r\n                  onChange={(e) => setFormData({...formData, genre: e.target.value.split(',').map(g => g.trim()).filter(g => g)})}\r\n                  className=\"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-[#1f2128] dark:text-white focus:ring-2 focus:ring-purple-500 outline-none\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2 mt-4\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={submitting || !formData.name}\r\n                className=\"bg-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-2\"\r\n              >\r\n                {submitting ? (\r\n                  <>Adding...</>\r\n                ) : (\r\n                  <>\r\n                    <UserPlus size={18} />\r\n                    Add Artist\r\n                  </>\r\n                )}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowForm(false)}\r\n                className=\"bg-gray-200 dark:bg-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* External Artists List */}\r\n      <div className=\"bg-white dark:bg-[#2c2e36] rounded-xl border dark:border-gray-700 overflow-hidden shadow-sm\">\r\n        {loading ? (\r\n          <div className=\"p-12 text-center\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-500\">Loading...</p>\r\n          </div>\r\n        ) : artists.length === 0 ? (\r\n          <div className=\"p-12 text-center\">\r\n            <Music size={48} className=\"mx-auto mb-4 text-gray-400 opacity-50\" />\r\n            <p className=\"text-lg font-medium dark:text-white\">No external artists yet</p>\r\n            <p className=\"text-sm text-gray-500 mt-1\">Add artists who aren't on the platform</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y dark:divide-gray-700\">\r\n            {artists.map(artist => (\r\n              <div key={artist.id} className=\"p-5 hover:bg-gray-50 dark:hover:bg-white/5 transition\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-4 flex-1\">\r\n                    <div className=\"h-12 w-12 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center text-purple-600 font-bold text-lg\">\r\n                      {(artist.stage_name || artist.name)[0]}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <h4 className=\"font-bold dark:text-white\">\r\n                          {artist.stage_name || artist.name}\r\n                        </h4>\r\n                        {artist.stage_name && artist.name && artist.name !== artist.stage_name && (\r\n                          <span className=\"text-sm text-gray-500\">({artist.name})</span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500 mt-1 flex items-center gap-3\">\r\n                        {artist.email && (\r\n                          <span className=\"flex items-center gap-1\">\r\n                            <Mail size={14} />\r\n                            {artist.email}\r\n                          </span>\r\n                        )}\r\n                        {artist.primary_role && (\r\n                          <span>• {artist.primary_role}</span>\r\n                        )}\r\n                        {artist.contract_type && (\r\n                          <span>• {artist.contract_type}</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(artist.status)}`}>\r\n                      {artist.status || 'invited'}\r\n                    </span>\r\n\r\n                    <button\r\n                      className=\"p-2 text-gray-400 hover:text-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition\"\r\n                      title=\"Edit\"\r\n                    >\r\n                      <Edit2 size={16} />\r\n                    </button>\r\n\r\n                    <button\r\n                      className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition\"\r\n                      title=\"Remove\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { executeQuery } from '../../config/neon';\r\nimport {\r\n  Users,\r\n  Disc,\r\n  DollarSign,\r\n  Calendar,\r\n  TrendingUp,\r\n  Plus,\r\n  Music,\r\n  Upload,\r\n  BarChart3,\r\n  ArrowRight,\r\n  Activity,\r\n  UserPlus,\r\n  Briefcase,\r\n  ChevronRight,\r\n  Building2\r\n} from 'lucide-react';\r\nimport ExternalArtistManager from './ExternalArtistManager';\r\n\r\n/**\r\n * LabelDashboard - Professional label management dashboard\r\n *\r\n * Displays:\r\n * - Overview metrics (artists, releases, revenue, deadlines)\r\n * - Roster performance table\r\n * - Release calendar\r\n * - Quick action buttons\r\n */\r\nexport default function LabelDashboard({ user, userData }) {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [metrics, setMetrics] = useState({\r\n    totalArtists: 0,\r\n    activeReleases: 0,\r\n    monthlyRevenue: 0,\r\n    upcomingReleases: 0,\r\n    revenueGrowth: 0,\r\n    totalStreams: 0\r\n  });\r\n  const [rosterData, setRosterData] = useState([]);\r\n  const [upcomingReleases, setUpcomingReleases] = useState([]);\r\n  const [artistView, setArtistView] = useState('platform'); // 'platform' or 'external'\r\n\r\n  const userId = user?.id || user?.uid || user?.userId;\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n    fetchDashboardData();\r\n  }, [userId]);\r\n\r\n  const fetchDashboardData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Fetch all data in parallel\r\n      const [artistsResult, releasesResult, revenueResult] = await Promise.all([\r\n        // Get label roster count\r\n        executeQuery(`\r\n          SELECT COUNT(*) as count\r\n          FROM label_roster\r\n          WHERE label_id = $1 AND status = 'active'\r\n        `, [userId]),\r\n\r\n        // Get active releases\r\n        executeQuery(`\r\n          SELECT COUNT(*) as count\r\n          FROM releases\r\n          WHERE label_id = $1 AND status IN ('distributed', 'submitted')\r\n        `, [userId]),\r\n\r\n        // Get revenue data\r\n        executeQuery(`\r\n          SELECT\r\n            COALESCE(SUM(lifetime_earnings), 0) as total_revenue,\r\n            COALESCE(SUM(lifetime_streams), 0) as total_streams\r\n          FROM distribution_stats\r\n          WHERE user_id IN (\r\n            SELECT artist_id FROM label_roster WHERE label_id = $1\r\n          )\r\n        `, [userId])\r\n      ]);\r\n\r\n      // Set metrics\r\n      setMetrics({\r\n        totalArtists: artistsResult[0]?.count || 0,\r\n        activeReleases: releasesResult[0]?.count || 0,\r\n        monthlyRevenue: revenueResult[0]?.total_revenue || 0,\r\n        upcomingReleases: releasesResult[0]?.count || 0, // Simplified for now\r\n        revenueGrowth: 12.5, // Placeholder - would need historical data\r\n        totalStreams: revenueResult[0]?.total_streams || 0\r\n      });\r\n\r\n      // Fetch roster with performance data\r\n      const rosterResult = await executeQuery(`\r\n        SELECT\r\n          lr.id,\r\n          lr.artist_id,\r\n          lr.name,\r\n          lr.email,\r\n          lr.photo_url,\r\n          lr.status,\r\n          lr.signed_date,\r\n          COALESCE(ds.lifetime_streams, 0) as streams,\r\n          COALESCE(ds.lifetime_earnings, 0) as earnings,\r\n          MAX(r.created_at) as last_release\r\n        FROM label_roster lr\r\n        LEFT JOIN distribution_stats ds ON ds.user_id = lr.artist_id\r\n        LEFT JOIN releases r ON r.artist_id = lr.artist_id\r\n        WHERE lr.label_id = $1\r\n        GROUP BY lr.id, lr.artist_id, lr.name, lr.email, lr.photo_url, lr.status, lr.signed_date, ds.lifetime_streams, ds.lifetime_earnings\r\n        ORDER BY ds.lifetime_earnings DESC\r\n        LIMIT 10\r\n      `, [userId]);\r\n\r\n      setRosterData(rosterResult || []);\r\n\r\n      // Fetch upcoming releases\r\n      const upcomingReleasesResult = await executeQuery(`\r\n        SELECT\r\n          r.id,\r\n          r.title,\r\n          r.type,\r\n          r.release_date,\r\n          r.cover_art_url,\r\n          p.display_name as artist_name\r\n        FROM releases r\r\n        LEFT JOIN profiles p ON p.user_id = r.artist_id\r\n        WHERE r.label_id = $1\r\n          AND r.release_date >= CURRENT_DATE\r\n        ORDER BY r.release_date ASC\r\n        LIMIT 5\r\n      `, [userId]);\r\n\r\n      setUpcomingReleases(upcomingReleasesResult || []);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (value) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(value);\r\n  };\r\n\r\n  const formatNumber = (value) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      notation: 'compact',\r\n      maximumFractionDigits: 1,\r\n    }).format(value);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto pb-20\">\r\n      {/* Breadcrumb */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2\">\r\n          <Briefcase size={14} />\r\n          <span>Business Center</span>\r\n          <ChevronRight size={14} />\r\n          <span className=\"text-gray-700 dark:text-gray-200\">Label Manager</span>\r\n        </div>\r\n        <h1 className=\"text-3xl font-bold dark:text-white flex items-center gap-3\">\r\n          <div className=\"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center text-white\">\r\n            <Building2 size={24} />\r\n          </div>\r\n          {userData?.labelName || userData?.profileName || 'Label Manager'}\r\n        </h1>\r\n      </div>\r\n\r\n      {/* Metrics Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n        {/* Total Artists */}\r\n        <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700 p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Artists</p>\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-2\">{metrics.totalArtists}</p>\r\n            </div>\r\n            <div className=\"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full\">\r\n              <Users className=\"h-6 w-6 text-blue-600 dark:text-blue-400\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Active Releases */}\r\n        <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700 p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Active Releases</p>\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-2\">{metrics.activeReleases}</p>\r\n            </div>\r\n            <div className=\"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-full\">\r\n              <Disc className=\"h-6 w-6 text-purple-600 dark:text-purple-400\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Monthly Revenue */}\r\n        <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700 p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Revenue</p>\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-2\">\r\n                {formatCurrency(metrics.monthlyRevenue)}\r\n              </p>\r\n              {metrics.revenueGrowth > 0 && (\r\n                <p className=\"text-sm text-green-600 dark:text-green-400 mt-1 flex items-center\">\r\n                  <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n                  +{metrics.revenueGrowth}%\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"bg-green-100 dark:bg-green-900/30 p-3 rounded-full\">\r\n              <DollarSign className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Total Streams */}\r\n        <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700 p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Streams</p>\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-2\">\r\n                {formatNumber(metrics.totalStreams)}\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-full\">\r\n              <Activity className=\"h-6 w-6 text-orange-600 dark:text-orange-400\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700 p-6 mb-8\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Quick Actions</h2>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <button\r\n            onClick={() => navigate('/labels/roster')}\r\n            className=\"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\r\n          >\r\n            <UserPlus className=\"h-5 w-5 mr-2 text-blue-600 dark:text-blue-400\" />\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-200\">Add Artist</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => navigate('/labels/releases')}\r\n            className=\"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\r\n          >\r\n            <Plus className=\"h-5 w-5 mr-2 text-purple-600 dark:text-purple-400\" />\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-200\">New Release</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => navigate('/labels/royalties')}\r\n            className=\"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\r\n          >\r\n            <Upload className=\"h-5 w-5 mr-2 text-green-600 dark:text-green-400\" />\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-200\">Upload Royalties</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => navigate('/labels/campaigns')}\r\n            className=\"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\r\n          >\r\n            <BarChart3 className=\"h-5 w-5 mr-2 text-orange-600 dark:text-orange-400\" />\r\n            <span className=\"font-medium text-gray-700 dark:text-gray-200\">New Campaign</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Roster Performance */}\r\n      <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700 mb-8\">\r\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Artist Management</h2>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Manage your signed artists</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              {/* View Toggle */}\r\n              <div className=\"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1\">\r\n                <button\r\n                  onClick={() => setArtistView('platform')}\r\n                  className={`px-3 py-1.5 text-sm font-medium rounded-md transition-all ${\r\n                    artistView === 'platform'\r\n                      ? 'bg-white text-gray-900 dark:bg-gray-700 dark:text-white shadow-sm'\r\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n                  }`}\r\n                >\r\n                  Platform Artists\r\n                </button>\r\n                <button\r\n                  onClick={() => setArtistView('external')}\r\n                  className={`px-3 py-1.5 text-sm font-medium rounded-md transition-all flex items-center gap-1 ${\r\n                    artistView === 'external'\r\n                      ? 'bg-white text-gray-900 dark:bg-gray-700 dark:text-white shadow-sm'\r\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n                  }`}\r\n                >\r\n                  <UserPlus size={14} />\r\n                  External Artists\r\n                </button>\r\n              </div>\r\n              <button\r\n                onClick={() => navigate('/labels/roster')}\r\n                className=\"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium text-sm flex items-center\"\r\n              >\r\n                View All\r\n                <ArrowRight className=\"h-4 w-4 ml-1\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Platform Artists Table */}\r\n        {artistView === 'platform' ? (\r\n          <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-800\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                  Artist\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                  Monthly Streams\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                  Revenue\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                  Last Release\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white dark:bg-[#2c2e36] divide-y divide-gray-200 dark:divide-gray-700\">\r\n              {rosterData.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"5\" className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                    <Users className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                    <p className=\"text-lg font-medium dark:text-white\">No artists on roster</p>\r\n                    <p className=\"text-sm mt-1\">Add your first artist to get started</p>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                rosterData.map((artist) => (\r\n                  <tr key={artist.id} className=\"hover:bg-gray-50 dark:hover:bg-white/5\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0 h-10 w-10\">\r\n                          {artist.photo_url ? (\r\n                            <img\r\n                              className=\"h-10 w-10 rounded-full\"\r\n                              src={artist.photo_url}\r\n                              alt={artist.name}\r\n                            />\r\n                          ) : (\r\n                            <div className=\"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center\">\r\n                              <Users className=\"h-6 w-6 text-gray-500 dark:text-gray-400\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{artist.name}</div>\r\n                          <div className=\"text-sm text-gray-500 dark:text-gray-400\">{artist.email}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                        artist.status === 'active'\r\n                          ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400'\r\n                          : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\r\n                      }`}>\r\n                        {artist.status || 'Active'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                      {formatNumber(artist.streams)}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\r\n                      {formatCurrency(artist.earnings)}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                      {artist.last_release\r\n                        ? new Date(artist.last_release).toLocaleDateString()\r\n                        : 'N/A'}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"p-6\">\r\n            <ExternalArtistManager user={user} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Upcoming Releases */}\r\n      <div className=\"bg-white dark:bg-[#2c2e36] rounded-2xl border dark:border-gray-700\">\r\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Upcoming Releases</h2>\r\n            <div className=\"flex items-center text-gray-500 dark:text-gray-400\">\r\n              <Calendar className=\"h-5 w-5 mr-2\" />\r\n              <span className=\"text-sm\">Release Calendar</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {upcomingReleases.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <Music className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n              <p className=\"text-lg font-medium text-gray-900 dark:text-white\">No upcoming releases</p>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Schedule your next release</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {upcomingReleases.map((release) => (\r\n                <div\r\n                  key={release.id}\r\n                  className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0 h-16 w-16 bg-gray-300 dark:bg-gray-700 rounded\">\r\n                      {release.cover_art_url ? (\r\n                        <img\r\n                          className=\"h-16 w-16 rounded object-cover\"\r\n                          src={release.cover_art_url}\r\n                          alt={release.title}\r\n                        />\r\n                      ) : (\r\n                        <div className=\"h-16 w-16 rounded flex items-center justify-center\">\r\n                          <Disc className=\"h-8 w-8 text-gray-500 dark:text-gray-400\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-white\">{release.title}</p>\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">{release.artist_name}</p>\r\n                      <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">{release.type}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {new Date(release.release_date).toLocaleDateString()}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">Release Date</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ExternalArtistManager","user","artists","setArtists","useState","loading","setLoading","showForm","setShowForm","submitting","setSubmitting","formData","setFormData","useEffect","loadArtists","data","getExternalArtists","error","handleSubmit","e","createExternalArtist","getStatusColor","status","jsxs","jsx","UserPlus","g","Fragment","Music","artist","Mail","Edit2","Trash2","LabelDashboard","userData","navigate","useNavigate","metrics","setMetrics","rosterData","setRosterData","upcomingReleases","setUpcomingReleases","artistView","setArtistView","userId","fetchDashboardData","artistsResult","releasesResult","revenueResult","executeQuery","_a","_b","_c","_d","_e","rosterResult","upcomingReleasesResult","formatCurrency","value","formatNumber","Briefcase","ChevronRight","Building2","Users","Disc","TrendingUp","DollarSign","Activity","Plus","Upload","BarChart3","ArrowRight","Calendar","release"],"mappings":"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"}