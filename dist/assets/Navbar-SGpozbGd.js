import{j as e,B as ke,_ as $,T as je,r as h,i as Ne,cd as ve,L as G,g as Q,X as U,ce as J,c8 as we,cE as Ce,cF as Se,cG as Be,c9 as Re,cH as Le,a9 as ze,bN as X,cz as Ie,R as y,cI as Me,h as Ee,t as Pe,c as Ae,c6 as Ue,cJ as _e,S as $e,cK as Fe,ae as Te,bP as Oe,cL as He,c0 as De,c1 as qe}from"./vendor-mIyI6DiM.js";import{L as We,a as Ke}from"./SeshNx-PNG cCropped white text-BVqTFh8v.js";import{U as Y,b as V}from"./chat-P1NCmzAv.js";import{A as Ge,m as Z}from"./vendor-framer-_HoVf1_M.js";import{u as Je}from"./useNotifications-42Kdrv6W.js";import"./config-VNvva2Pv.js";import"./index-BCKV8ync.js";import"./edu-V9buPGJB.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"local"}}catch{}})();try{(function(){var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new a.Error().stack;t&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[t]="de00274d-745e-4bbe-a200-b2418b76ec52",a._sentryDebugIdIdentifier="sentry-dbid-de00274d-745e-4bbe-a200-b2418b76ec52")})()}catch{}const Qe=({type:a})=>{const t={size:14},s={follow:e.jsx(ze,{...t}),like:e.jsx(Le,{...t}),comment:e.jsx(Re,{...t}),mention:e.jsx(Be,{...t}),reply:e.jsx(Se,{...t}),save:e.jsx(Ce,{...t}),booking:e.jsx(we,{...t}),booking_accepted:e.jsx(Q,{...t}),booking_declined:e.jsx(U,{...t})},n={follow:"bg-brand-blue/10 text-brand-blue dark:bg-brand-blue/20",like:"bg-red-100 text-red-500 dark:bg-red-900/30 dark:text-red-400",comment:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",mention:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400",reply:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400",save:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",booking:"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400",booking_accepted:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",booking_declined:"bg-red-100 text-red-500 dark:bg-red-900/30 dark:text-red-400"};return e.jsx("div",{className:`p-1.5 rounded-full ${n[a]||"bg-gray-100 text-gray-500"}`,children:s[a]||e.jsx($,{size:14})})},Xe=a=>{if(!a)return"";const t=a.toMillis?new Date(a.toMillis()):new Date(a),n=new Date-t,o=Math.floor(n/6e4),d=Math.floor(o/60),r=Math.floor(d/24);return o<1?"Just now":o<60?`${o}m`:d<24?`${d}h`:r<7?`${r}d`:t.toLocaleDateString()},Ye=({notification:a,onMarkAsRead:t,onDelete:s,onUserClick:n,onPostClick:o,onBookingAction:d})=>{const[r,c]=h.useState(null),g=()=>{a.read||t(a.id),a.type==="follow"&&n?n(a.fromUserId):a.postId&&o&&o(a.postId)},m=async(i,x)=>{if(i.stopPropagation(),!!a.bookingId){c(x);try{await d(a.bookingId,x,a.id),J.success(x==="accept"?"Booking accepted!":"Booking declined")}catch(k){J.error("Failed to update booking"),console.error(k)}c(null)}},p=a.type==="booking"&&a.bookingId&&!a.actionTaken;return e.jsxs(Z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`
                p-3 cursor-pointer border-b dark:border-gray-700 last:border-0 
                flex gap-3 items-start group transition-colors relative
                ${a.read?"hover:bg-gray-50 dark:hover:bg-gray-800":"bg-blue-50/50 dark:bg-blue-900/10 hover:bg-blue-50 dark:hover:bg-blue-900/20"}
            `,onClick:g,children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx(Y,{src:a.fromUserPhoto,name:a.fromUserName,size:"sm"}),e.jsx("div",{className:"absolute -bottom-1 -right-1",children:e.jsx(Qe,{type:a.type})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("p",{className:"text-sm dark:text-gray-200 leading-snug",children:[e.jsx("span",{className:"font-bold hover:text-brand-blue transition-colors",children:a.fromUserName})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:a.message})]}),e.jsx("span",{className:"text-[10px] text-gray-400 whitespace-nowrap shrink-0",children:Xe(a.timestamp)})]}),a.postPreview&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 line-clamp-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:['"',a.postPreview,'"']}),p&&a.bookingDetails&&e.jsxs("div",{className:"mt-2 bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg text-xs space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300",children:[a.bookingDetails.date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ne,{size:10})," ",a.bookingDetails.date]}),a.bookingDetails.amount&&e.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-bold",children:[e.jsx(ve,{size:10})," $",a.bookingDetails.amount]})]}),a.bookingDetails.serviceType&&e.jsx("span",{className:"inline-block bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-[10px]",children:a.bookingDetails.serviceType})]}),p&&e.jsxs("div",{className:"flex gap-2 mt-2",onClick:i=>i.stopPropagation(),children:[e.jsx("button",{onClick:i=>m(i,"accept"),disabled:r,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-xs font-bold py-1.5 px-3 rounded-lg transition flex items-center justify-center gap-1 disabled:opacity-50",children:r==="accept"?e.jsx(G,{size:12,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{size:12})," Accept"]})}),e.jsx("button",{onClick:i=>m(i,"decline"),disabled:r,className:"flex-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs font-bold py-1.5 px-3 rounded-lg transition flex items-center justify-center gap-1 disabled:opacity-50",children:r==="decline"?e.jsx(G,{size:12,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(U,{size:12})," Decline"]})})]}),!a.read&&e.jsx("div",{className:"w-2 h-2 bg-brand-blue rounded-full absolute right-3 top-1/2 -translate-y-1/2"})]}),e.jsx("button",{onClick:i=>{i.stopPropagation(),s(a.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-all text-gray-400 hover:text-red-500 shrink-0",children:e.jsx(U,{size:14})})]})};function Ve({notifications:a,unreadCount:t,loading:s,onMarkAsRead:n,onMarkAllAsRead:o,onDeleteNotification:d,onClearAll:r,onUserClick:c,onPostClick:g,onBookingAction:m,onClose:p}){return e.jsxs("div",{className:"absolute right-0 top-full mt-3 w-80 sm:w-96 bg-white dark:bg-[#2c2e36] border dark:border-gray-700 rounded-xl shadow-2xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsxs("div",{className:"p-3 px-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-[#23262f]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold dark:text-white text-sm",children:"Notifications"}),t>0&&e.jsx("span",{className:"text-xs bg-brand-blue text-white px-2 py-0.5 rounded-full font-bold animate-pulse",children:t})]}),t>0&&e.jsxs("button",{onClick:o,className:"text-xs text-brand-blue hover:text-blue-700 font-medium flex items-center gap-1 transition",children:[e.jsx(ke,{size:14}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:s?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-brand-blue border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Loading..."})]}):a.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500 flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-3",children:e.jsx($,{size:24,className:"opacity-30"})}),e.jsx("p",{className:"text-sm font-medium dark:text-gray-400",children:"All caught up!"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No new notifications"})]}):e.jsx(Ge,{mode:"popLayout",children:a.map(i=>e.jsx(Ye,{notification:i,onMarkAsRead:n,onDelete:d,onUserClick:c,onPostClick:g,onBookingAction:m},i.id))})}),a.length>0&&e.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-[#23262f] border-t dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("button",{onClick:r,className:"text-xs text-gray-400 hover:text-red-500 font-medium flex items-center gap-1 transition px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(je,{size:12}),"Clear all"]}),e.jsx("button",{onClick:p,className:"text-xs text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:"Close"})]})]})}function Ze({count:a}){return a===0?null:e.jsx(Z.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] bg-red-500 rounded-full text-[10px] text-white font-bold flex items-center justify-center border-2 border-white dark:border-dark-card",children:a>99?"99+":a})}const _={"/dashboard":[{label:"dashboard",path:"/dashboard"}],"/feed":[{label:"dashboard",path:"/dashboard"},{label:"feed",path:"/feed"}],"/feed/discover":[{label:"dashboard",path:"/dashboard"},{label:"feed",path:"/feed"},{label:"discover"}],"/messages":[{label:"dashboard",path:"/dashboard"},{label:"messages",path:"/messages"}],"/bookings":[{label:"dashboard",path:"/dashboard"},{label:"bookings",path:"/bookings"}],"/bookings/my-bookings":[{label:"dashboard",path:"/dashboard"},{label:"bookings",path:"/bookings"},{label:"myBookings"}],"/bookings/calendar":[{label:"dashboard",path:"/dashboard"},{label:"bookings",path:"/bookings"},{label:"calendar"}],"/bookings/find-talent":[{label:"dashboard",path:"/dashboard"},{label:"bookings",path:"/bookings"},{label:"findTalent"}],"/bookings/broadcast-list":[{label:"dashboard",path:"/dashboard"},{label:"bookings",path:"/bookings"},{label:"broadcastList"}],"/marketplace":[{label:"dashboard",path:"/dashboard"},{label:"marketplace",path:"/marketplace"}],"/tech":[{label:"dashboard",path:"/dashboard"},{label:"techServices",path:"/tech"}],"/payments":[{label:"dashboard",path:"/dashboard"},{label:"payments",path:"/payments"}],"/profile":[{label:"dashboard",path:"/dashboard"},{label:"profile",path:"/profile"}],"/business-center":[{label:"dashboard",path:"/dashboard"},{label:"businessCenter",path:"/business-center"}],"/studio-ops":[{label:"dashboard",path:"/dashboard"},{label:"studioOps",path:"/studio-ops"}],"/labels":[{label:"dashboard",path:"/dashboard"},{label:"labels",path:"/labels"}],"/labels/dashboard":[{label:"dashboard",path:"/dashboard"},{label:"labels",path:"/labels"},{label:"dashboard"}],"/labels/contracts":[{label:"dashboard",path:"/dashboard"},{label:"labels",path:"/labels"},{label:"contracts"}],"/legal":[{label:"dashboard",path:"/dashboard"},{label:"legal",path:"/legal"}],"/edu-student":[{label:"dashboard",path:"/dashboard"},{label:"student",path:"/edu-student"}],"/edu-intern":[{label:"dashboard",path:"/dashboard"},{label:"intern",path:"/edu-intern"}],"/edu-overview":[{label:"dashboard",path:"/dashboard"},{label:"eduOverview",path:"/edu-overview"}],"/edu-admin":[{label:"dashboard",path:"/dashboard"},{label:"eduAdmin",path:"/edu-admin"}]},ea={"/profile/:userId":[{label:"dashboard",path:"/dashboard"},{label:"profile",path:"/profile"},{label:"user",isDynamic:!0}],"/studio/:studioId/portal":[{label:"dashboard",path:"/dashboard"},{label:"studioOps",path:"/studio-ops"},{label:"studio",isDynamic:!0},{label:"portal"}],"/booking/:bookingId":[{label:"dashboard",path:"/dashboard"},{label:"bookings",path:"/bookings"},{label:"booking",isDynamic:!0}],"/messages/:conversationId":[{label:"dashboard",path:"/dashboard"},{label:"messages",path:"/messages"},{label:"conversation",isDynamic:!0}],"/post/:postId":[{label:"dashboard",path:"/dashboard"},{label:"feed",path:"/feed"},{label:"post",isDynamic:!0}]},ee={"/":"/dashboard","/home":"/dashboard"};function aa(a,t={}){const s=ee[a]||a;if(_[s])return _[s];for(const[n,o]of Object.entries(ea)){const d=ta(s,n,t);if(d)return o.map(r=>({...r,label:r.isDynamic?ra(r.label,d):r.label}))}return sa(s)}function ta(a,t,s){const n=t.split("/"),o=a.split("/");if(n.length!==o.length)return null;const d={};for(let r=0;r<n.length;r++){const c=n[r],g=o[r];if(c.startsWith(":")){const m=c.substring(1);d[m]=g}else if(c!==g)return null}return{...d,...s}}function ra(a,t){return t[a]?t[a]:a}function sa(a){const t=a.split("/").filter(Boolean),s=[];let n="";for(let o=0;o<t.length;o++){const d=t[o];n+="/"+d;const r=d.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");s.push({label:r.toLowerCase(),path:o===t.length-1?null:n})}return s}function na(a){const t=ee[a]||a;return!!_[t]}function F(){const a=X(),t=Ie(),{t:s}=V(),n=h.useMemo(()=>aa(a.pathname,t).map(i=>({...i,label:s(i.label)})),[a.pathname,t,s]),o=h.useMemo(()=>a.pathname,[a.pathname]),d=h.useMemo(()=>n.length>0?n[n.length-1].label:"",[n]),r=h.useMemo(()=>n.length>1&&n[n.length-2].path||null,[n]),c=h.useMemo(()=>na(a.pathname),[a.pathname]),g=h.useMemo(()=>n.length>0&&n[0].path||"/",[n]),m=h.useMemo(()=>a.pathname==="/"||a.pathname==="/dashboard",[a.pathname]);return{breadcrumbs:n,currentPath:o,currentLabel:d,parentPath:r,rootPath:g,hasConfiguredBreadcrumbs:c,isRoot:m,hasParent:!!r,canGoBack:n.length>1,goBackPath:r}}function w(...a){return Pe(Ae(a))}const I=y.forwardRef(({className:a,...t},s)=>e.jsx("nav",{ref:s,"aria-label":"Breadcrumb",className:w("flex items-center text-sm",a),...t}));I.displayName="Breadcrumb";const M=y.forwardRef(({className:a,...t},s)=>e.jsx("ol",{ref:s,className:w("flex items-center gap-1.5 flex-wrap",a),...t}));M.displayName="BreadcrumbList";const N=y.forwardRef(({className:a,...t},s)=>e.jsx("li",{ref:s,className:w("flex items-center gap-1.5",a),...t}));N.displayName="BreadcrumbItem";const S=y.forwardRef(({className:a,to:t,children:s,...n},o)=>e.jsx(Me,{ref:o,to:t,className:w("transition-colors hover:text-brand-blue dark:hover:text-brand-blue/80","text-gray-600 dark:text-gray-400 font-medium",a),...n,children:s}));S.displayName="BreadcrumbLink";const E=y.forwardRef(({className:a,...t},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:w("font-normal text-gray-900 dark:text-white",a),...t}));E.displayName="BreadcrumbPage";const v=({children:a,className:t,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:w("flex items-center gap-1.5",t),...s,children:a||e.jsx(Ee,{className:"h-4 w-4"})});v.displayName="BreadcrumbSeparator";const ae=y.forwardRef(({className:a,showHome:t=!1,homeLabel:s="dashboard",homePath:n="/dashboard",separator:o,...d},r)=>{const{breadcrumbs:c,isRoot:g}=F();if(g)return null;const m=t?[{label:s,path:n},...c]:c,p=o!==void 0?()=>e.jsx(v,{children:o}):v;return e.jsx(I,{ref:r,className:a,...d,children:e.jsx(M,{children:m.map((i,x)=>{const k=x===m.length-1,C=i.path!==null&&i.path!==void 0;return e.jsxs(y.Fragment,{children:[e.jsx(N,{children:k||!C?e.jsx(E,{children:i.label}):e.jsx(S,{to:i.path,children:i.label})}),!k&&e.jsx(p,{})]},x)})})})});ae.displayName="BreadcrumbNav";const la=y.forwardRef(({className:a,...t},s)=>{const{currentLabel:n,parentPath:o,hasParent:d,breadcrumbs:r}=F();if(!d)return null;const c=r.length>1?r[r.length-2].label:"dashboard";return e.jsx(I,{ref:s,className:a,...t,children:e.jsxs(M,{children:[e.jsx(N,{children:e.jsx(S,{to:o,children:c})}),e.jsx(v,{}),e.jsx(N,{children:e.jsx(E,{children:n})})]})})});la.displayName="BreadcrumbNavCompact";const oa=y.forwardRef(({className:a,homePath:t="/dashboard",...s},n)=>{const{breadcrumbs:o,isRoot:d}=F();return d?null:e.jsx(I,{ref:n,className:a,...s,children:e.jsxs(M,{children:[e.jsx(N,{children:e.jsx(S,{to:t,"aria-label":"Home",children:e.jsx(Ue,{className:"h-4 w-4"})})}),e.jsx(v,{}),o.map((r,c)=>{const g=c===o.length-1,m=r.path!==null&&r.path!==void 0;return e.jsxs(y.Fragment,{children:[e.jsx(N,{children:g||!m?e.jsx(E,{children:r.label}):e.jsx(S,{to:r.path,children:r.label})}),!g&&e.jsx(v,{})]},c)})]})})});oa.displayName="BreadcrumbNavWithHome";function ua({user:a,userData:t,subProfiles:s,darkMode:n,toggleTheme:o,activeTab:d,setActiveTab:r,onMenuClick:c,onRoleSwitch:g,openPublicProfile:m,showBreadcrumbs:p=!1}){var W;X();const[i,x]=h.useState(!1),[k,C]=h.useState(!1),[T,P]=h.useState(!1),[te,re]=h.useState(""),B=h.useRef(null),R=h.useRef(null),O=h.useRef(null),{t:se}=V(),{notifications:ne,unreadCount:L,loading:le,markAsRead:oe,markAllAsRead:de,deleteNotification:ie,clearAll:ce}=Je((a==null?void 0:a.id)||(a==null?void 0:a.uid)),j=(t==null?void 0:t.activeProfileRole)||((W=t==null?void 0:t.accountTypes)==null?void 0:W[0])||"User",be=(l=>{var b;if(!l||l==="User"||l==="Fan")return l||"User";if(l==="Talent"){const u=s==null?void 0:s.Talent,f=((b=u==null?void 0:u.profile_data)==null?void 0:b.talentSubRole)||(u==null?void 0:u.talentSubRole);if(f&&f!=="")return f}return l})(j),A=(t==null?void 0:t.accountTypes)||[],he=["Student","EDUStaff","Intern","EDUAdmin"],ge=A.some(l=>he.includes(l)),H=d.startsWith("edu"),D=l=>{if(!l||l==="Main"||l==="Fan"||l==="User")return(t==null?void 0:t.effectiveDisplayName)||(t==null?void 0:t.firstName)||"User";const b=s==null?void 0:s[l];return(b==null?void 0:b.displayName)||(t==null?void 0:t.effectiveDisplayName)||(t==null?void 0:t.firstName)||"User"},q=D(j),me=()=>{r(j==="Student"?"edu-student":j==="Intern"?"edu-intern":"edu-overview")};h.useEffect(()=>{if(j){P(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{P(!0)})});const l=setTimeout(()=>P(!1),600);return()=>clearTimeout(l)}},[j]),h.useEffect(()=>{function l(b){B.current&&!B.current.contains(b.target)&&x(!1),R.current&&!R.current.contains(b.target)&&C(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[B,R]);const xe=l=>{x(!1),m&&m(l)},pe=l=>{x(!1),r("feed")},ue=async(l,b,u)=>{try{if(!supabase)throw new Error("Supabase not initialized");const{error:f}=await supabase.from("bookings").update({status:b==="accept"?"Confirmed":"Declined",responded_at:new Date().toISOString()}).eq("id",l);if(f)throw f;if(u&&(a!=null&&a.id||a!=null&&a.uid)){const z=(a==null?void 0:a.id)||(a==null?void 0:a.uid),{error:K}=await supabase.from("notifications").update({action_taken:b,read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("user_id",z);if(K)throw K}}catch(f){throw console.error("Booking action failed:",f),f}},fe=l=>{g&&g(l),C(!1)},ye=l=>{l.preventDefault(),x(!1),r("feed")};return h.useEffect(()=>{const l=b=>{var z;(navigator.platform.toUpperCase().indexOf("MAC")>=0?b.metaKey:b.ctrlKey)&&b.key.toLowerCase()==="k"&&(b.preventDefault(),(z=O.current)==null||z.focus())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed top-0 bottom-0 w-full pointer-events-none z-[9999] 
          bg-gradient-to-r from-transparent via-white/30 dark:via-white/10 to-transparent
          ${T?"left-[-100%] transition-all duration-500 ease-out":"left-[100%] transition-none duration-0"}
        `}),e.jsxs("nav",{className:"h-16 bg-white dark:bg-dark-card border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 shrink-0 z-20 sticky top-0",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-[180px]",children:[e.jsx("button",{onClick:c,className:"p-2 -ml-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 lg:hidden","aria-label":"Open navigation menu","aria-expanded":"false",children:e.jsx(_e,{size:24,"aria-hidden":"true"})}),e.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("dashboard"),children:e.jsx("img",{src:n?We:Ke,alt:"SeshNx Logo",className:"h-8 w-auto object-contain transition-opacity duration-300"})})]}),e.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center max-w-xl px-4 gap-1",children:[p&&e.jsx("div",{className:"w-full flex justify-start",children:e.jsx(ae,{className:"text-xs"})}),e.jsx("form",{onSubmit:ye,className:"w-full",children:e.jsxs("div",{className:"flex items-center gap-2 w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full px-3 py-1.5 focus-within:ring-2 focus-within:ring-brand-blue/70",children:[e.jsx($e,{size:16,className:"text-gray-400"}),e.jsx("input",{ref:O,value:te,onChange:l=>re(l.target.value),placeholder:se("searchPlaceholder"),className:"flex-1 bg-transparent text-sm text-gray-800 dark:text-gray-100 placeholder:text-gray-400 focus:outline-none"}),e.jsx("button",{type:"submit",className:"text-xs font-semibold text-white bg-brand-blue hover:bg-blue-600 rounded-full px-3 py-1 transition-colors",children:"Search"})]})})]}),e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[ge&&e.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>r("dashboard"),className:`px-3 py-1.5 rounded-md text-xs font-bold flex items-center gap-2 transition-all ${H?"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200":"bg-white dark:bg-gray-600 shadow-sm text-brand-blue dark:text-white"}`,children:[e.jsx(Fe,{size:14})," Studio"]}),e.jsxs("button",{onClick:me,className:`px-3 py-1.5 rounded-md text-xs font-bold flex items-center gap-2 transition-all ${H?"bg-white dark:bg-gray-600 shadow-sm text-indigo-600 dark:text-white":"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[e.jsx(Te,{size:14})," Education"]})]}),A.length>1&&e.jsxs("div",{className:"relative hidden sm:flex items-center gap-3",ref:R,children:[e.jsxs("button",{onClick:()=>C(!k),className:"group flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 text-xs font-bold transition border border-gray-200 dark:border-gray-700",children:[e.jsx(Oe,{size:12,className:`text-brand-blue shrink-0 transition-transform ${T?"rotate-180 duration-500":""}`}),e.jsx("span",{children:be}),e.jsx(He,{size:12,className:`shrink-0 transition-transform ${k?"rotate-180":""}`})]}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:"Posting as"}),e.jsx("span",{className:"text-xs font-bold dark:text-white truncate max-w-[150px]",children:q})]}),k&&e.jsxs("div",{className:"absolute left-0 top-full mt-2 w-56 bg-white dark:bg-[#2c2e36] border dark:border-gray-700 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-1 duration-200",children:[e.jsx("div",{className:"p-2 border-b dark:border-gray-700 bg-gray-50 dark:bg-[#23262f]",children:e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider pl-2",children:"Switch Profile Context"})}),e.jsx("div",{className:"p-1",children:A.map(l=>{const b=D(l);return e.jsxs("button",{onClick:()=>fe(l),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition flex items-center justify-between ${j===l?"bg-blue-50 dark:bg-blue-900/20 text-brand-blue":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:b}),e.jsx("span",{className:"text-[10px] opacity-70 font-normal uppercase",children:l})]}),j===l&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-blue"})]},l)})})]})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300","aria-label":n?"Switch to light mode":"Switch to dark mode",title:n?"Switch to light mode":"Switch to dark mode",children:n?e.jsx(De,{size:20,"aria-hidden":"true"}):e.jsx(qe,{size:20,"aria-hidden":"true"})}),e.jsxs("div",{className:"relative",ref:B,children:[e.jsxs("button",{className:`relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition ${i?"bg-gray-100 dark:bg-gray-800 text-brand-blue":""}`,onClick:()=>x(!i),"aria-label":`Notifications${L>0?` (${L} unread)`:""}`,"aria-expanded":i,children:[e.jsx($,{size:20,"aria-hidden":"true"}),e.jsx(Ze,{count:L})]}),i&&e.jsx(Ve,{notifications:ne,unreadCount:L,loading:le,onMarkAsRead:oe,onMarkAllAsRead:de,onDeleteNotification:ie,onClearAll:ce,onUserClick:xe,onPostClick:pe,onBookingAction:ue,onClose:()=>x(!1)})]}),e.jsx(Y,{src:t==null?void 0:t.photoURL,name:q,size:"sm",className:"border-2 border-transparent hover:border-brand-blue transition",onClick:()=>r("profile")})]})]})]})}export{ua as default};
