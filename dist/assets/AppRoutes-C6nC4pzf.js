const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DebugReport-BlcsVpeG.js","assets/vendor-DpIp-Nyk.js","assets/chat-DJYVPNtG.js","assets/vendor-framer-RaTCtWVJ.js","assets/ProfileManager-Df8yA26y.js","assets/edu-B_3o1btY.js","assets/config-yUl3KxdD.js","assets/SettingsTab-DQKFXYgu.js","assets/Inputs-Cwzw3mWK.js","assets/EquipmentAutocomplete-C6-Y5LB0.js","assets/useEquipmentDatabase-CUrlwig-.js"])))=>i.map(i=>d[i]);
import{_ as h}from"./edu-B_3o1btY.js";import{j as e,bR as p,bS as n,r as x,L as o,bH as m,bI as f}from"./vendor-DpIp-Nyk.js";import{s as d}from"./chat-DJYVPNtG.js";import"./config-yUl3KxdD.js";import"./vendor-framer-RaTCtWVJ.js";const v=x.lazy(()=>h(()=>import("./DebugReport-BlcsVpeG.js"),__vite__mapDeps([0,1,2,3])));x.lazy(()=>h(()=>import("./ProfileManager-Df8yA26y.js"),__vite__mapDeps([4,1,2,3,5,6,7,8,9,10])));const _=x.lazy(()=>h(()=>import("./SettingsTab-DQKFXYgu.js"),__vite__mapDeps([7,1,2,3,6])));function i({children:t,user:a,loading:s}){const j=m();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(o,{className:"animate-spin text-brand-blue",size:32})}):(x.useEffect(()=>{!a&&!s&&j("/login",{replace:!0})},[a,s,j]),a?t:null)}function c({to:t,replace:a=!0}){const s=m(),j=f();return x.useEffect(()=>{j.pathname!==t&&s(t,{replace:a})},[t,a,s,j.pathname]),null}function L({user:t,userData:a,loading:s,darkMode:j,toggleTheme:b,handleLogout:u}){return e.jsxs(p,{children:[e.jsx(n,{path:"/",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/feed",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/messages",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/bookings",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/marketplace",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/tech",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/payments",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/profile",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/business-center",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/legal",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/edu-student",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/edu-intern",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/edu-overview",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/edu-admin",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/studio-ops",element:e.jsx(i,{user:t,loading:s,children:e.jsx("div",{})})}),e.jsx(n,{path:"/debug-report",element:e.jsx(i,{user:t,loading:s,children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(o,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(v,{user:t,userData:a})})})}),e.jsx(n,{path:"/settings",element:e.jsx(i,{user:t,loading:s,children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(o,{className:"animate-spin text-brand-blue",size:32})}),children:e.jsx(_,{user:t,userData:a,onUpdate:async r=>{if(t!=null&&t.id&&d)try{const{error:l}=await d.from("profiles").update({settings:r,updated_at:new Date().toISOString()}).eq("id",t.id);l&&console.error("Settings save failed:",l)}catch(l){console.error("Settings save error:",l)}},onRoleSwitch:async r=>{if(t!=null&&t.id&&d)try{await d.from("profiles").update({active_role:r,updated_at:new Date().toISOString()}).eq("id",t.id),console.log("Role switched to:",r)}catch(l){console.error("Role switch failed:",l)}}})})})}),e.jsx(n,{path:"/dashboard",element:e.jsx(c,{to:"/"})}),e.jsx(n,{path:"/home",element:e.jsx(c,{to:"/"})}),e.jsx(n,{path:"/social",element:e.jsx(c,{to:"/feed"})}),e.jsx(n,{path:"/chat",element:e.jsx(c,{to:"/messages"})}),e.jsx(n,{path:"/billing",element:e.jsx(c,{to:"/payments"})}),e.jsx(n,{path:"*",element:e.jsx(c,{to:"/"})})]})}export{L as default};
